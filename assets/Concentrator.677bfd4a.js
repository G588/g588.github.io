var E=Object.defineProperty;var m=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var v=(o,e,a)=>e in o?E(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,g=(o,e)=>{for(var a in e||(e={}))F.call(e,a)&&v(o,a,e[a]);if(m)for(var a of m(e))S.call(e,a)&&v(o,a,e[a]);return o};import{M as h}from"./MTable.76dd600a.js";import{F as x,G as w,H as z,I as A}from"./index.c7d67714.js";import{_ as L,a as M,r as p,l as R,m as T,o as q,i as P,h as I,f as N,g as n,J as U,E as i}from"./index.349d9e8e.js";import"./MIcon.6c4988d5.js";const V={class:"concentratorManager page-container"},G={class:"tableContainer"},H=M({setup(o){let e=p(!1);const a=R({pageInfo:{},columns:[{prop:"id",key:"id",label:"ID"},{prop:"name",key:"name",label:"\u96C6\u4E2D\u5668\u540D\u79F0"},{prop:"type_id",key:"type_id",label:"\u96C6\u4E2D\u5668\u7684\u5206\u7C7B"}],concentratorList:[],dialogConfig:[{type:"text",label:"\u96C6\u4E2D\u5668\u540D\u79F0",key:"name"}],dialogData:{}}),r=p(6),l=p(1),c=async(u,s)=>{let t=await x(1,3);console.log(t),t.data.code===200&&(a.concentratorList=t.data.data)};c(l.value,r.value);const f=async({rowIndex:u,tableData:s,opera:t,rowInfo:d})=>{switch(t){case"add":await C(),a.dialogData={},e.value=!0;break;case"edit":a.dialogData=g({},d),e.value=!0;break;case"show":a.dialogData=g({},d),e.value=!0;break;case"delete":U.confirm(`\u4F60\u786E\u5B9A\u8981\u5220\u9664${s[u].name}\u96C6\u4E2D\u5668\u5417?`,"\u8B66\u544A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning",center:!0}).then(async()=>{await w(d.id),i({type:"success",message:"\u5220\u9664\u6210\u529F"})}).catch(J=>{});break}},_=async u=>{switch(u.operation){case"add":(await A(u.data)).data.code===200?(i({type:"success",message:"\u65B0\u589E\u6210\u529F"}),e.value=!1,c(l.value,r.value)):i({type:"error",message:"\u6DFB\u52A0\u5931\u8D25"});break;case"edit":(await z(u.data)).data.code===200?(i({type:"success",message:"\u4FEE\u6539\u6210\u529F"}),e.value=!1,c(l.value,r.value)):i({type:"error",message:"\u6DFB\u52A0\u5931\u8D25"});break}e.value=!1},C=async u=>{},{pageInfo:y,columns:D,concentratorList:b,dialogConfig:k,dialogData:B}=T(a);return(u,s)=>(q(),P("div",V,[I("div",G,[N(h,{columns:n(D),"table-data":n(b),pagination:{total:n(y).totalCount},pageSize:r.value,"onUpdate:pageSize":s[0]||(s[0]=t=>r.value=t),currentPage:l.value,"onUpdate:currentPage":s[1]||(s[1]=t=>l.value=t),dialogConfig:n(k),"dialog-status":n(e),"dialog-data":n(B),tableTitle:"\u96C6\u4E2D\u5668",onTbDialogSureClick:_,onOperaButtonClick:f,onSelectChange:C,onCurrentPageChange:c,onPageSizeChange:c},null,8,["columns","table-data","pagination","pageSize","currentPage","dialogConfig","dialog-status","dialog-data"])])]))}});var W=L(H,[["__scopeId","data-v-8bad4c58"]]);export{W as default};
