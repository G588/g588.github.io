var T=Object.defineProperty;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var F=(l,a,t)=>a in l?T(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,v=(l,a)=>{for(var t in a||(a={}))L.call(a,t)&&F(l,t,a[t]);if(k)for(var t of k(a))M.call(a,t)&&F(l,t,a[t]);return l};import{M as q}from"./MTable.76dd600a.js";import{L as z,M as P,N as R,O as N}from"./index.c7d67714.js";import{_ as O,a as V,r as y,l as U,m as I,o as i,i as d,h as C,f as J,g as c,w as m,J as $,E as p,q as g,t as w}from"./index.349d9e8e.js";import"./MIcon.6c4988d5.js";const j={class:"alarmManager page-container"},G={class:"tableContainer"},H={key:0},K={key:1},Q={key:2},W={key:0},X={key:1},Y=V({setup(l){let a=y(!1);const t=U({pageInfo:{},columns:[{prop:"name",key:"name",label:"\u62A5\u8B66\u540D\u79F0"},{prop:"value_up",key:"value_up",label:"\u6700\u9AD8\u503C",isCustom:!0},{prop:"value_down",key:"value_down",label:"\u6700\u4F4E\u503C",isCustom:!0}],alarmList:[],dialogConfig:[{type:"text",label:"\u62A5\u8B66\u540D\u79F0",key:"name"},{type:"number",label:"\u6700\u9AD8\u503C",key:"value_up"},{type:"number",label:"\u6700\u4F4E\u503C",key:"value_down"}],dialogData:{}}),o=y(6),n=y(1),r=async(u,s)=>{let e=await z(u,s);console.log(e),e.data.code===200&&(t.alarmList=e.data.data)};r(n.value,o.value);const B=async({rowIndex:u,tableData:s,opera:e,rowInfo:_})=>{switch(e){case"add":await f(),t.dialogData={},a.value=!0;break;case"edit":t.dialogData=v({},_),a.value=!0;break;case"show":t.dialogData=v({},_),a.value=!0;break;case"delete":$.confirm(`\u4F60\u786E\u5B9A\u8981\u5220\u9664${s[u].name}\u4FE1\u606F\u5417?`,"\u8B66\u544A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning",center:!0}).then(async()=>{let b=await P({id:_.id});console.log("125\u884C",b),p({type:"success",message:"\u5220\u9664\u6210\u529F\uFF01"}),r(n.value,o.value)}).catch(b=>{});break}},D=async u=>{switch(u.operation){case"add":(await N(u.data)).status===200?(p({type:"success",message:"\u65B0\u589E\u6210\u529F"}),a.value=!1,r(n.value,o.value)):p({type:"error",message:"\u6DFB\u52A0\u5931\u8D25"});break;case"edit":(await R(u.data)).status===200?(p({type:"success",message:"\u66F4\u65B0\u6210\u529F"}),a.value=!1,r(n.value,o.value)):p({type:"error",message:"\u6DFB\u52A0\u5931\u8D25"});break}a.value=!1},f=async u=>{},{pageInfo:h,columns:A,alarmList:x,dialogConfig:E,dialogData:S}=I(t);return(u,s)=>(i(),d("div",j,[C("div",G,[J(q,{columns:c(A),"table-data":c(x),pagination:{total:c(h).totalCount},pageSize:o.value,"onUpdate:pageSize":s[0]||(s[0]=e=>o.value=e),currentPage:n.value,"onUpdate:currentPage":s[1]||(s[1]=e=>n.value=e),dialogConfig:c(E),"dialog-status":c(a),"dialog-data":c(S),"opera-list":[{btnText:"\u7F16\u8F91",opera:"edit",btnType:"default",renderPostation:"TableOperaCell",bgColor:"#FB808B",color:"#F0F0F0"}],tableTitle:"\u62A5\u8B66",onTbDialogSureClick:D,onOperaButtonClick:B,onSelectChange:f,onCurrentPageChange:r,onPageSizeChange:r},{type:m(e=>[e.row.type==1?(i(),d("span",H,"\u7535\u6D41")):g("",!0),e.row.type==2?(i(),d("span",K,"\u7535\u538B")):g("",!0),e.row.type==3?(i(),d("span",Q,"\u529F\u7387")):g("",!0)]),on:m(e=>[e.row.on==1?(i(),d("span",W,"\u662F")):g("",!0),e.row.on==2?(i(),d("span",X,"\u5426")):g("",!0)]),value_up:m(e=>[C("span",null,w(e.row.value_up),1)]),value_down:m(e=>[C("span",null,w(e.row.value_down),1)]),_:1},8,["columns","table-data","pagination","pageSize","currentPage","dialogConfig","dialog-status","dialog-data"])])]))}});var se=O(Y,[["__scopeId","data-v-7ee39158"]]);export{se as default};
