import{L as kr,_ as Va,o as Ga,i as qa}from"./index.349d9e8e.js";var pr={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,s){(function(r,u){u(s)})(kr,function(r){function u(e){for(var o,a,l=1,_=arguments.length;l<_;l++)for(o in a=arguments[l])e[o]=a[o];return e}var d=Object.create||function(e){return p.prototype=e,new p};function p(){}function v(e,o){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var l=a.call(arguments,2);return function(){return e.apply(o,l.length?l.concat(a.call(arguments)):arguments)}}var b=0;function w(e){return"_leaflet_id"in e||(e._leaflet_id=++b),e._leaflet_id}function C(e,o,a){var l,_,g=function(){l=!1,_&&(x.apply(a,_),_=!1)},x=function(){l?_=arguments:(e.apply(a,arguments),setTimeout(g,o),l=!0)};return x}function E(e,_,a){var l=_[1],_=_[0],g=l-_;return e===l&&a?e:((e-_)%g+g)%g+_}function k(){return!1}function N(e,o){return o===!1?e:(o=Math.pow(10,o===void 0?6:o),Math.round(e*o)/o)}function Yt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Bt(e){return Yt(e).split(/\s+/)}function W(e,o){for(var a in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?d(e.options):{}),o)e.options[a]=o[a];return e.options}function ai(e,o,a){var l,_=[];for(l in e)_.push(encodeURIComponent(a?l.toUpperCase():l)+"="+encodeURIComponent(e[l]));return(o&&o.indexOf("?")!==-1?"&":"?")+_.join("&")}var Ve=/\{ *([\w_ -]+) *\}/g;function Ge(e,o){return e.replace(Ve,function(a,l){if(l=o[l],l===void 0)throw new Error("No value provided for variable "+a);return l=typeof l=="function"?l(o):l})}var Ct=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ne(e,o){for(var a=0;a<e.length;a++)if(e[a]===o)return a;return-1}var vi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var be=0;function gt(e){var o=+new Date,a=Math.max(0,16-(o-be));return be=o+a,window.setTimeout(e,a)}var yi=window.requestAnimationFrame||oe("RequestAnimationFrame")||gt,qe=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ct(e,o,a){if(!a||yi!==gt)return yi.call(window,v(e,o));e.call(o)}function pt(e){e&&qe.call(window,e)}var Ke={__proto__:null,extend:u,create:d,bind:v,get lastId(){return b},stamp:w,throttle:C,wrapNum:E,falseFn:k,formatNum:N,trim:Yt,splitWords:Bt,setOptions:W,getParamString:ai,template:Ge,isArray:Ct,indexOf:ne,emptyImageUrl:vi,requestFn:yi,cancelFn:qe,requestAnimFrame:ct,cancelAnimFrame:pt};function Zt(){}Zt.extend=function(e){function o(){W(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var a,l=o.__super__=this.prototype,_=d(l);for(a in(_.constructor=o).prototype=_,this)Object.prototype.hasOwnProperty.call(this,a)&&a!=="prototype"&&a!=="__super__"&&(o[a]=this[a]);if(e.statics&&u(o,e.statics),e.includes){var g=e.includes;if(typeof L!="undefined"&&L&&L.Mixin){g=Ct(g)?g:[g];for(var x=0;x<g.length;x++)g[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}u.apply(null,[_].concat(e.includes))}return u(_,e),delete _.statics,delete _.includes,_.options&&(_.options=l.options?d(l.options):{},u(_.options,e.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,z=_._initHooks.length;P<z;P++)_._initHooks[P].call(this)}},o},Zt.include=function(e){var o=this.prototype.options;return u(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},Zt.mergeOptions=function(e){return u(this.prototype.options,e),this},Zt.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};var Xt={on:function(e,o,a){if(typeof e=="object")for(var l in e)this._on(l,e[l],o);else for(var _=0,g=(e=Bt(e)).length;_<g;_++)this._on(e[_],o,a);return this},off:function(e,o,a){if(arguments.length)if(typeof e=="object")for(var l in e)this._off(l,e[l],o);else{e=Bt(e);for(var _=arguments.length===1,g=0,x=e.length;g<x;g++)_?this._off(e[g]):this._off(e[g],o,a)}else delete this._events;return this},_on:function(e,o,a){if(typeof o!="function")console.warn("wrong listener type: "+typeof o);else{this._events=this._events||{};for(var l=this._events[e],e=(l||(this._events[e]=l=[]),{fn:o,ctx:a=a===this?void 0:a}),_=l,g=0,x=_.length;g<x;g++)if(_[g].fn===o&&_[g].ctx===a)return;_.push(e)}},_off:function(e,o,a){var l,_,g;if(this._events&&(l=this._events[e]))if(arguments.length===1){if(this._firingCount)for(_=0,g=l.length;_<g;_++)l[_].fn=k;delete this._events[e]}else if(a===this&&(a=void 0),typeof o!="function")console.warn("wrong listener type: "+typeof o);else{for(_=0,g=l.length;_<g;_++){var x=l[_];if(x.ctx===a&&x.fn===o)return this._firingCount&&(x.fn=k,this._events[e]=l=l.slice()),void l.splice(_,1)}console.warn("listener not found")}},fire:function(e,o,a){if(!this.listens(e,a))return this;var l=u({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var _=this._events[e];if(_){this._firingCount=this._firingCount+1||1;for(var g=0,x=_.length;g<x;g++){var P=_[g];P.fn.call(P.ctx||this,l)}this._firingCount--}}return a&&this._propagateEvent(l),this},listens:function(e,o){typeof e!="string"&&console.warn('"string" type argument expected');var a=this._events&&this._events[e];if(a&&a.length)return!0;if(o){for(var l in this._eventParents)if(this._eventParents[l].listens(e,o))return!0}return!1},once:function(e,o,a){if(typeof e=="object"){for(var l in e)this.once(l,e[l],o);return this}var _=v(function(){this.off(e,o,a).off(e,_,a)},this);return this.on(e,o,a).on(e,_,a)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[w(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[w(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,u({layer:e.target,propagatedFrom:e.target},e),!0)}},Ft=(Xt.addEventListener=Xt.on,Xt.removeEventListener=Xt.clearAllEventListeners=Xt.off,Xt.addOneTimeEventListener=Xt.once,Xt.fireEvent=Xt.fire,Xt.hasEventListeners=Xt.listens,Zt.extend(Xt));function U(e,o,a){this.x=a?Math.round(e):e,this.y=a?Math.round(o):o}var j=Math.trunc||function(e){return 0<e?Math.floor(e):Math.ceil(e)};function $(e,o,a){return e instanceof U?e:Ct(e)?new U(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new U(e.x,e.y):new U(e,o,a)}function O(e,o){if(e)for(var a=o?[e,o]:e,l=0,_=a.length;l<_;l++)this.extend(a[l])}function nt(e,o){return!e||e instanceof O?e:new O(e,o)}function vt(e,o){if(e)for(var a=o?[e,o]:e,l=0,_=a.length;l<_;l++)this.extend(a[l])}function ht(e,o){return e instanceof vt?e:new vt(e,o)}function V(e,o,a){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,a!==void 0&&(this.alt=+a)}function F(e,o,a){return e instanceof V?e:Ct(e)&&typeof e[0]!="object"?e.length===3?new V(e[0],e[1],e[2]):e.length===2?new V(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new V(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new V(e,o,a)}U.prototype={clone:function(){return new U(this.x,this.y)},add:function(e){return this.clone()._add($(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract($(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new U(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new U(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=j(this.x),this.y=j(this.y),this},distanceTo:function(a){var o=(a=$(a)).x-this.x,a=a.y-this.y;return Math.sqrt(o*o+a*a)},equals:function(e){return(e=$(e)).x===this.x&&e.y===this.y},contains:function(e){return e=$(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}},O.prototype={extend:function(e){return e=$(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new U(this.min.x,this.max.y)},getTopRight:function(){return new U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,a;return(e=(typeof e[0]=="number"||e instanceof U?$:nt)(e))instanceof O?(o=e.min,a=e.max):o=a=e,o.x>=this.min.x&&a.x<=this.max.x&&o.y>=this.min.y&&a.y<=this.max.y},intersects:function(g){g=nt(g);var o=this.min,a=this.max,l=g.min,g=g.max,_=g.x>=o.x&&l.x<=a.x,g=g.y>=o.y&&l.y<=a.y;return _&&g},overlaps:function(g){g=nt(g);var o=this.min,a=this.max,l=g.min,g=g.max,_=g.x>o.x&&l.x<a.x,g=g.y>o.y&&l.y<a.y;return _&&g},isValid:function(){return!(!this.min||!this.max)}},vt.prototype={extend:function(e){var o,a,l=this._southWest,_=this._northEast;if(e instanceof V)a=o=e;else{if(!(e instanceof vt))return e?this.extend(F(e)||ht(e)):this;if(o=e._southWest,a=e._northEast,!o||!a)return this}return l||_?(l.lat=Math.min(o.lat,l.lat),l.lng=Math.min(o.lng,l.lng),_.lat=Math.max(a.lat,_.lat),_.lng=Math.max(a.lng,_.lng)):(this._southWest=new V(o.lat,o.lng),this._northEast=new V(a.lat,a.lng)),this},pad:function(_){var o=this._southWest,a=this._northEast,l=Math.abs(o.lat-a.lat)*_,_=Math.abs(o.lng-a.lng)*_;return new vt(new V(o.lat-l,o.lng-_),new V(a.lat+l,a.lng+_))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=(typeof e[0]=="number"||e instanceof V||"lat"in e?F:ht)(e);var o,a,l=this._southWest,_=this._northEast;return e instanceof vt?(o=e.getSouthWest(),a=e.getNorthEast()):o=a=e,o.lat>=l.lat&&a.lat<=_.lat&&o.lng>=l.lng&&a.lng<=_.lng},intersects:function(g){g=ht(g);var o=this._southWest,a=this._northEast,l=g.getSouthWest(),g=g.getNorthEast(),_=g.lat>=o.lat&&l.lat<=a.lat,g=g.lng>=o.lng&&l.lng<=a.lng;return _&&g},overlaps:function(g){g=ht(g);var o=this._southWest,a=this._northEast,l=g.getSouthWest(),g=g.getNorthEast(),_=g.lat>o.lat&&l.lat<a.lat,g=g.lng>o.lng&&l.lng<a.lng;return _&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return!!e&&(e=ht(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o))},isValid:function(){return!(!this._southWest||!this._northEast)}};var ut={latLngToPoint:function(e,o){return e=this.projection.project(e),o=this.scale(o),this.transformation._transform(e,o)},pointToLatLng:function(e,o){return o=this.scale(o),e=this.transformation.untransform(e,o),this.projection.unproject(e)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var o=this.projection.bounds,a=this.scale(a);return new O(this.transformation.transform(o.min,a),this.transformation.transform(o.max,a))},infinite:!(V.prototype={equals:function(e,o){return!!e&&(e=F(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(o===void 0?1e-9:o))},toString:function(e){return"LatLng("+N(this.lat,e)+", "+N(this.lng,e)+")"},distanceTo:function(e){return Gt.distance(this,F(e))},wrap:function(){return Gt.wrapLatLng(this)},toBounds:function(o){var o=180*o/40075017,a=o/Math.cos(Math.PI/180*this.lat);return ht([this.lat-o,this.lng-a],[this.lat+o,this.lng+a])},clone:function(){return new V(this.lat,this.lng,this.alt)}}),wrapLatLng:function(e){var o=this.wrapLng?E(e.lng,this.wrapLng,!0):e.lng;return new V(this.wrapLat?E(e.lat,this.wrapLat,!0):e.lat,o,e.alt)},wrapLatLngBounds:function(e){var l=e.getCenter(),o=this.wrapLatLng(l),a=l.lat-o.lat,l=l.lng-o.lng;return a==0&&l==0?e:(o=e.getSouthWest(),e=e.getNorthEast(),new vt(new V(o.lat-a,o.lng-l),new V(e.lat-a,e.lng-l)))}},Gt=u({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(x,g){var P=Math.PI/180,a=x.lat*P,l=g.lat*P,_=Math.sin((g.lat-x.lat)*P/2),g=Math.sin((g.lng-x.lng)*P/2),x=_*_+Math.cos(a)*Math.cos(l)*g*g,P=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*P}}),Ut=6378137,Ut={R:Ut,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,a=this.MAX_LATITUDE,a=Math.max(Math.min(a,e.lat),-a),a=Math.sin(a*o);return new U(this.R*e.lng*o,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(e){var o=180/Math.PI;return new V((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:new O([-(Ut=Ut*Math.PI),-Ut],[Ut,Ut])};function Ln(e,o,a,l){if(Ct(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=o,this._c=a,this._d=l}function se(e,o,a,l){return new Ln(e,o,a,l)}Ln.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return e.x=(o=o||1)*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return new U((e.x/(o=o||1)-this._b)/this._a,(e.y/o-this._d)/this._c)}};var re=u({},Gt,{code:"EPSG:3857",projection:Ut,transformation:se(re=.5/(Math.PI*Ut.R),.5,-re,.5)}),Ye=u({},re,{code:"EPSG:900913"});function bn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function So(e,o){for(var a,l,_,g,x="",P=0,z=e.length;P<z;P++){for(a=0,l=(_=e[P]).length;a<l;a++)x+=(a?"L":"M")+(g=_[a]).x+" "+g.y;x+=o?R.svg?"z":"x":""}return x||"M0 0"}var Rt=document.documentElement.style,ae="ActiveXObject"in window,Tt=ae&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Gi=ui("webkit"),Xe=ui("android"),Ie=ui("android 2")||ui("android 3"),_i=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_i=Xe&&ui("Google")&&_i<537&&!("AudioNode"in window),Mt=!!window.opera,Li=!Qt&&ui("chrome"),Te=ui("gecko")&&!Gi&&!Mt&&!ae,An=!Li&&ui("safari"),an=ui("phantom"),qt="OTransition"in Rt,Fi=navigator.platform.indexOf("Win")===0,Bn=ae&&"transition"in Rt,pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,Rt="MozPerspective"in Rt,Ni=!window.L_DISABLE_3D&&(Bn||pe||Rt)&&!qt&&!an,Ji=typeof orientation!="undefined"||ui("mobile"),Di=Ji&&Gi,Hn=Ji&&pe,Mi=!window.PointerEvent&&window.MSPointerEvent,pn=!(!window.PointerEvent&&!Mi),ko="ontouchstart"in window||!!window.TouchEvent,Zo=!window.L_NO_TOUCH&&(ko||pn),Yn=Ji&&Mt,Eo=Ji&&Te,Ao=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),fs=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,o),window.removeEventListener("testPassiveEventSupport",k,o)}catch{}return e}(),ps=!!document.createElement("canvas").getContext,Je=!(!document.createElementNS||!bn("svg").createSVGRect),Qe=!!Je&&((Qe=document.createElement("div")).innerHTML="<svg/>",(Qe.firstChild&&Qe.firstChild.namespaceURI)==="http://www.w3.org/2000/svg");function ui(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}var R={ie:ae,ielt9:Tt,edge:Qt,webkit:Gi,android:Xe,android23:Ie,androidStock:_i,opera:Mt,chrome:Li,gecko:Te,safari:An,phantom:an,opera12:qt,win:Fi,ie3d:Bn,webkit3d:pe,gecko3d:Rt,any3d:Ni,mobile:Ji,mobileWebkit:Di,mobileWebkit3d:Hn,msPointer:Mi,pointer:pn,touch:Zo,touchNative:ko,mobileOpera:Yn,mobileGecko:Eo,retina:Ao,passiveEvents:fs,canvas:ps,svg:Je,vml:!Je&&function(){try{var e=document.createElement("div"),o=(e.innerHTML='<v:shape adj="1"/>',e.firstChild);return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),inlineSvg:Qe},Xn=R.msPointer?"MSPointerDown":"pointerdown",Jn=R.msPointer?"MSPointerMove":"pointermove",Oo=R.msPointer?"MSPointerUp":"pointerup",Qn=R.msPointer?"MSPointerCancel":"pointercancel",$e={touchstart:Xn,touchmove:Jn,touchend:Oo,touchcancel:Qn},$n={touchstart:function(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Dt(o),tn(e,o)},touchmove:tn,touchend:tn,touchcancel:tn},Me={},ze=!1;function ms(e,o,a){return o!=="touchstart"||ze||(document.addEventListener(Xn,gs,!0),document.addEventListener(Jn,Io,!0),document.addEventListener(Oo,to,!0),document.addEventListener(Qn,to,!0),ze=!0),$n[o]?(a=$n[o].bind(this,a),e.addEventListener($e[o],a,!1),a):(console.warn("wrong event specified:",o),L.Util.falseFn)}function gs(e){Me[e.pointerId]=e}function Io(e){Me[e.pointerId]&&(Me[e.pointerId]=e)}function to(e){delete Me[e.pointerId]}function tn(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){for(var a in o.touches=[],Me)o.touches.push(Me[a]);o.changedTouches=[o],e(o)}}var vs=200;function ys(e,o){e.addEventListener("dblclick",o);var a,l=0;function _(g){var x;g.detail!==1?a=g.detail:g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents||((x=Date.now())-l<=vs?++a===2&&o(function(P){var z,Z,D={};for(Z in P)z=P[Z],D[Z]=z&&z.bind?z.bind(P):z;return(P=D).type="dblclick",D.detail=2,D.isTrusted=!1,D._simulated=!0,D}(g)):a=1,l=x)}return e.addEventListener("click",_),{dblclick:o,simDblclick:_}}var io,Ce,en,Tn,Se,eo,no=Cn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ti=Cn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),I=ti==="webkitTransition"||ti==="OTransition"?ti+"End":"transitionend";function oo(e){return typeof e=="string"?document.getElementById(e):e}function ke(e,o){var a=e.style[o]||e.currentStyle&&e.currentStyle[o];return(a=a&&a!=="auto"||!document.defaultView?a:(e=document.defaultView.getComputedStyle(e,null))?e[o]:null)==="auto"?null:a}function ot(e,o,a){return e=document.createElement(e),e.className=o||"",a&&a.appendChild(e),e}function yt(e){var o=e.parentNode;o&&o.removeChild(e)}function Ze(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function he(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function li(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function Mn(e,o){return e.classList!==void 0?e.classList.contains(o):(e=zn(e),0<e.length&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(e))}function X(e,o){var a;if(e.classList!==void 0)for(var l=Bt(o),_=0,g=l.length;_<g;_++)e.classList.add(l[_]);else Mn(e,o)||so(e,((a=zn(e))?a+" ":"")+o)}function St(e,o){e.classList!==void 0?e.classList.remove(o):so(e,Yt((" "+zn(e)+" ").replace(" "+o+" "," ")))}function so(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function zn(e){return(e=e.correspondingElement?e.correspondingElement:e).className.baseVal===void 0?e.className:e.className.baseVal}function ei(e,o){if("opacity"in e.style)e.style.opacity=o;else if("filter"in e.style){var a=!1,l="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(l)}catch{if(o===1)return}o=Math.round(100*o),a?(a.Enabled=o!==100,a.Opacity=o):e.style.filter+=" progid:"+l+"(opacity="+o+")"}}function Cn(e){for(var o=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in o)return e[a];return!1}function xi(e,o,a){o=o||new U(0,0),e.style[no]=(R.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(a?" scale("+a+")":"")}function Et(e,o){e._leaflet_pos=o,R.any3d?xi(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function ue(e){return e._leaflet_pos||new U(0,0)}function ro(){G(window,"dragstart",Dt)}function ao(){B(window,"dragstart",Dt)}function ho(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Ee(),eo=(Se=e).style.outline,e.style.outline="none",G(window,"keydown",Ee))}function Ee(){Se&&(Se.style.outline=eo,eo=Se=void 0,B(window,"keydown",Ee))}function Ae(e){for(;!((e=e.parentNode).offsetWidth&&e.offsetHeight||e===document.body););return e}function Sn(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}Tn="onselectstart"in document?(en=function(){G(window,"selectstart",Dt)},function(){B(window,"selectstart",Dt)}):(Ce=Cn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),en=function(){var e;Ce&&(e=document.documentElement.style,io=e[Ce],e[Ce]="none")},function(){Ce&&(document.documentElement.style[Ce]=io,io=void 0)}),ae={__proto__:null,TRANSFORM:no,TRANSITION:ti,TRANSITION_END:I,get:oo,getStyle:ke,create:ot,remove:yt,empty:Ze,toFront:he,toBack:li,hasClass:Mn,addClass:X,removeClass:St,setClass:so,getClass:zn,setOpacity:ei,testProp:Cn,setTransform:xi,setPosition:Et,getPosition:ue,get disableTextSelection(){return en},get enableTextSelection(){return Tn},disableImageDrag:ro,enableImageDrag:ao,preventOutline:ho,restoreOutline:Ee,getSizedParentNode:Ae,getScale:Sn};function G(e,o,a,l){if(o&&typeof o=="object")for(var _ in o)Ui(e,_,o[_],a);else for(var g=0,x=(o=Bt(o)).length;g<x;g++)Ui(e,o[g],a,l);return this}var ii="_leaflet_events";function B(e,o,a,l){if(arguments.length===1)xt(e),delete e[ii];else if(o&&typeof o=="object")for(var _ in o)ji(e,_,o[_],a);else if(o=Bt(o),arguments.length===2)xt(e,function(P){return ne(o,P)!==-1});else for(var g=0,x=o.length;g<x;g++)ji(e,o[g],a,l);return this}function xt(e,o){for(var a in e[ii]){var l=a.split(/\d/)[0];o&&!o(l)||ji(e,l,null,null,a)}}var Oe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ui(e,o,a,l){var _,g,x=o+w(a)+(l?"_"+w(l):"");e[ii]&&e[ii][x]||(g=_=function(P){return a.call(l||e,P||window.event)},!R.touchNative&&R.pointer&&o.indexOf("touch")===0?_=ms(e,o,_):R.touch&&o==="dblclick"?_=ys(e,_):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(Oe[o]||o,_,!!R.passiveEvents&&{passive:!1}):o==="mouseenter"||o==="mouseleave"?e.addEventListener(Oe[o],_=function(P){P=P||window.event,Ei(e,P)&&g(P)},!1):e.addEventListener(o,g,!1):e.attachEvent("on"+o,_),e[ii]=e[ii]||{},e[ii][x]=_)}function ji(e,o,P,l,_){_=_||o+w(P)+(l?"_"+w(l):"");var g,x,P=e[ii]&&e[ii][_];P&&(!R.touchNative&&R.pointer&&o.indexOf("touch")===0?(l=e,x=P,$e[g=o]?l.removeEventListener($e[g],x,!1):console.warn("wrong event specified:",g)):R.touch&&o==="dblclick"?(l=P,(x=e).removeEventListener("dblclick",l.dblclick),x.removeEventListener("click",l.simDblclick)):"removeEventListener"in e?e.removeEventListener(Oe[o]||o,P,!1):e.detachEvent("on"+o,P),e[ii][_]=null)}function Zi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function q(e){return Ui(e,"wheel",Zi),this}function mt(e){return G(e,"mousedown touchstart dblclick contextmenu",Zi),e._leaflet_disable_click=!0,this}function Dt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function wi(e){return Dt(e),Zi(e),this}function ni(e,o){if(!o)return new U(e.clientX,e.clientY);var a=Sn(o),l=a.boundingClientRect;return new U((e.clientX-l.left)/a.x-o.clientLeft,(e.clientY-l.top)/a.y-o.clientTop)}var xs=R.win&&R.chrome?2*window.devicePixelRatio:R.gecko?window.devicePixelRatio:1;function nn(e){return R.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/xs:e.deltaY&&e.deltaMode===1?20*-e.deltaY:e.deltaY&&e.deltaMode===2?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Ei(e,o){var a=o.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Tt={__proto__:null,on:G,off:B,stopPropagation:Zi,disableScrollPropagation:q,disableClickPropagation:mt,preventDefault:Dt,stop:wi,getMousePosition:ni,getWheelDelta:nn,isExternalTarget:Ei,addListener:G,removeListener:B},Vi=Ft.extend({run:function(e,o,a,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ue(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,a=1e3*this._duration;o<a?this._runFrame(this._easeOut(o/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){e=this._startPos.add(this._offset.multiplyBy(e)),o&&e._round(),Et(this._el,e),this.fire("step")},_complete:function(){pt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Q=Ft.extend({options:{crs:re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=W(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(F(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ti&&R.any3d&&!R.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,I,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,a){return o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(F(e),o,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0&&(a.animate!==void 0&&(a.zoom=u({animate:a.animate},a.zoom),a.pan=u({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,a.zoom):this._tryAnimatedPan(e,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,o),this)},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(_,o,a){var g=this.getZoomScale(o),l=this.getSize().divideBy(2),_=(_ instanceof U?_:this.latLngToContainerPoint(_)).subtract(l).multiplyBy(1-1/g),g=this.containerPointToLatLng(l.add(_));return this.setView(g,o,{zoom:a})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():ht(e);var a=$(o.paddingTopLeft||o.padding||[0,0]),l=$(o.paddingBottomRight||o.padding||[0,0]),_=this.getBoundsZoom(e,!1,a.add(l));return(_=typeof o.maxZoom=="number"?Math.min(o.maxZoom,_):_)===1/0?{center:e.getCenter(),zoom:_}:(o=l.subtract(a).divideBy(2),l=this.project(e.getSouthWest(),_),a=this.project(e.getNorthEast(),_),{center:this.unproject(l.add(a).divideBy(2).add(o),_),zoom:_})},fitBounds:function(e,o){if(!(e=ht(e)).isValid())throw new Error("Bounds are not valid.");return e=this._getBoundsCenterZoom(e,o),this.setView(e.center,e.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){return o=o||{},(e=$(e).round()).x||e.y?(o.animate===!0||this.getSize().contains(e)?(this._panAnim||(this._panAnim=new Vi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1?(X(this._mapPane,"leaflet-pan-anim"),a=this._getMapPanePos().subtract(e).round(),this._panAnim.run(this._mapPane,a,o.duration||.25,o.easeLinearity)):(this._rawPanBy(e),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this):this.fire("moveend");var a},flyTo:function(e,o,a){if((a=a||{}).animate===!1||!R.any3d)return this.setView(e,o,a);this._stop();var l=this.project(this.getCenter()),_=this.project(e),g=this.getSize(),x=this._zoom,P=(e=F(e),o=o===void 0?x:o,Math.max(g.x,g.y)),z=P*this.getZoomScale(x,o),Z=_.distanceTo(l)||1,D=1.42,rt=D*D;function Lt(wt){return wt=(z*z-P*P+(wt?-1:1)*rt*rt*Z*Z)/(2*(wt?z:P)*rt*Z),wt=Math.sqrt(wt*wt+1)-wt,wt<1e-9?-18:Math.log(wt)}function pi(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function zi(wt){return(Math.exp(wt)+Math.exp(-wt))/2}var Kt=Lt(0);function Ci(wt){return P*(zi(Kt)*(pi(wt=Kt+D*wt)/zi(wt))-pi(Kt))/rt}var me=Date.now(),gn=(Lt(1)-Kt)/D,Re=a.duration?1e3*a.duration:1e3*gn*.8;return this._moveStart(!0,a.noMoveStart),function wt(){var Ne=(Date.now()-me)/Re,vo=(1-Math.pow(1-Ne,1.5))*gn;Ne<=1?(this._flyToFrame=ct(wt,this),this._move(this.unproject(l.add(_.subtract(l).multiplyBy(Ci(vo)/Z)),x),this.getScaleZoom(P/(Ne=vo,P*(zi(Kt)/zi(Kt+D*Ne))),x),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,o){return e=this._getBoundsCenterZoom(e,o),this.flyTo(e.center,e.zoom,o)},setMaxBounds:function(e){return(e=ht(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(l,o){this._enforcingBounds=!0;var a=this.getCenter(),l=this._limitCenter(a,this._zoom,ht(l));return a.equals(l)||this.panTo(l,o),this._enforcingBounds=!1,this},panInside:function(_,o){var g=$((o=o||{}).paddingTopLeft||o.padding||[0,0]),a=$(o.paddingBottomRight||o.padding||[0,0]),l=this.project(this.getCenter()),_=this.project(_),x=this.getPixelBounds(),g=nt([x.min.add(g),x.max.subtract(a)]),x=g.getSize();return g.contains(_)||(this._enforcingBounds=!0,a=_.subtract(g.getCenter()),g=g.extend(_).getSize().subtract(x),l.x+=a.x<0?-g.x:g.x,l.y+=a.y<0?-g.y:g.y,this.panTo(this.unproject(l),o),this._enforcingBounds=!1),this},invalidateSize:function(e){if(!this._loaded)return this;e=u({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize(),a=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),_=o.divideBy(2).round(),l=a.divideBy(2).round(),_=_.subtract(l);return _.x||_.y?(e.animate&&e.pan?this.panBy(_):(e.pan&&this._rawPanBy(_),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=u({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=v(this._handleGeolocationResponse,this),a=v(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,a,e):navigator.geolocation.getCurrentPosition(o,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var o;this._container._leaflet_id&&(o=e.code,e=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+e+"."}))},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o,a,l=new V(e.coords.latitude,e.coords.longitude),_=l.toBounds(2*e.coords.accuracy),g=this._locateOptions,x=(g.setView&&(o=this.getBoundsZoom(_),this.setView(l,g.maxZoom?Math.min(o,g.maxZoom):o)),{latlng:l,bounds:_,timestamp:e.timestamp});for(a in e.coords)typeof e.coords[a]=="number"&&(x[a]=e.coords[a]);this.fire("locationfound",x)}},addHandler:function(e,o){return o?(o=this[e]=new o(this),this._handlers.push(o),this.options[e]&&o.enable(),this):this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)yt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){return o=ot("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),o||this._mapPane),e&&(this._panes[e]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new vt(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(z,o,P){z=ht(z),P=$(P||[0,0]);var Z=this.getZoom()||0,l=this.getMinZoom(),_=this.getMaxZoom(),g=z.getNorthWest(),z=z.getSouthEast(),P=this.getSize().subtract(P),z=nt(this.project(z,Z),this.project(g,Z)).getSize(),g=R.any3d?this.options.zoomSnap:1,x=P.x/z.x,P=P.y/z.y,z=o?Math.max(x,P):Math.min(x,P),Z=this.getScaleZoom(z,Z);return g&&(Z=Math.round(Z/(g/100))*(g/100),Z=o?Math.ceil(Z/g)*g:Math.floor(Z/g)*g),Math.max(l,Math.min(_,Z))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){return e=this._getTopLeftPoint(e,o),new O(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var a=this.options.crs;return o=o===void 0?this._zoom:o,a.scale(e)/a.scale(o)},getScaleZoom:function(l,o){var a=this.options.crs,l=(o=o===void 0?this._zoom:o,a.zoom(l*a.scale(o)));return isNaN(l)?1/0:l},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(F(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng($(e),o)},layerPointToLatLng:function(e){return e=$(e).add(this.getPixelOrigin()),this.unproject(e)},latLngToLayerPoint:function(e){return this.project(F(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ht(e))},distance:function(e,o){return this.options.crs.distance(F(e),F(o))},containerPointToLayerPoint:function(e){return $(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return $(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){return e=this.containerPointToLayerPoint($(e)),this.layerPointToLatLng(e)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return ni(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){if(e=this._container=oo(e),!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");G(e,"scroll",this._onScroll,this),this._containerId=w(e)},_initLayout:function(){var e=this._container,o=(this._fadeAnimated=this.options.fadeAnimation&&R.any3d,X(e,"leaflet-container"+(R.touch?" leaflet-touch":"")+(R.retina?" leaflet-retina":"")+(R.ielt9?" leaflet-oldie":"")+(R.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ke(e,"position"));o!=="absolute"&&o!=="relative"&&o!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(e.markerPane,"leaflet-zoom-hide"),X(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o){Et(this._mapPane,new U(0,0));var a=!this._loaded,l=(this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset"),this._zoom!==o);this._moveStart(l,!1)._move(e,o)._moveEnd(l),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,a,l){o===void 0&&(o=this._zoom);var _=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?a&&a.pinch&&this.fire("zoom",a):((_||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Et(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};var o=e?B:G;o((this._targets[w(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),R.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var a,l=[],_=o==="mouseout"||o==="mouseover",g=e.target||e.srcElement,x=!1;g;){if((a=this._targets[w(g)])&&(o==="click"||o==="preclick")&&this._draggableMoved(a)){x=!0;break}if(a&&a.listens(o,!0)&&(_&&!Ei(g,e)||(l.push(a),_))||g===this._container)break;g=g.parentNode}return l=l.length||x||_||!this.listens(o,!0)?l:[this]},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o,a=e.target||e.srcElement;!this._loaded||a._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(a)||((o=e.type)==="mousedown"&&ho(a),this._fireDOMEvent(e,o))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,a){e.type==="click"&&((P=u({},e)).type="preclick",this._fireDOMEvent(P,P.type,a));var l=this._findEventTargets(e,o);if(a){for(var _=[],g=0;g<a.length;g++)a[g].listens(o,!0)&&_.push(a[g]);l=_.concat(l)}if(l.length){o==="contextmenu"&&Dt(e);var x,P=l[0],z={originalEvent:e};for(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"&&(x=P.getLatLng&&(!P._radius||P._radius<=10),z.containerPoint=x?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(e),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=x?P.getLatLng():this.layerPointToLatLng(z.layerPoint)),g=0;g<l.length;g++)if(l[g].fire(o,z,!0),z.originalEvent._stopped||l[g].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return ue(this._mapPane)||new U(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){return(e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var a=this.getSize()._divideBy(2);return this.project(e,o)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,a){return a=this._getNewPixelOrigin(a,o),this.project(e,o)._subtract(a)},_latLngBoundsToNewLayerBounds:function(e,o,a){return a=this._getNewPixelOrigin(a,o),nt([this.project(e.getSouthWest(),o)._subtract(a),this.project(e.getNorthWest(),o)._subtract(a),this.project(e.getSouthEast(),o)._subtract(a),this.project(e.getNorthEast(),o)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,a){if(!a)return e;var l=this.project(e,o),_=this.getSize().divideBy(2),_=new O(l.subtract(_),l.add(_)),_=this._getBoundsOffset(_,a,o);return _.round().equals([0,0])?e:this.unproject(l.add(_),o)},_limitOffset:function(e,o){if(!o)return e;var a=this.getPixelBounds(),a=new O(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(a,o))},_getBoundsOffset:function(e,o,a){return o=nt(this.project(o.getNorthEast(),a),this.project(o.getSouthWest(),a)),a=o.min.subtract(e.min),o=o.max.subtract(e.max),new U(this._rebound(a.x,-o.x),this._rebound(a.y,-o.y))},_rebound:function(e,o){return 0<e+o?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),a=this.getMaxZoom(),l=R.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(o,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){return e=this._getCenterOffset(e)._trunc(),!((o&&o.animate)!==!0&&!this.getSize().contains(e))&&(this.panBy(e,o),!0)},_createAnimProxy:function(){var e=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var a=no,l=this._proxy.style[a];xi(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),l===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();xi(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(o),l=this._getCenterOffset(e)._divideBy(1-1/l);return!(a.animate!==!0&&!this.getSize().contains(l))&&(ct(function(){this._moveStart(!0,!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,a,l){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ai(e){return new Jt(e)}var kn,Jt=Zt.extend({options:{position:"topright"},initialize:function(e){W(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var o=this._container=this.onAdd(l),a=this.getPosition(),l=l._controlCorners[a];return X(o,"leaflet-control"),a.indexOf("bottom")!==-1?l.insertBefore(o,l.firstChild):l.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}}),Zn=(Q.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",a=this._controlContainer=ot("div",o+"control-container",this._container);function l(_,g){e[_+g]=ot("div",o+_+" "+o+g,a)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)yt(this._controlCorners[e]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,a,l){return a<l?-1:l<a?1:0}},initialize:function(e,o,a){for(var l in W(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[l],l);for(l in o)this._addLayer(o[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),(this._map=e).on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Jt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){return e.off("add remove",this._onLayerChange,this),e=this._getLayer(w(e)),e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=ot("div",e),a=this.options.collapsed,l=(o.setAttribute("aria-haspopup",!0),mt(o),q(o),this._section=ot("section",e+"-list")),_=(a&&(this._map.on("click",this.collapse,this),G(o,{mouseenter:function(){G(l,"click",Dt),this.expand(),setTimeout(function(){B(l,"click",Dt)})},mouseleave:this.collapse},this)),this._layersLink=ot("a",e+"-toggle",o));_.href="#",_.title="Layers",_.setAttribute("role","button"),G(_,"click",Dt),G(_,"focus",this.expand,this),a||this.expand(),this._baseLayersList=ot("div",e+"-base",l),this._separator=ot("div",e+"-separator",l),this._overlaysList=ot("div",e+"-overlays",l),o.appendChild(l)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&w(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:a}),this.options.sortLayers&&this._layers.sort(v(function(l,_){return this.options.sortFunction(l.layer,_.layer,l.name,_.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ze(this._baseLayersList),Ze(this._overlaysList),this._layerControlInputs=[];for(var e,o,a,l=0,_=0;_<this._layers.length;_++)a=this._layers[_],this._addItem(a),o=o||a.overlay,e=e||!a.overlay,l+=a.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(e=e&&1<l)?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var o=this._getLayer(w(a.target)),a=o.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;a&&this._map.fire(a,o)},_createRadioElement:function(e,o){return e='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",o=document.createElement("div"),o.innerHTML=e,o.firstChild},_addItem:function(e){var o,a=document.createElement("label"),l=this._map.hasLayer(e.layer),l=(e.overlay?((o=document.createElement("input")).type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=l):o=this._createRadioElement("leaflet-base-layers_"+w(this),l),this._layerControlInputs.push(o),o.layerId=w(e.layer),G(o,"click",this._onInputClick,this),document.createElement("span")),_=(l.innerHTML=" "+e.name,document.createElement("span"));return a.appendChild(_),_.appendChild(o),_.appendChild(l),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){var e,o,a=this._layerControlInputs,l=[],_=[];this._handlingClick=!0;for(var g=a.length-1;0<=g;g--)e=a[g],o=this._getLayer(e.layerId).layer,e.checked?l.push(o):e.checked||_.push(o);for(g=0;g<_.length;g++)this._map.hasLayer(_[g])&&this._map.removeLayer(_[g]);for(g=0;g<l.length;g++)this._map.hasLayer(l[g])||this._map.addLayer(l[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,o,a=this._layerControlInputs,l=this._map.getZoom(),_=a.length-1;0<=_;_--)e=a[_],o=this._getLayer(e.layerId).layer,e.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}})),on=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",a=ot("div",o+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,o+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,o+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,a,l,_){return a=ot("a",a,l),a.innerHTML=e,a.href="#",a.title=o,a.setAttribute("role","button"),a.setAttribute("aria-label",o),mt(a),G(a,"click",wi),G(a,"click",_,this),G(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";St(this._zoomInButton,o),St(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&e._zoom!==e.getMinZoom()||(X(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&e._zoom!==e.getMaxZoom()||(X(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}}),sn=(Q.mergeOptions({zoomControl:!0}),Q.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new on,this.addControl(this.zoomControl))}),Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",a=ot("div",o),l=this.options;return this._addScales(l,o+"-line",a),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,a){e.metric&&(this._mScale=ot("div",o,a)),e.imperial&&(this._iScale=ot("div",o,a))},_update:function(){var o=this._map,e=o.getSize().y/2,o=o.distance(o.containerPointToLatLng([0,e]),o.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e);this._updateScale(this._mScale,o<1e3?o+" m":o/1e3+" km",o/e)},_updateImperial:function(l){var o,a,l=3.2808399*l;5280<l?(a=this._getRoundNum(o=l/5280),this._updateScale(this._iScale,a+" mi",a/o)):(a=this._getRoundNum(l),this._updateScale(this._iScale,a+" ft",a/l))},_updateScale:function(e,o,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=o},_getRoundNum:function(a){var o=Math.pow(10,(Math.floor(a)+"").length-1),a=a/o;return o*(a=10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}})),rn=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(R.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){W(this,e),this._attributions={}},onAdd:function(e){for(var o in(e.attributionControl=this)._container=ot("div","leaflet-control-attribution"),mt(this._container),e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e&&(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()),this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e,o=[];for(e in this._attributions)this._attributions[e]&&o.push(e);var a=[];this.options.prefix&&a.push(this.options.prefix),o.length&&a.push(o.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}}),Qt=(Q.mergeOptions({attributionControl:!0}),Q.addInitHook(function(){this.options.attributionControl&&new rn().addTo(this)}),Jt.Layers=Zn,Jt.Zoom=on,Jt.Scale=sn,Jt.Attribution=rn,Ai.layers=function(e,o,a){return new Zn(e,o,a)},Ai.zoom=function(e){return new on(e)},Ai.scale=function(e){return new sn(e)},Ai.attribution=function(e){return new rn(e)},Zt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})),Gi=(Qt.addTo=function(e,o){return e.addHandler(o,this),this},{Events:Xt}),uo=R.touch?"touchstart mousedown":"mousedown",Pi=Ft.extend({options:{clickTolerance:3},initialize:function(e,o,a,l){W(this,l),this._element=e,this._dragStartTarget=o||e,this._preventOutline=a},enable:function(){this._enabled||(G(this._dragStartTarget,uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),B(this._dragStartTarget,uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){var o,a;this._enabled&&(this._moved=!1,Mn(this._element,"leaflet-zoom-anim")||(e.touches&&e.touches.length!==1?Pi._dragging===this&&this.finishDrag():Pi._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches||((Pi._dragging=this)._preventOutline&&ho(this._element),ro(),en(),this._moving||(this.fire("down"),a=e.touches?e.touches[0]:e,o=Ae(this._element),this._startPoint=new U(a.clientX,a.clientY),this._startPos=ue(this._element),this._parentScale=Sn(o),a=e.type==="mousedown",G(document,a?"mousemove":"touchmove",this._onMove,this),G(document,a?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(e){var o;this._enabled&&(e.touches&&1<e.touches.length?this._moved=!0:!(o=new U((o=e.touches&&e.touches.length===1?e.touches[0]:e).clientX,o.clientY)._subtract(this._startPoint)).x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Dt(e),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition()))},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Et(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){St(document.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),B(document,"mousemove touchmove",this._onMove,this),B(document,"mouseup touchend touchcancel",this._onUp,this),ao(),Tn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Pi._dragging=!1}});function Bo(e,o){return!o||!e.length?e.slice():(o*=o,e=function(a,l){var _=a.length,g=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(_);g[0]=g[_-1]=1,function z(Z,D,rt,Lt,pi){var zi,Kt,Ci,me=0;for(Kt=Lt+1;Kt<=pi-1;Kt++)Ci=le(Z[Kt],Z[Lt],Z[pi],!0),me<Ci&&(zi=Kt,me=Ci);rt<me&&(D[zi]=1,z(Z,D,rt,Lt,zi),z(Z,D,rt,zi,pi))}(a,g,l,0,_-1);var x,P=[];for(x=0;x<_;x++)g[x]&&P.push(a[x]);return P}(e=function(a,l){for(var _=[a[0]],g=1,x=0,P=a.length;g<P;g++)(function(z,rt){var D=rt.x-z.x,rt=rt.y-z.y;return D*D+rt*rt})(a[g],a[x])>l&&(_.push(a[g]),x=g);return x<P-1&&_.push(a[P-1]),_}(e,o),o))}function K(e,o,a){return Math.sqrt(le(e,o,a,!0))}function ci(e,o,a,l,_){var g,x,P,z=l?kn:qi(e,a),Z=qi(o,a);for(kn=Z;;){if(!(z|Z))return[e,o];if(z&Z)return!1;P=qi(x=dt(e,o,g=z||Z,a,_),a),g===z?(e=x,z=P):(o=x,Z=P)}}function dt(e,z,a,D,_){var g,x,P=z.x-e.x,z=z.y-e.y,Z=D.min,D=D.max;return 8&a?(g=e.x+P*(D.y-e.y)/z,x=D.y):4&a?(g=e.x+P*(Z.y-e.y)/z,x=Z.y):2&a?(g=D.x,x=e.y+z*(D.x-e.x)/P):1&a&&(g=Z.x,x=e.y+z*(Z.x-e.x)/P),new U(g,x,_)}function qi(e,o){var a=0;return e.x<o.min.x?a|=1:e.x>o.max.x&&(a|=2),e.y<o.min.y?a|=4:e.y>o.max.y&&(a|=8),a}function le(e,g,a,l){var _=g.x,g=g.y,x=a.x-_,P=a.y-g,z=x*x+P*P;return 0<z&&(1<(z=((e.x-_)*x+(e.y-g)*P)/z)?(_=a.x,g=a.y):0<z&&(_+=x*z,g+=P*z)),x=e.x-_,P=e.y-g,l?x*x+P*P:new U(_,g)}function di(e){return!Ct(e[0])||typeof e[0][0]!="object"&&e[0][0]!==void 0}function En(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),di(e)}Xe={__proto__:null,simplify:Bo,pointToSegmentDistance:K,closestPointOnSegment:function(e,o,a){return le(e,o,a)},clipSegment:ci,_getEdgeIntersection:dt,_getBitCode:qi,_sqClosestPointOnSegment:le,isFlat:di,_flat:En};function Ki(e,o,a){for(var l,_,g,x,P,z,Z,D=[1,4,2,8],rt=0,Lt=e.length;rt<Lt;rt++)e[rt]._code=qi(e[rt],o);for(g=0;g<4;g++){for(z=D[g],l=[],rt=0,_=(Lt=e.length)-1;rt<Lt;_=rt++)x=e[rt],P=e[_],x._code&z?P._code&z||((Z=dt(P,x,z,o,a))._code=qi(Z,o),l.push(Z)):(P._code&z&&((Z=dt(P,x,z,o,a))._code=qi(Z,o),l.push(Z)),l.push(x));e=l}return e}var Ie={__proto__:null,clipPolygon:Ki},_i={project:function(e){return new U(e.lng,e.lat)},unproject:function(e){return new V(e.y,e.x)},bounds:new O([-180,-90],[180,90])},Mt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,a=this.R,g=e.lat*o,l=this.R_MINOR/a,l=Math.sqrt(1-l*l),_=l*Math.sin(g),_=Math.tan(Math.PI/4-g/2)/Math.pow((1-_)/(1+_),l/2),g=-a*Math.log(Math.max(_,1e-10));return new U(e.lng*o*a,g)},unproject:function(e){for(var o,a=180/Math.PI,l=this.R,_=this.R_MINOR/l,g=Math.sqrt(1-_*_),x=Math.exp(-e.y/l),P=Math.PI/2-2*Math.atan(x),z=0,Z=.1;z<15&&1e-7<Math.abs(Z);z++)o=g*Math.sin(P),o=Math.pow((1-o)/(1+o),g/2),P+=Z=Math.PI/2-2*Math.atan(x*o)-P;return new V(P*a,e.x*a/l)}},Li={__proto__:null,LonLat:_i,Mercator:Mt,SphericalMercator:Ut},An=u({},Gt,{code:"EPSG:3395",projection:Mt,transformation:se(Te=.5/(Math.PI*Mt.R),.5,-Te,.5)}),Ro=u({},Gt,{code:"EPSG:4326",projection:_i,transformation:se(1/180,1,-1/180,.5)}),an=u({},ut,{projection:_i,transformation:se(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,l){var a=l.lng-e.lng,l=l.lat-e.lat;return Math.sqrt(a*a+l*l)},infinite:!0}),qt=(ut.Earth=Gt,ut.EPSG3395=An,ut.EPSG3857=re,ut.EPSG900913=Ye,ut.EPSG4326=Ro,ut.Simple=an,Ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[w(e)]=this},removeInteractiveTarget:function(e){return delete this._map._targets[w(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o,a=e.target;a.hasLayer(this)&&(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents&&(o=this.getEvents(),a.on(o,this),this.once("remove",function(){a.off(o,this)},this)),this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this}))}})),Be=(Q.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=w(e);return this._layers[o]||((this._layers[o]=e)._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var o=w(e);return this._layers[o]&&(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null),this},hasLayer:function(e){return w(e)in this._layers},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},_addLayers:function(e){for(var o=0,a=(e=e?Ct(e)?e:[e]:[]).length;o<a;o++)this.addLayer(e[o])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[w(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){e=w(e),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var e,o=1/0,a=-1/0,l=this._getZoomSpan();for(e in this._zoomBoundLayers)var _=this._zoomBoundLayers[e].options,o=_.minZoom===void 0?o:Math.min(o,_.minZoom),a=_.maxZoom===void 0?a:Math.max(a,_.maxZoom);this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=o===1/0?void 0:o,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),qt.extend({initialize:function(e,o){var a,l;if(W(this,o),this._layers={},e)for(a=0,l=e.length;a<l;a++)this.addLayer(e[a])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){return e=e in this._layers?e:this.getLayerId(e),this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(e){return(typeof e=="number"?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o,a,l=Array.prototype.slice.call(arguments,1);for(o in this._layers)(a=this._layers[o])[e]&&a[e].apply(a,l);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:w})),ce=Be.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Be.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?((e=e in this._layers?this._layers[e]:e).removeEventParent(this),Be.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e,o=new vt;for(e in this._layers){var a=this._layers[e];o.extend(a.getBounds?a.getBounds():a.getLatLng())}return o}}),J=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){W(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}return a=this._createImg(a,o&&o.tagName==="IMG"?o:null),this._setIconStyles(a,e),!this.options.crossOrigin&&this.options.crossOrigin!==""||(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(e,o){var a=this.options,l=a[o+"Size"],l=$(l=typeof l=="number"?[l,l]:l),_=$(o==="shadow"&&a.shadowAnchor||a.iconAnchor||l&&l.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(a.className||""),_&&(e.style.marginLeft=-_.x+"px",e.style.marginTop=-_.y+"px"),l&&(e.style.width=l.x+"px",e.style.height=l.y+"px")},_createImg:function(e,o){return(o=o||document.createElement("img")).src=e,o},_getIconUrl:function(e){return R.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),hn=J.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof hn.imagePath!="string"&&(hn.imagePath=this._detectIconPath()),(this.options.imagePath||hn.imagePath)+J.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){function o(a,l,_){return(l=l.exec(a))&&l[_]}return(e=o(e,/^url\((['"])?(.+)\1\)$/,2))&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ot("div","leaflet-default-icon-path",document.body),o=ke(e,"background-image")||ke(e,"backgroundImage");return document.body.removeChild(e),(o=this._stripUrl(o))?o:(e=document.querySelector('link[href$="leaflet.css"]'),e?e.href.substring(0,e.href.length-11-1):"")}}),hi=Qt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Pi(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,a=o._map,l=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,g=ue(o._icon),x=a.getPixelBounds(),P=a.getPixelOrigin(),P=nt(x.min._subtract(P).add(_),x.max._subtract(P).subtract(_));P.contains(g)||(_=$((Math.max(P.max.x,g.x)-P.max.x)/(x.max.x-P.max.x)-(Math.min(P.min.x,g.x)-P.min.x)/(x.min.x-P.min.x),(Math.max(P.max.y,g.y)-P.max.y)/(x.max.y-P.max.y)-(Math.min(P.min.y,g.y)-P.min.y)/(x.min.y-P.min.y)).multiplyBy(l),a.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),Et(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ct(this._adjustPan.bind(this,e)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(pt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,a=o._shadow,l=ue(o._icon),_=o._map.layerPointToLatLng(l);a&&Et(a,l),o._latlng=_,e.latlng=_,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){pt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Yi=qt.extend({options:{icon:new hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){W(this,o),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=F(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var e;return this._icon&&this._map&&(e=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(e)),this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=e.icon.createIcon(this._icon),a=!1,l=(l!==this._icon&&(this._icon&&this._removeIcon(),a=!0,e.title&&(l.title=e.title),l.tagName==="IMG"&&(l.alt=e.alt||"")),X(l,o),e.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(l,"focus",this._panOnFocus,this),e.icon.createShadow(this._shadow)),_=!1;l!==this._shadow&&(this._removeShadow(),_=!0),l&&(X(l,o),l.alt=""),this._shadow=l,e.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&_&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&B(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Et(this._icon,e),this._shadow&&Et(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round(),this._setPos(e)},_initInteraction:function(){var e;this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hi&&(e=this.options.draggable,this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hi(this),e&&this.dragging.enable()))},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ei(this._icon,e),this._shadow&&ei(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e,o,a=this._map;a&&(e=(o=this.options.icon.options).iconSize?$(o.iconSize):$(0,0),o=o.iconAnchor?$(o.iconAnchor):$(0,0),a.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:e.subtract(o)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Oi=qt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return W(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),On=Oi.extend({options:{fill:!0,radius:10},initialize:function(e,o){W(this,o),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=F(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Oi.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,e=this._radiusY||a,o=this._clickTolerance(),a=[a+o,e+o];this._pxBounds=new O(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),un=On.extend({initialize:function(e,o,a){if(W(this,o=typeof o=="number"?u({},a,{radius:o}):o),this._latlng=F(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Oi.prototype.setStyle,_project:function(){var e,o,a,l,_,g=this._latlng.lng,x=this._latlng.lat,P=this._map,z=P.options.crs;z.distance===Gt.distance?(l=Math.PI/180,_=this._mRadius/Gt.R/l,e=P.project([x+_,g]),o=P.project([x-_,g]),o=e.add(o).divideBy(2),a=P.unproject(o).lat,l=Math.acos((Math.cos(_*l)-Math.sin(x*l)*Math.sin(a*l))/(Math.cos(x*l)*Math.cos(a*l)))/l,!isNaN(l)&&l!==0||(l=_/Math.cos(Math.PI/180*x)),this._point=o.subtract(P.getPixelOrigin()),this._radius=isNaN(l)?0:o.x-P.project([a,g-l]).x,this._radiusY=o.y-e.y):(_=z.unproject(z.project(this._latlng).subtract([this._mRadius,0])),this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(_).x),this._updateBounds()}}),Ii=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){W(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,a=null,l=le,_=0,g=this._parts.length;_<g;_++)for(var x=this._parts[_],P=1,z=x.length;P<z;P++){var Z,D,rt=l(e,Z=x[P-1],D=x[P],!0);rt<o&&(o=rt,a=l(e,Z,D))}return a&&(a.distance=Math.sqrt(o)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,a,l,_,g,x=this._rings[0],P=x.length;if(!P)return null;for(o=e=0;e<P-1;e++)o+=x[e].distanceTo(x[e+1])/2;if(o===0)return this._map.layerPointToLatLng(x[0]);for(a=e=0;e<P-1;e++)if(l=x[e],_=x[e+1],o<(a+=g=l.distanceTo(_)))return this._map.layerPointToLatLng([_.x-(g=(a-o)/g)*(_.x-l.x),_.y-g*(_.y-l.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=F(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new vt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],a=di(e),l=0,_=e.length;l<_;l++)a?(o[l]=F(e[l]),this._bounds.extend(o[l])):o[l]=this._convertLatLngs(e[l]);return o},_project:function(){var e=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),e=new U(e,e);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(e,o,a){var l,_,g=e[0]instanceof V,x=e.length;if(g){for(_=[],l=0;l<x;l++)_[l]=this._map.latLngToLayerPoint(e[l]),a.extend(_[l]);o.push(_)}else for(l=0;l<x;l++)this._projectLatlngs(e[l],o,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var o,a,l,_,g=this._parts,x=0,P=0,z=this._rings.length;x<z;x++)for(o=0,a=(_=this._rings[x]).length;o<a-1;o++)(l=ci(_[o],_[o+1],e,o,!0))&&(g[P]=g[P]||[],g[P].push(l[0]),l[1]===_[o+1]&&o!==a-2||(g[P].push(l[1]),P++))},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,a=0,l=e.length;a<l;a++)e[a]=Bo(e[a],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var a,l,_,g,x,P,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,g=this._parts.length;a<g;a++)for(l=0,_=(x=(P=this._parts[a]).length)-1;l<x;_=l++)if((o||l!==0)&&K(e,P[_],P[l])<=z)return!0;return!1}});Ii._flat=En;var de=Ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,a,l,_,g,x,P,z,Z=this._rings[0],D=Z.length;if(!D)return null;for(e=g=x=P=0,o=D-1;e<D;o=e++)a=Z[e],l=Z[o],_=a.y*l.x-l.y*a.x,x+=(a.x+l.x)*_,P+=(a.y+l.y)*_,g+=3*_;return z=g===0?Z[0]:[x/g,P/g],this._map.layerPointToLatLng(z)},_convertLatLngs:function(o){var o=Ii.prototype._convertLatLngs.call(this,o),a=o.length;return 2<=a&&o[0]instanceof V&&o[0].equals(o[a-1])&&o.pop(),o},_setLatLngs:function(e){Ii.prototype._setLatLngs.call(this,e),di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(di(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var o=this._renderer._bounds,e=this.options.weight,e=new U(e,e),o=new O(o.min.subtract(e),o.max.add(e));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o))if(this.options.noClip)this._parts=this._rings;else for(var a,l=0,_=this._rings.length;l<_;l++)(a=Ki(this._rings[l],o,!0)).length&&this._parts.push(a)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o,a,l,_,g,x,P,z,Z=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(_=0,P=this._parts.length;_<P;_++)for(g=0,x=(z=(o=this._parts[_]).length)-1;g<z;x=g++)a=o[g],l=o[x],a.y>e.y!=l.y>e.y&&e.x<(l.x-a.x)*(e.y-a.y)/(l.y-a.y)+a.x&&(Z=!Z);return Z||Ii.prototype._containsPoint.call(this,e,!0)}}),Bi=ce.extend({initialize:function(e,o){W(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o,a,l,_=Ct(e)?e:e.features;if(_){for(o=0,a=_.length;o<a;o++)((l=_[o]).geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var x=lo(e,g);return x?(x.feature=cn(e),x.defaultOptions=x.options,this.resetStyle(x),g.onEachFeature&&g.onEachFeature(e,x),this.addLayer(x)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=u({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function lo(e,o){var a,l,_,g,x=e.type==="Feature"?e.geometry:e,P=x?x.coordinates:null,z=[],Z=o&&o.pointToLayer,D=o&&o.coordsToLatLng||co;if(!P&&!x)return null;switch(x.type){case"Point":return In(Z,e,a=D(P),o);case"MultiPoint":for(_=0,g=P.length;_<g;_++)a=D(P[_]),z.push(In(Z,e,a,o));return new ce(z);case"LineString":case"MultiLineString":return l=oi(P,x.type==="LineString"?0:1,D),new Ii(l,o);case"Polygon":case"MultiPolygon":return l=oi(P,x.type==="Polygon"?1:2,D),new de(l,o);case"GeometryCollection":for(_=0,g=x.geometries.length;_<g;_++){var rt=lo({geometry:x.geometries[_],type:"Feature",properties:e.properties},o);rt&&z.push(rt)}return new ce(z);default:throw new Error("Invalid GeoJSON object.")}}function In(e,o,a,l){return e?e(o,a):new Yi(a,l&&l.markersInheritOptions&&l)}function co(e){return new V(e[1],e[0],e[2])}function oi(e,o,a){for(var l,_=[],g=0,x=e.length;g<x;g++)l=o?oi(e[g],o-1,a):(a||co)(e[g]),_.push(l);return _}function _o(e,o){return(e=F(e)).alt!==void 0?[N(e.lng,o),N(e.lat,o),N(e.alt,o)]:[N(e.lng,o),N(e.lat,o)]}function ln(e,o,a,l){for(var _=[],g=0,x=e.length;g<x;g++)_.push(o?ln(e[g],o-1,a,l):_o(e[g],l));return!o&&a&&_.push(_[0]),_}function si(e,o){return e.feature?u({},e.feature,{geometry:o}):cn(o)}function cn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}Fi={toGeoJSON:function(e){return si(this,{type:"Point",coordinates:_o(this.getLatLng(),e)})}};function fo(e,o){return new Bi(e,o)}Yi.include(Fi),un.include(Fi),On.include(Fi),Ii.include({toGeoJSON:function(e){var o=!di(this._latlngs);return si(this,{type:(o?"Multi":"")+"LineString",coordinates:ln(this._latlngs,o?1:0,!1,e)})}}),de.include({toGeoJSON:function(l){var o=!di(this._latlngs),a=o&&!di(this._latlngs[0]),l=ln(this._latlngs,a?2:o?1:0,!0,l);return si(this,{type:(a?"Multi":"")+"Polygon",coordinates:l=o?l:[l]})}}),Be.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(a){o.push(a.toGeoJSON(e).geometry.coordinates)}),si(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var a=o==="GeometryCollection",l=[];return this.eachLayer(function(_){_.toGeoJSON&&(_=_.toGeoJSON(e),a?l.push(_.geometry):(_=cn(_)).type==="FeatureCollection"?l.push.apply(l,_.features):l.push(_))}),a?si(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});var Bn=fo,Rn=qt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,a){this._url=e,this._bounds=ht(o),W(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&li(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ht(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:ot("img");X(o,"leaflet-image-layer"),this._zoomAnimated&&X(o,"leaflet-zoom-animated"),this.options.className&&X(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onload=v(this.fire,this,"load"),o.onerror=v(this._overlayOnError,this,"error"),!this.options.crossOrigin&&this.options.crossOrigin!==""||(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=o.src:(o.src=this._url,o.alt=this.options.alt)},_animateZoom:function(a){var o=this._map.getZoomScale(a.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;xi(this._image,a,o)},_reset:function(){var e=this._image,o=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=o.getSize();Et(e,o.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){ei(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Nn=Rn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:ot("video");if(X(o,"leaflet-image-layer"),this._zoomAnimated&&X(o,"leaflet-zoom-animated"),this.options.className&&X(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onloadeddata=v(this.fire,this,"load"),e){for(var a=o.getElementsByTagName("source"),l=[],_=0;_<a.length;_++)l.push(a[_].src);this._url=0<a.length?l:[o.src]}else{Ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var x=ot("source");x.src=this._url[g],o.appendChild(x)}}}}),No=Rn.extend({_initImage:function(){var e=this._image=this._url;X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=k,e.onmousemove=k}}),fi=qt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,o){W(this,e),this._source=o},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ei(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ei(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ei(this._container,0),this._removeTimeout=setTimeout(v(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&li(this._container),this},_prepareOpen:function(e){if(!(a=this._source)._map)return!1;if(a instanceof ce){var o,a=null,l=this._source._layers;for(o in l)if(l[o]._map){a=l[o];break}if(!a)return!1;this._source=a}if(!e)if(a.getCenter)e=a.getCenter();else if(a.getLatLng)e=a.getLatLng();else{if(!a.getBounds)throw new Error("Unable to get source layer LatLng.");e=a.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){var e,o,a;this._map&&(o=this._map.latLngToLayerPoint(this._latlng),e=$(this.options.offset),a=this._getAnchor(),this._zoomAnimated?Et(this._container,o.add(a)):e=e.add(o).add(a),o=this._containerBottom=-e.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+e.x,this._container.style.bottom=o+"px",this._container.style.left=a+"px")},_getAnchor:function(){return[0,0]}}),dn=(Q.include({_initOverlay:function(e,o,a,l){var _=o;return _ instanceof e||(_=new e(l).setContent(o)),a&&_.setLatLng(a),_}}),qt.include({_initOverlay:function(e,o,a,l){var _=a;return _ instanceof e?(W(_,l),_._source=this):(_=o&&!l?o:new e(l,this)).setContent(a),_}}),fi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,fi.prototype.openOn.call(this,e)},onAdd:function(e){fi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",Zi))},onRemove:function(e){fi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",Zi))},getEvents:function(){var e=fi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=ot("div",e+"-content-wrapper",o);this._contentNode=ot("div",e+"-content",a),mt(o),q(this._contentNode),G(o,"contextmenu",Zi),this._tipContainer=ot("div",e+"-tip-container",o),this._tip=ot("div",e+"-tip",this._tipContainer),this.options.closeButton&&((a=this._closeButton=ot("a",e+"-close-button",o)).setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',G(a,"click",this.close,this))},_updateLayout:function(){var e=this._contentNode,o=e.style,a=(o.width="",o.whiteSpace="nowrap",e.offsetWidth),a=Math.min(a,this.options.maxWidth),a=(a=Math.max(a,this.options.minWidth),o.width=a+1+"px",o.whiteSpace="",o.height="",e.offsetHeight),l=this.options.maxHeight,_="leaflet-popup-scrolled";l&&l<a?(o.height=l+"px",X(e,_)):St(e,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var o=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),a=this._getAnchor();Et(this._container,o.add(a))},_adjustPan:function(e){var o,a,l,_,g,x,P,z;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),o=this._map,a=parseInt(ke(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+a,z=this._containerWidth,(l=new U(this._containerLeft,-a-this._containerBottom))._add(ue(this._container)),l=o.layerPointToContainerPoint(l),g=$(this.options.autoPanPadding),_=$(this.options.autoPanPaddingTopLeft||g),g=$(this.options.autoPanPaddingBottomRight||g),x=o.getSize(),P=0,l.x+z+g.x>x.x&&(P=l.x+z-x.x+g.x),l.x-P-_.x<(z=0)&&(P=l.x-_.x),l.y+a+g.y>x.y&&(z=l.y+a-x.y+g.y),l.y-z-_.y<0&&(z=l.y-_.y),(P||z)&&o.fire("autopanstart").panBy([P,z],{animate:e&&e.type==="moveend"}))},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),_e=(Q.mergeOptions({closePopupOnClick:!0}),Q.include({openPopup:function(e,o,a){return this._initOverlay(dn,e,o,a).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),qt.include({bindPopup:function(e,o){return this._popup=this._initOverlay(dn,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var o;this._popup&&this._map&&(wi(e),o=e.layer||e.target,this._popup._source!==o||o instanceof Oi?(this._popup._source=o,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}}),fi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){fi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){fi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=fi.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,Z=this._map,a=this._container,l=Z.latLngToContainerPoint(Z.getCenter()),Z=Z.layerPointToContainerPoint(e),_=this.options.direction,g=a.offsetWidth,x=a.offsetHeight,P=$(this.options.offset),z=this._getAnchor(),Z=_==="top"?(o=g/2,x):_==="bottom"?(o=g/2,0):(o=_==="center"?g/2:_==="right"?0:_==="left"?g:Z.x<l.x?(_="right",0):(_="left",g+2*(P.x+z.x)),x/2);e=e.subtract($(o,Z,!0)).add(P).add(z),St(a,"leaflet-tooltip-right"),St(a,"leaflet-tooltip-left"),St(a,"leaflet-tooltip-top"),St(a,"leaflet-tooltip-bottom"),X(a,"leaflet-tooltip-"+_),Et(a,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ei(this._container,e)},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),this._setPosition(e)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),Xi=(Q.include({openTooltip:function(e,o,a){return this._initOverlay(_e,e,o,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),qt.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_e,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){var o,a;!e&&this._tooltipHandlersAdded||(o=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[o](a),this._tooltipHandlersAdded=!e)},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var o=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(e=this._map.mouseEventToContainerPoint(e.originalEvent),e=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(o)}}),J.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var o=o&&o.tagName==="DIV"?o:document.createElement("div"),a=this.options;return a.html instanceof Element?(Ze(o),o.appendChild(a.html)):o.innerHTML=a.html!==!1?a.html:"",a.bgPos&&(a=$(a.bgPos),o.style.backgroundPosition=-a.x+"px "+-a.y+"px"),this._setIconStyles(o,"icon"),o},createShadow:function(){return null}}));J.Default=hn;var _n=qt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:R.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){W(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),yt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var e;return this._map&&(this._removeAllTiles(),(e=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=C(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof U?e:new U(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o,a=this.getPane().children,l=-e(-1/0,1/0),_=0,g=a.length;_<g;_++)o=a[_].style.zIndex,a[_]!==this._container&&o&&(l=e(l,+o));isFinite(l)&&(this.options.zIndex=l+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!R.ielt9){ei(this._container,this.options.opacity);var e,o=+new Date,a=!1,l=!1;for(e in this._tiles){var _,g=this._tiles[e];g.current&&g.loaded&&(_=Math.min(1,(o-g.loaded)/200),ei(g.el,_),_<1?a=!0:(g.active?l=!0:this._onOpaqueTile(g),g.active=!0))}l&&!this._noPrune&&this._pruneTiles(),a&&(pt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=o-Math.abs(e-a),this._onUpdateLevel(a)):(yt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var l=this._levels[e],_=this._map;return l||((l=this._levels[e]={}).el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=o,l.origin=_.project(_.unproject(_.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,_.getCenter(),_.getZoom()),k(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,o,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(a=this._tiles[e]).retain=a.current;for(e in this._tiles)(a=this._tiles[e]).current&&!a.active&&(o=a.coords,this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2));for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)yt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(_,g,x,l){var _=Math.floor(_/2),g=Math.floor(g/2),x=x-1,P=new U(+_,+g),P=(P.z=x,this._tileCoordsToKey(P)),P=this._tiles[P];return P&&P.active?P.retain=!0:(P&&P.loaded&&(P.retain=!0),l<x&&this._retainParent(_,g,x,l))},_retainChildren:function(e,o,a,l){for(var _=2*e;_<2*e+2;_++)for(var g=2*o;g<2*o+2;g++){var x=new U(_,g),x=(x.z=a+1,this._tileCoordsToKey(x)),x=this._tiles[x];x&&x.active?x.retain=!0:(x&&x.loaded&&(x.retain=!0),a+1<l&&this._retainChildren(_,g,a+1,l))}},_resetView:function(e){e=e&&(e.pinch||e.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,a,l){var _=Math.round(o),_=this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?void 0:this._clampZoom(_),g=this.options.updateWhenZooming&&_!==this._tileZoom;l&&!g||(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,o)},_setZoomTransform:function(e,_,a){var l=this._map.getZoomScale(a,e.zoom),_=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(_,a)).round();R.any3d?xi(e.el,_,l):Et(e.el,_)},_resetGrid:function(){var e=this._map,o=e.options.crs,a=this._tileSize=this.getTileSize(),l=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],l).x/a.x),Math.ceil(e.project([0,o.wrapLng[1]],l).x/a.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],l).y/a.x),Math.ceil(e.project([o.wrapLat[1],0],l).y/a.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var l=this._map,o=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),o=l.getZoomScale(o,this._tileZoom),a=l.project(a,this._tileZoom).floor(),l=l.getSize().divideBy(2*o);return new O(a.subtract(l),a.add(l))},_update:function(e){var o=this._map;if(o){var a=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var l,o=this._getTiledPixelBounds(e),_=this._pxBoundsToTileRange(o),g=_.getCenter(),x=[],o=this.options.keepBuffer,P=new O(_.getBottomLeft().subtract([o,-o]),_.getTopRight().add([o,-o]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(l in this._tiles){var z=this._tiles[l].coords;z.z===this._tileZoom&&P.contains(new U(z.x,z.y))||(this._tiles[l].current=!1)}if(1<Math.abs(a-this._tileZoom))this._setView(e,a);else{for(var Z=_.min.y;Z<=_.max.y;Z++)for(var D=_.min.x;D<=_.max.x;D++){var rt,Lt=new U(D,Z);Lt.z=this._tileZoom,this._isValidTile(Lt)&&((rt=this._tiles[this._tileCoordsToKey(Lt)])?rt.current=!0:x.push(Lt))}if(x.sort(function(Kt,Ci){return Kt.distanceTo(g)-Ci.distanceTo(g)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));for(var pi=document.createDocumentFragment(),D=0;D<x.length;D++)this._addTile(x[D],pi);this._level.el.appendChild(pi)}}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var a=this._globalTileRange;if(!o.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!o.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}return this.options.bounds?(o=this._tileCoordsToBounds(e),ht(this.options.bounds).overlaps(o)):!0},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,l=this.getTileSize(),a=e.scaleBy(l),l=a.add(l);return[o.unproject(a,e.z),o.unproject(l,e.z)]},_tileCoordsToBounds:function(e){return e=this._tileCoordsToNwSe(e),e=new vt(e[0],e[1]),e=this.options.noWrap?e:this._map.wrapLatLngBounds(e)},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(o){var o=o.split(":"),a=new U(+o[0],+o[1]);return a.z=+o[2],a},_removeTile:function(e){var o=this._tiles[e];o&&(yt(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){X(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=k,e.onmousemove=k,R.ielt9&&this.options.opacity<1&&ei(e,this.options.opacity)},_addTile:function(e,o){var a=this._getTilePos(e),l=this._tileCoordsToKey(e),_=this.createTile(this._wrapCoords(e),v(this._tileReady,this,e));this._initTile(_),this.createTile.length<2&&ct(v(this._tileReady,this,e,null,_)),Et(_,a),this._tiles[l]={el:_,coords:e,current:!0},o.appendChild(_),this.fire("tileloadstart",{tile:_,coords:e})},_tileReady:function(e,o,a){o&&this.fire("tileerror",{error:o,tile:a,coords:e});var l=this._tileCoordsToKey(e);(a=this._tiles[l])&&(a.loaded=+new Date,this._map._fadeAnimated?(ei(a.el,0),pt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),o||(X(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),R.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new U(this._wrapX?E(e.x,this._wrapX):e.x,this._wrapY?E(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new O(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),bi=_n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,(o=W(this,o)).detectRetina&&R.retina&&0<o.maxZoom&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var a=document.createElement("img");return G(a,"load",v(this._tileOnLoad,this,o,a)),G(a,"error",v(this._tileOnError,this,o,a)),!this.options.crossOrigin&&this.options.crossOrigin!==""||(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(e),a},getTileUrl:function(e){var o={r:R.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(e=this._globalTileRange.max.y-e.y,this.options.tms&&(o.y=e),o["-y"]=e),Ge(this._url,u(o,this.options))},_tileOnLoad:function(e,o){R.ielt9?setTimeout(v(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,a){var l=this.options.errorTileUrl;l&&o.getAttribute("src")!==l&&(o.src=l),e(a,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom;return(e=this.options.zoomReverse?o-e:e)+this.options.zoomOffset},_getSubdomain:function(e){return e=Math.abs(e.x+e.y)%this.options.subdomains.length,this.options.subdomains[e]},_abortLoading:function(){var e,o,a;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((a=this._tiles[e].el).onload=k,a.onerror=k,a.complete||(a.src=vi,o=this._tiles[e].coords,yt(a),delete this._tiles[e],this.fire("tileabort",{tile:a,coords:o})))},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",vi),_n.prototype._removeTile.call(this,e)},_tileReady:function(e,o,a){if(this._map&&(!a||a.getAttribute("src")!==vi))return _n.prototype._tileReady.call(this,e,o,a)}});function Ti(e,o){return new bi(e,o)}var po=bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(_,o){this._url=_;var a,l=u({},this.defaultWmsParams);for(a in o)a in this.options||(l[a]=o[a]);var _=(o=W(this,o)).detectRetina&&R.retina?2:1,g=this.getTileSize();l.width=g.x*_,l.height=g.y*_,this.wmsParams=l},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[o]=this._crs.code,bi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),a=this._crs,a=nt(a.project(o[0]),a.project(o[1])),o=a.min,a=a.max,o=(1.3<=this._wmsVersion&&this._crs===Ro?[o.y,o.x,a.y,a.x]:[o.x,o.y,a.x,a.y]).join(","),a=bi.prototype.getTileUrl.call(this,e);return a+ai(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,o){return u(this.wmsParams,e),o||this.redraw(),this}});bi.WMS=po,Ti.wms=function(e,o){return new po(e,o)};var Ri=qt.extend({options:{padding:.1},initialize:function(e){W(this,e),w(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var a=this._map.getZoomScale(o,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,o),_=_.multiplyBy(-a).add(l).subtract(this._map._getNewPixelOrigin(e,o));R.any3d?xi(this._container,_,a):Et(this._container,_)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),a=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new O(a,a.add(o.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=Ri.extend({options:{tolerance:0},getEvents:function(){var e=Ri.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");G(e,"mousemove",this._onMouseMove,this),G(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){pt(this._redrawRequest),delete this._ctx,yt(this._container),B(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){var e,o,a,l;this._map._animatingZoom&&this._bounds||(Ri.prototype._update.call(this),e=this._bounds,o=this._container,a=e.getSize(),l=R.retina?2:1,Et(o,e.min),o.width=l*a.x,o.height=l*a.y,o.style.width=a.x+"px",o.style.height=a.y+"px",R.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update"))},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),e=(this._layers[w(e)]=e)._order={layer:e,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var a=e._order,o=a.next,a=a.prev;o?o.prev=a:this._drawLast=a,a?a.next=o:this._drawFirst=o,delete e._order,delete this._layers[w(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){for(var o,a=e.options.dashArray.split(/[, ]+/),l=[],_=0;_<a.length;_++){if(o=Number(a[_]),isNaN(o))return;l.push(o)}e.options._dashArray=l}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(e){var o;e._pxBounds&&(o=(e.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e,o=this._redrawBounds;o?(e=o.getSize(),this._ctx.clearRect(o.min.x,o.min.y,e.x,e.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var e,o,a=this._redrawBounds;this._ctx.save(),a&&(o=a.getSize(),this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,o.x,o.y),this._ctx.clip()),this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!a||e._pxBounds&&e._pxBounds.intersects(a))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var a,l,_,g,x=e._parts,P=x.length,z=this._ctx;if(P){for(z.beginPath(),a=0;a<P;a++){for(l=0,_=x[a].length;l<_;l++)g=x[a][l],z[l?"lineTo":"moveTo"](g.x,g.y);o&&z.closePath()}this._fillStroke(z,e)}}},_updateCircle:function(e){var o,a,l,_;this._drawing&&!e._empty()&&(o=e._point,a=this._ctx,l=Math.max(Math.round(e._radius),1),(_=(Math.max(Math.round(e._radiusY),1)||l)/l)!=1&&(a.save(),a.scale(1,_)),a.beginPath(),a.arc(o.x,o.y/_,l,0,2*Math.PI,!1),_!=1&&a.restore(),this._fillStroke(a,e))},_fillStroke:function(e,o){var a=o.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var o,a,l=this._map.mouseEventToLayerPoint(e),_=this._drawFirst;_;_=_.next)(o=_.layer).options.interactive&&o._containsPoint(l)&&((e.type==="click"||e.type==="preclick")&&this._map._draggableMoved(o)||(a=o));this._fireEvent(!!a&&[a],e)},_onMouseMove:function(e){var o;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(o=this._map.mouseEventToLayerPoint(e),this._handleMouseHover(e,o))},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(St(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var a,l,_=this._drawFirst;_;_=_.next)(a=_.layer).options.interactive&&a._containsPoint(o)&&(l=a);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(X(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,a){this._map._fireDOMEvent(o,a||o.type,e)},_bringToFront:function(e){var o,a,l=e._order;l&&(o=l.next,a=l.prev,o&&((o.prev=a)?a.next=o:o&&(this._drawFirst=o),l.prev=this._drawLast,(this._drawLast.next=l).next=null,this._drawLast=l,this._requestRedraw(e)))},_bringToBack:function(e){var o,a,l=e._order;l&&(o=l.next,(a=l.prev)&&((a.next=o)?o.prev=a:a&&(this._drawLast=a),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(e)))}});function Do(e){return R.canvas?new mo(e):null}var fe=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pe={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=fe("shape");X(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=fe("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[w(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;yt(o),e.removeInteractiveTarget(o),delete this._layers[w(e)]},_updateStyle:function(e){var o=e._stroke,a=e._fill,l=e.options,_=e._container;_.stroked=!!l.stroke,_.filled=!!l.fill,l.stroke?(o=o||(e._stroke=fe("stroke")),_.appendChild(o),o.weight=l.weight+"px",o.color=l.color,o.opacity=l.opacity,l.dashArray?o.dashStyle=Ct(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=l.lineCap.replace("butt","flat"),o.joinstyle=l.lineJoin):o&&(_.removeChild(o),e._stroke=null),l.fill?(a=a||(e._fill=fe("fill")),_.appendChild(a),a.color=l.fillColor||l.color,a.opacity=l.fillOpacity):a&&(_.removeChild(a),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),a=Math.round(e._radius),l=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+a+","+l+" 0,23592600")},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){he(e._container)},_bringToBack:function(e){li(e._container)}},Dn=R.vml?fe:bn,fn=Ri.extend({_initContainer:function(){this._container=Dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),B(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var e,o,a;this._map._animatingZoom&&this._bounds||(Ri.prototype._update.call(this),o=(e=this._bounds).getSize(),a=this._container,this._svgSize&&this._svgSize.equals(o)||(this._svgSize=o,a.setAttribute("width",o.x),a.setAttribute("height",o.y)),Et(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update"))},_initPath:function(e){var o=e._path=Dn("path");e.options.className&&X(o,e.options.className),e.options.interactive&&X(o,"leaflet-interactive"),this._updateStyle(e),this._layers[w(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){yt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[w(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(a){var o=a._path,a=a.options;o&&(a.stroke?(o.setAttribute("stroke",a.color),o.setAttribute("stroke-opacity",a.opacity),o.setAttribute("stroke-width",a.weight),o.setAttribute("stroke-linecap",a.lineCap),o.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?o.setAttribute("stroke-dasharray",a.dashArray):o.removeAttribute("stroke-dasharray"),a.dashOffset?o.setAttribute("stroke-dashoffset",a.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),a.fill?(o.setAttribute("fill",a.fillColor||a.color),o.setAttribute("fill-opacity",a.fillOpacity),o.setAttribute("fill-rule",a.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,So(e._parts,o))},_updateCircle:function(e){var l=e._point,o=Math.max(Math.round(e._radius),1),a="a"+o+","+(Math.max(Math.round(e._radiusY),1)||o)+" 0 1,0 ",l=e._empty()?"M0 0":"M"+(l.x-o)+","+l.y+a+2*o+",0 "+a+2*-o+",0 ";this._setPath(e,l)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){he(e._path)},_bringToBack:function(e){li(e._path)}});function go(e){return R.svg||R.vml?new fn(e):null}R.vml&&fn.include(pe),Q.include({getRenderer:function(e){return e=(e=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&Do(e)||go(e)}});var Ho=de.extend({initialize:function(e,o){de.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=ht(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});fn.create=Dn,fn.pointsToPath=So,Bi.geometryToLayer=lo,Bi.coordsToLatLng=co,Bi.coordsToLatLngs=oi,Bi.latLngToCoords=_o,Bi.latLngsToCoords=ln,Bi.getFeature=si,Bi.asFeature=cn,Q.mergeOptions({boxZoom:!0});var Rt=Qt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){B(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),en(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(e),G(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var o=new O(this._point,this._startPoint),a=o.getSize();Et(this._box,o.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(yt(this._box),St(this._container,"leaflet-crosshair")),Tn(),ao(),B(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){e.which!==1&&e.button!==1||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0),e=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})))},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),Ni=(Q.addInitHook("addHandler","boxZoom",Rt),Q.mergeOptions({doubleClickZoom:!0}),Qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,l=o.getZoom(),a=o.options.zoomDelta,l=e.originalEvent.shiftKey?l-a:l+a;o.options.doubleClickZoom==="center"?o.setZoom(l):o.setZoomAround(e.containerPoint,l)}})),Ji=(Q.addInitHook("addHandler","doubleClickZoom",Ni),Q.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Qt.extend({addHooks:function(){var e;this._draggable||(e=this._map,this._draggable=new Pi(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))),X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e,o=this._map;o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(e=ht(this._map.options.maxBounds),this._offsetLimit=nt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){var o,a;this._map.options.inertia&&(o=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(a),this._times.push(o),this._prunePositions(o)),this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){var e,o;this._viscosity&&this._offsetLimit&&(e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit,e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e))},_onPreDragWrap:function(){var _=this._worldWidth,e=Math.round(_/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,a=(l-e+o)%_+e-o,l=(l+e+o)%_-e-o,_=Math.abs(a+o)<Math.abs(l+o)?a:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(e){var o,a,l,_,g=this._map,x=g.options,P=!x.inertia||e.noInertia||this._times.length<2;g.fire("dragend",e),P?g.fire("moveend"):(this._prunePositions(+new Date),e=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,o=x.easeLinearity,P=(e=e.multiplyBy(o/P)).distanceTo([0,0]),a=Math.min(x.inertiaMaxSpeed,P),e=e.multiplyBy(a/P),l=a/(x.inertiaDeceleration*o),(_=e.multiplyBy(-l/2).round()).x||_.y?(_=g._limitOffset(_,g.options.maxBounds),ct(function(){g.panBy(_,{duration:l,easeLinearity:o,noMoveStart:!0,animate:!0})})):g.fire("moveend"))}})),Di=(Q.addInitHook("addHandler","dragging",Ji),Q.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),G(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),B(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var e,o,a;this._focused||(a=document.body,e=document.documentElement,o=a.scrollTop||e.scrollTop,a=a.scrollLeft||e.scrollLeft,this._map._container.focus(),window.scrollTo(a,o))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){for(var o=this._panKeys={},a=this.keyCodes,l=0,_=a.left.length;l<_;l++)o[a.left[l]]=[-1*e,0];for(l=0,_=a.right.length;l<_;l++)o[a.right[l]]=[e,0];for(l=0,_=a.down.length;l<_;l++)o[a.down[l]]=[0,e];for(l=0,_=a.up.length;l<_;l++)o[a.up[l]]=[0,-1*e]},_setZoomDelta:function(e){for(var o=this._zoomKeys={},a=this.keyCodes,l=0,_=a.zoomIn.length;l<_;l++)o[a.zoomIn[l]]=e;for(l=0,_=a.zoomOut.length;l<_;l++)o[a.zoomOut[l]]=-e},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){B(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o,a=e.keyCode,l=this._map;if(a in this._panKeys)l._panAnim&&l._panAnim._inProgress||(o=this._panKeys[a],e.shiftKey&&(o=$(o).multiplyBy(3)),l.panBy(o),l.options.maxBounds&&l.panInsideBounds(l.options.maxBounds));else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[a]);else{if(a!==27||!l._popup||!l._popup.options.closeOnEscapeKey)return;l.closePopup()}wi(e)}}})),Hn=(Q.addInitHook("addHandler","keyboard",Di),Q.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Qt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){B(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var a=nn(e),o=this._map.options.wheelDebounceTime,a=(this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date),Math.max(o-(+new Date-this._startTime),0));clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),a),wi(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),a=this._map.options.zoomSnap||0,l=(e._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel)),l=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,a=a?Math.ceil(l/a)*a:l,l=e._limitZoom(o+(0<this._delta?a:-a))-o;this._delta=0,this._startTime=null,l&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+l):e.setZoomAround(this._lastMousePos,o+l))}})),Mi=(Q.addInitHook("addHandler","scrollWheelZoom",Hn),Q.mergeOptions({tapHold:R.touchNative&&R.safari&&R.mobile,tapTolerance:15}),Qt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){B(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){var o;clearTimeout(this._holdTimeout),e.touches.length===1&&(o=e.touches[0],this._startPos=this._newPos=new U(o.clientX,o.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Dt),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),600),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function e(){B(document,"touchend",Dt),B(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),B(document,"touchend touchcancel contextmenu",this._cancel,this),B(document,"touchmove",this._onMove,this)},_onMove:function(e){e=e.touches[0],this._newPos=new U(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){e=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY}),e._simulated=!0,o.target.dispatchEvent(e)}})),pn=(Q.addInitHook("addHandler","tapHold",Mi),Q.mergeOptions({touchZoom:R.touch,bounceAtZoomLimits:!0}),Qt.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),B(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o,a,l=this._map;!e.touches||e.touches.length!==2||l._animatingZoom||this._zooming||(o=l.mouseEventToContainerPoint(e.touches[0]),a=l.mouseEventToContainerPoint(e.touches[1]),this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(o.add(a)._divideBy(2))),this._startDist=o.distanceTo(a),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Dt(e))},_onTouchMove:function(e){if(e.touches&&e.touches.length===2&&this._zooming){var o=this._map,a=o.mouseEventToContainerPoint(e.touches[0]),l=o.mouseEventToContainerPoint(e.touches[1]),_=a.distanceTo(l)/this._startDist;if(this._zoom=o.getScaleZoom(_,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&_<1||this._zoom>o.getMaxZoom()&&1<_)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,_==1)return}else{if(a=a._add(l)._divideBy(2)._subtract(this._centerPoint),_==1&&a.x===0&&a.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),pt(this._animRequest),l=v(o._move,o,this._center,this._zoom,{pinch:!0,round:!1}),this._animRequest=ct(l,this,!0),Dt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,pt(this._animRequest),B(document,"touchmove",this._onTouchMove,this),B(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}})),mn=(Q.addInitHook("addHandler","touchZoom",pn),Q.BoxZoom=Rt,Q.DoubleClickZoom=Ni,Q.Drag=Ji,Q.Keyboard=Di,Q.ScrollWheelZoom=Hn,Q.TapHold=Mi,Q.TouchZoom=pn,r.Bounds=O,r.Browser=R,r.CRS=ut,r.Canvas=mo,r.Circle=un,r.CircleMarker=On,r.Class=Zt,r.Control=Jt,r.DivIcon=Xi,r.DivOverlay=fi,r.DomEvent=Tt,r.DomUtil=ae,r.Draggable=Pi,r.Evented=Ft,r.FeatureGroup=ce,r.GeoJSON=Bi,r.GridLayer=_n,r.Handler=Qt,r.Icon=J,r.ImageOverlay=Rn,r.LatLng=V,r.LatLngBounds=vt,r.Layer=qt,r.LayerGroup=Be,r.LineUtil=Xe,r.Map=Q,r.Marker=Yi,r.Mixin=Gi,r.Path=Oi,r.Point=U,r.PolyUtil=Ie,r.Polygon=de,r.Polyline=Ii,r.Popup=dn,r.PosAnimation=Vi,r.Projection=Li,r.Rectangle=Ho,r.Renderer=Ri,r.SVG=fn,r.SVGOverlay=No,r.TileLayer=bi,r.Tooltip=_e,r.Transformation=Ln,r.Util=Ke,r.VideoOverlay=Nn,r.bind=v,r.bounds=nt,r.canvas=Do,r.circle=function(e,o,a){return new un(e,o,a)},r.circleMarker=function(e,o){return new On(e,o)},r.control=Ai,r.divIcon=function(e){return new Xi(e)},r.extend=u,r.featureGroup=function(e,o){return new ce(e,o)},r.geoJSON=fo,r.geoJson=Bn,r.gridLayer=function(e){return new _n(e)},r.icon=function(e){return new J(e)},r.imageOverlay=function(e,o,a){return new Rn(e,o,a)},r.latLng=F,r.latLngBounds=ht,r.layerGroup=function(e,o){return new Be(e,o)},r.map=function(e,o){return new Q(e,o)},r.marker=function(e,o){return new Yi(e,o)},r.point=$,r.polygon=function(e,o){return new de(e,o)},r.polyline=function(e,o){return new Ii(e,o)},r.popup=function(e,o){return new dn(e,o)},r.rectangle=function(e,o){return new Ho(e,o)},r.setOptions=W,r.stamp=w,r.svg=go,r.svgOverlay=function(e,o,a){return new No(e,o,a)},r.tileLayer=Ti,r.tooltip=function(e,o){return new _e(e,o)},r.transformation=se,r.version="1.8.0",r.videoOverlay=function(e,o,a){return new Nn(e,o,a)},window.L);r.noConflict=function(){return window.L=mn,this},window.L=r})})(pr,pr.exports);var Si={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,s){(function(r,u){u(s)})(kr,function(r){var u="1.8.0";function d(t){var n,h,c,f;for(h=1,c=arguments.length;h<c;h++){f=arguments[h];for(n in f)t[n]=f[n]}return t}var p=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function v(t,n){var h=Array.prototype.slice;if(t.bind)return t.bind.apply(t,h.call(arguments,1));var c=h.call(arguments,2);return function(){return t.apply(n,c.length?c.concat(h.call(arguments)):arguments)}}var b=0;function w(t){return"_leaflet_id"in t||(t._leaflet_id=++b),t._leaflet_id}function C(t,n,h){var c,f,m,y;return y=function(){c=!1,f&&(m.apply(h,f),f=!1)},m=function(){c?f=arguments:(t.apply(h,arguments),setTimeout(y,n),c=!0)},m}function E(t,n,h){var c=n[1],f=n[0],m=c-f;return t===c&&h?t:((t-f)%m+m)%m+f}function k(){return!1}function N(t,n){if(n===!1)return t;var h=Math.pow(10,n===void 0?6:n);return Math.round(t*h)/h}function Yt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Bt(t){return Yt(t).split(/\s+/)}function W(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var h in n)t.options[h]=n[h];return t.options}function ai(t,n,h){var c=[];for(var f in t)c.push(encodeURIComponent(h?f.toUpperCase():f)+"="+encodeURIComponent(t[f]));return(!n||n.indexOf("?")===-1?"?":"&")+c.join("&")}var Ve=/\{ *([\w_ -]+) *\}/g;function Ge(t,n){return t.replace(Ve,function(h,c){var f=n[c];if(f===void 0)throw new Error("No value provided for variable "+h);return typeof f=="function"&&(f=f(n)),f})}var Ct=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ne(t,n){for(var h=0;h<t.length;h++)if(t[h]===n)return h;return-1}var vi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var be=0;function gt(t){var n=+new Date,h=Math.max(0,16-(n-be));return be=n+h,window.setTimeout(t,h)}var yi=window.requestAnimationFrame||oe("RequestAnimationFrame")||gt,qe=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ct(t,n,h){if(h&&yi===gt)t.call(n);else return yi.call(window,v(t,n))}function pt(t){t&&qe.call(window,t)}var Ke={__proto__:null,extend:d,create:p,bind:v,get lastId(){return b},stamp:w,throttle:C,wrapNum:E,falseFn:k,formatNum:N,trim:Yt,splitWords:Bt,setOptions:W,getParamString:ai,template:Ge,isArray:Ct,indexOf:ne,emptyImageUrl:vi,requestFn:yi,cancelFn:qe,requestAnimFrame:ct,cancelAnimFrame:pt};function Zt(){}Zt.extend=function(t){var n=function(){W(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=n.__super__=this.prototype,c=p(h);c.constructor=n,n.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(n[f]=this[f]);return t.statics&&d(n,t.statics),t.includes&&(Xt(t.includes),d.apply(null,[c].concat(t.includes))),d(c,t),delete c.statics,delete c.includes,c.options&&(c.options=h.options?p(h.options):{},d(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=c._initHooks.length;m<y;m++)c._initHooks[m].call(this)}},n},Zt.include=function(t){var n=this.prototype.options;return d(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},Zt.mergeOptions=function(t){return d(this.prototype.options,t),this},Zt.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),h=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Xt(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=Ct(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ft={on:function(t,n,h){if(typeof t=="object")for(var c in t)this._on(c,t[c],n);else{t=Bt(t);for(var f=0,m=t.length;f<m;f++)this._on(t[f],n,h)}return this},off:function(t,n,h){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var c in t)this._off(c,t[c],n);else{t=Bt(t);for(var f=arguments.length===1,m=0,y=t.length;m<y;m++)f?this._off(t[m]):this._off(t[m],n,h)}return this},_on:function(t,n,h){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}this._events=this._events||{};var c=this._events[t];c||(c=[],this._events[t]=c),h===this&&(h=void 0);for(var f={fn:n,ctx:h},m=c,y=0,T=m.length;y<T;y++)if(m[y].fn===n&&m[y].ctx===h)return;m.push(f)},_off:function(t,n,h){var c,f,m;if(!!this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=k;delete this._events[t];return}if(h===this&&(h=void 0),typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}for(f=0,m=c.length;f<m;f++){var y=c[f];if(y.ctx===h&&y.fn===n){this._firingCount&&(y.fn=k,this._events[t]=c=c.slice()),c.splice(f,1);return}}console.warn("listener not found")}},fire:function(t,n,h){if(!this.listens(t,h))return this;var c=d({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var f=this._events[t];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,y=f.length;m<y;m++){var T=f[m];T.fn.call(T.ctx||this,c)}this._firingCount--}}return h&&this._propagateEvent(c),this},listens:function(t,n){typeof t!="string"&&console.warn('"string" type argument expected');var h=this._events&&this._events[t];if(h&&h.length)return!0;if(n){for(var c in this._eventParents)if(this._eventParents[c].listens(t,n))return!0}return!1},once:function(t,n,h){if(typeof t=="object"){for(var c in t)this.once(c,t[c],n);return this}var f=v(function(){this.off(t,n,h).off(t,f,h)},this);return this.on(t,n,h).on(t,f,h)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[w(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[w(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,d({layer:t.target,propagatedFrom:t.target},t),!0)}};Ft.addEventListener=Ft.on,Ft.removeEventListener=Ft.clearAllEventListeners=Ft.off,Ft.addOneTimeEventListener=Ft.once,Ft.fireEvent=Ft.fire,Ft.hasEventListeners=Ft.listens;var U=Zt.extend(Ft);function j(t,n,h){this.x=h?Math.round(t):t,this.y=h?Math.round(n):n}var $=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new j(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new j(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(t){t=O(t);var n=t.x-this.x,h=t.y-this.y;return Math.sqrt(n*n+h*h)},equals:function(t){return t=O(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function O(t,n,h){return t instanceof j?t:Ct(t)?new j(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new j(t.x,t.y):new j(t,n,h)}function nt(t,n){if(!!t)for(var h=n?[t,n]:t,c=0,f=h.length;c<f;c++)this.extend(h[c])}nt.prototype={extend:function(t){return t=O(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new j(this.min.x,this.max.y)},getTopRight:function(){return new j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,h;return typeof t[0]=="number"||t instanceof j?t=O(t):t=vt(t),t instanceof nt?(n=t.min,h=t.max):n=h=t,n.x>=this.min.x&&h.x<=this.max.x&&n.y>=this.min.y&&h.y<=this.max.y},intersects:function(t){t=vt(t);var n=this.min,h=this.max,c=t.min,f=t.max,m=f.x>=n.x&&c.x<=h.x,y=f.y>=n.y&&c.y<=h.y;return m&&y},overlaps:function(t){t=vt(t);var n=this.min,h=this.max,c=t.min,f=t.max,m=f.x>n.x&&c.x<h.x,y=f.y>n.y&&c.y<h.y;return m&&y},isValid:function(){return!!(this.min&&this.max)}};function vt(t,n){return!t||t instanceof nt?t:new nt(t,n)}function ht(t,n){if(!!t)for(var h=n?[t,n]:t,c=0,f=h.length;c<f;c++)this.extend(h[c])}ht.prototype={extend:function(t){var n=this._southWest,h=this._northEast,c,f;if(t instanceof F)c=t,f=t;else if(t instanceof ht){if(c=t._southWest,f=t._northEast,!c||!f)return this}else return t?this.extend(ut(t)||V(t)):this;return!n&&!h?(this._southWest=new F(c.lat,c.lng),this._northEast=new F(f.lat,f.lng)):(n.lat=Math.min(c.lat,n.lat),n.lng=Math.min(c.lng,n.lng),h.lat=Math.max(f.lat,h.lat),h.lng=Math.max(f.lng,h.lng)),this},pad:function(t){var n=this._southWest,h=this._northEast,c=Math.abs(n.lat-h.lat)*t,f=Math.abs(n.lng-h.lng)*t;return new ht(new F(n.lat-c,n.lng-f),new F(h.lat+c,h.lng+f))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof F||"lat"in t?t=ut(t):t=V(t);var n=this._southWest,h=this._northEast,c,f;return t instanceof ht?(c=t.getSouthWest(),f=t.getNorthEast()):c=f=t,c.lat>=n.lat&&f.lat<=h.lat&&c.lng>=n.lng&&f.lng<=h.lng},intersects:function(t){t=V(t);var n=this._southWest,h=this._northEast,c=t.getSouthWest(),f=t.getNorthEast(),m=f.lat>=n.lat&&c.lat<=h.lat,y=f.lng>=n.lng&&c.lng<=h.lng;return m&&y},overlaps:function(t){t=V(t);var n=this._southWest,h=this._northEast,c=t.getSouthWest(),f=t.getNorthEast(),m=f.lat>n.lat&&c.lat<h.lat,y=f.lng>n.lng&&c.lng<h.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=V(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(t,n){return t instanceof ht?t:new ht(t,n)}function F(t,n,h){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,h!==void 0&&(this.alt=+h)}F.prototype={equals:function(t,n){if(!t)return!1;t=ut(t);var h=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return h<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+N(this.lat,t)+", "+N(this.lng,t)+")"},distanceTo:function(t){return Ut.distance(this,ut(t))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,h=n/Math.cos(Math.PI/180*this.lat);return V([this.lat-n,this.lng-h],[this.lat+n,this.lng+h])},clone:function(){return new F(this.lat,this.lng,this.alt)}};function ut(t,n,h){return t instanceof F?t:Ct(t)&&typeof t[0]!="object"?t.length===3?new F(t[0],t[1],t[2]):t.length===2?new F(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new F(t,n,h)}var Gt={latLngToPoint:function(t,n){var h=this.projection.project(t),c=this.scale(n);return this.transformation._transform(h,c)},pointToLatLng:function(t,n){var h=this.scale(n),c=this.transformation.untransform(t,h);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,h=this.scale(t),c=this.transformation.transform(n.min,h),f=this.transformation.transform(n.max,h);return new nt(c,f)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?E(t.lng,this.wrapLng,!0):t.lng,h=this.wrapLat?E(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new F(h,n,c)},wrapLatLngBounds:function(t){var n=t.getCenter(),h=this.wrapLatLng(n),c=n.lat-h.lat,f=n.lng-h.lng;if(c===0&&f===0)return t;var m=t.getSouthWest(),y=t.getNorthEast(),T=new F(m.lat-c,m.lng-f),M=new F(y.lat-c,y.lng-f);return new ht(T,M)}},Ut=d({},Gt,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var h=Math.PI/180,c=t.lat*h,f=n.lat*h,m=Math.sin((n.lat-t.lat)*h/2),y=Math.sin((n.lng-t.lng)*h/2),T=m*m+Math.cos(c)*Math.cos(f)*y*y,M=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*M}}),Ln=6378137,se={R:Ln,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,h=this.MAX_LATITUDE,c=Math.max(Math.min(h,t.lat),-h),f=Math.sin(c*n);return new j(this.R*t.lng*n,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(t){var n=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=Ln*Math.PI;return new nt([-t,-t],[t,t])}()};function re(t,n,h,c){if(Ct(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=h,this._d=c}re.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new j((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function Ye(t,n,h,c){return new re(t,n,h,c)}var bn=d({},Ut,{code:"EPSG:3857",projection:se,transformation:function(){var t=.5/(Math.PI*se.R);return Ye(t,.5,-t,.5)}()}),So=d({},bn,{code:"EPSG:900913"});function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xe(t,n){var h="",c,f,m,y,T,M;for(c=0,m=t.length;c<m;c++){for(T=t[c],f=0,y=T.length;f<y;f++)M=T[f],h+=(f?"L":"M")+M.x+" "+M.y;h+=n?I.svg?"z":"x":""}return h||"M0 0"}var Te=document.documentElement.style,Fi="ActiveXObject"in window,ko=Fi&&!document.addEventListener,Zo="msLaunchUri"in navigator&&!("documentMode"in document),Yn=ti("webkit"),Eo=ti("android"),Ao=ti("android 2")||ti("android 3"),fs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ps=Eo&&ti("Google")&&fs<537&&!("AudioNode"in window),Je=!!window.opera,Qe=!Zo&&ti("chrome"),ui=ti("gecko")&&!Yn&&!Je&&!Fi,R=!Qe&&ti("safari"),Xn=ti("phantom"),Jn="OTransition"in Te,Oo=navigator.platform.indexOf("Win")===0,Qn=Fi&&"transition"in Te,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ao,$n="MozPerspective"in Te,Me=!window.L_DISABLE_3D&&(Qn||$e||$n)&&!Jn&&!Xn,ze=typeof orientation!="undefined"||ti("mobile"),ms=ze&&Yn,gs=ze&&$e,Io=!window.PointerEvent&&window.MSPointerEvent,to=!!(window.PointerEvent||Io),tn="ontouchstart"in window||!!window.TouchEvent,vs=!window.L_NO_TOUCH&&(tn||to),ys=ze&&Je,io=ze&&ui,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,en=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",k,n),window.removeEventListener("testPassiveEventSupport",k,n)}catch{}return t}(),Tn=function(){return!!document.createElement("canvas").getContext}(),Se=!!(document.createElementNS&&ae("svg").createSVGRect),eo=!!Se&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),no=!Se&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}();function ti(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var I={ie:Fi,ielt9:ko,edge:Zo,webkit:Yn,android:Eo,android23:Ao,androidStock:ps,opera:Je,chrome:Qe,gecko:ui,safari:R,phantom:Xn,opera12:Jn,win:Oo,ie3d:Qn,webkit3d:$e,gecko3d:$n,any3d:Me,mobile:ze,mobileWebkit:ms,mobileWebkit3d:gs,msPointer:Io,pointer:to,touch:vs,touchNative:tn,mobileOpera:ys,mobileGecko:io,retina:Ce,passiveEvents:en,canvas:Tn,svg:Se,vml:no,inlineSvg:eo},oo=I.msPointer?"MSPointerDown":"pointerdown",ke=I.msPointer?"MSPointerMove":"pointermove",ot=I.msPointer?"MSPointerUp":"pointerup",yt=I.msPointer?"MSPointerCancel":"pointercancel",Ze={touchstart:oo,touchmove:ke,touchend:ot,touchcancel:yt},he={touchstart:Et,touchmove:xi,touchend:xi,touchcancel:xi},li={},Mn=!1;function X(t,n,h){return n==="touchstart"&&Cn(),he[n]?(h=he[n].bind(this,h),t.addEventListener(Ze[n],h,!1),h):(console.warn("wrong event specified:",n),L.Util.falseFn)}function St(t,n,h){if(!Ze[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Ze[n],h,!1)}function so(t){li[t.pointerId]=t}function zn(t){li[t.pointerId]&&(li[t.pointerId]=t)}function ei(t){delete li[t.pointerId]}function Cn(){Mn||(document.addEventListener(oo,so,!0),document.addEventListener(ke,zn,!0),document.addEventListener(ot,ei,!0),document.addEventListener(yt,ei,!0),Mn=!0)}function xi(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var h in li)n.touches.push(li[h]);n.changedTouches=[n],t(n)}}function Et(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Mt(n),xi(t,n)}function ue(t){var n={},h,c;for(c in t)h=t[c],n[c]=h&&h.bind?h.bind(t):h;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var ro=200;function ao(t,n){t.addEventListener("dblclick",n);var h=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=Date.now();y-h<=ro?(c++,c===2&&n(ue(m))):c=1,h=y}}return t.addEventListener("click",f),{dblclick:n,simDblclick:f}}function ho(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var Ee=nn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ae=nn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn=Ae==="webkitTransition"||Ae==="OTransition"?Ae+"End":"transitionend";function G(t){return typeof t=="string"?document.getElementById(t):t}function ii(t,n){var h=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!h||h==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);h=c?c[n]:null}return h==="auto"?null:h}function B(t,n,h){var c=document.createElement(t);return c.className=n||"",h&&h.appendChild(c),c}function xt(t){var n=t.parentNode;n&&n.removeChild(t)}function Oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ui(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function ji(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function Zi(t,n){if(t.classList!==void 0)return t.classList.contains(n);var h=wi(t);return h.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(h)}function q(t,n){if(t.classList!==void 0)for(var h=Bt(n),c=0,f=h.length;c<f;c++)t.classList.add(h[c]);else if(!Zi(t,n)){var m=wi(t);Dt(t,(m?m+" ":"")+n)}}function mt(t,n){t.classList!==void 0?t.classList.remove(n):Dt(t,Yt((" "+wi(t)+" ").replace(" "+n+" "," ")))}function Dt(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function wi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function ni(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&xs(t,n)}function xs(t,n){var h=!1,c="DXImageTransform.Microsoft.Alpha";try{h=t.filters.item(c)}catch{if(n===1)return}n=Math.round(n*100),h?(h.Enabled=n!==100,h.Opacity=n):t.style.filter+=" progid:"+c+"(opacity="+n+")"}function nn(t){for(var n=document.documentElement.style,h=0;h<t.length;h++)if(t[h]in n)return t[h];return!1}function Ei(t,n,h){var c=n||new j(0,0);t.style[Ee]=(I.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(h?" scale("+h+")":"")}function Tt(t,n){t._leaflet_pos=n,I.any3d?Ei(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Vi(t){return t._leaflet_pos||new j(0,0)}var Q,Ai,kn;if("onselectstart"in document)Q=function(){K(window,"selectstart",Mt)},Ai=function(){dt(window,"selectstart",Mt)};else{var Jt=nn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Q=function(){if(Jt){var t=document.documentElement.style;kn=t[Jt],t[Jt]="none"}},Ai=function(){Jt&&(document.documentElement.style[Jt]=kn,kn=void 0)}}function Zn(){K(window,"dragstart",Mt)}function on(){dt(window,"dragstart",Mt)}var sn,rn;function Qt(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(Gi(),sn=t,rn=t.style.outline,t.style.outline="none",K(window,"keydown",Gi))}function Gi(){!sn||(sn.style.outline=rn,sn=void 0,rn=void 0,dt(window,"keydown",Gi))}function uo(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Pi(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var Bo={__proto__:null,TRANSFORM:Ee,TRANSITION:Ae,TRANSITION_END:Sn,get:G,getStyle:ii,create:B,remove:xt,empty:Oe,toFront:Ui,toBack:ji,hasClass:Zi,addClass:q,removeClass:mt,setClass:Dt,getClass:wi,setOpacity:ni,testProp:nn,setTransform:Ei,setPosition:Tt,getPosition:Vi,get disableTextSelection(){return Q},get enableTextSelection(){return Ai},disableImageDrag:Zn,enableImageDrag:on,preventOutline:Qt,restoreOutline:Gi,getSizedParentNode:uo,getScale:Pi};function K(t,n,h,c){if(n&&typeof n=="object")for(var f in n)di(t,f,n[f],h);else{n=Bt(n);for(var m=0,y=n.length;m<y;m++)di(t,n[m],h,c)}return this}var ci="_leaflet_events";function dt(t,n,h,c){if(arguments.length===1)qi(t),delete t[ci];else if(n&&typeof n=="object")for(var f in n)En(t,f,n[f],h);else if(n=Bt(n),arguments.length===2)qi(t,function(T){return ne(n,T)!==-1});else for(var m=0,y=n.length;m<y;m++)En(t,n[m],h,c);return this}function qi(t,n){for(var h in t[ci]){var c=h.split(/\d/)[0];(!n||n(c))&&En(t,c,null,null,h)}}var le={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function di(t,n,h,c){var f=n+w(h)+(c?"_"+w(c):"");if(t[ci]&&t[ci][f])return this;var m=function(T){return h.call(c||t,T||window.event)},y=m;!I.touchNative&&I.pointer&&n.indexOf("touch")===0?m=X(t,n,m):I.touch&&n==="dblclick"?m=ao(t,m):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(le[n]||n,m,I.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(m=function(T){T=T||window.event,qt(t,T)&&y(T)},t.addEventListener(le[n],m,!1)):t.addEventListener(n,y,!1):t.attachEvent("on"+n,m),t[ci]=t[ci]||{},t[ci][f]=m}function En(t,n,h,c,f){f=f||n+w(h)+(c?"_"+w(c):"");var m=t[ci]&&t[ci][f];if(!m)return this;!I.touchNative&&I.pointer&&n.indexOf("touch")===0?St(t,n,m):I.touch&&n==="dblclick"?ho(t,m):"removeEventListener"in t?t.removeEventListener(le[n]||n,m,!1):t.detachEvent("on"+n,m),t[ci][f]=null}function Ki(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ie(t){return di(t,"wheel",Ki),this}function _i(t){return K(t,"mousedown touchstart dblclick contextmenu",Ki),t._leaflet_disable_click=!0,this}function Mt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Li(t){return Mt(t),Ki(t),this}function An(t,n){if(!n)return new j(t.clientX,t.clientY);var h=Pi(n),c=h.boundingClientRect;return new j((t.clientX-c.left)/h.x-n.clientLeft,(t.clientY-c.top)/h.y-n.clientTop)}var Ro=I.win&&I.chrome?2*window.devicePixelRatio:I.gecko?window.devicePixelRatio:1;function an(t){return I.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ro:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function qt(t,n){var h=n.relatedTarget;if(!h)return!0;try{for(;h&&h!==t;)h=h.parentNode}catch{return!1}return h!==t}var Be={__proto__:null,on:K,off:dt,stopPropagation:Ki,disableScrollPropagation:Ie,disableClickPropagation:_i,preventDefault:Mt,stop:Li,getMousePosition:An,getWheelDelta:an,isExternalTarget:qt,addListener:K,removeListener:dt},ce=U.extend({run:function(t,n,h,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Vi(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,h=this._duration*1e3;n<h?this._runFrame(this._easeOut(n/h),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var h=this._startPos.add(this._offset.multiplyBy(t));n&&h._round(),Tt(this._el,h),this.fire("step")},_complete:function(){pt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),J=U.extend({options:{crs:bn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=W(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(ut(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ae&&I.any3d&&!I.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,h){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(ut(t),n,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var c=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,h.zoom):this._tryAnimatedPan(t,h.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,h){var c=this.getZoomScale(n),f=this.getSize().divideBy(2),m=t instanceof j?t:this.latLngToContainerPoint(t),y=m.subtract(f).multiplyBy(1-1/c),T=this.containerPointToLatLng(f.add(y));return this.setView(T,n,{zoom:h})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():V(t);var h=O(n.paddingTopLeft||n.padding||[0,0]),c=O(n.paddingBottomRight||n.padding||[0,0]),f=this.getBoundsZoom(t,!1,h.add(c));if(f=typeof n.maxZoom=="number"?Math.min(n.maxZoom,f):f,f===1/0)return{center:t.getCenter(),zoom:f};var m=c.subtract(h).divideBy(2),y=this.project(t.getSouthWest(),f),T=this.project(t.getNorthEast(),f),M=this.unproject(y.add(T).divideBy(2).add(m),f);return{center:M,zoom:f}},fitBounds:function(t,n){if(t=V(t),!t.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(t,n);return this.setView(h.center,h.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=O(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ce,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){q(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,h,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,h){if(h=h||{},h.animate===!1||!I.any3d)return this.setView(t,n,h);this._stop();var c=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),y=this._zoom;t=ut(t),n=n===void 0?y:n;var T=Math.max(m.x,m.y),M=T*this.getZoomScale(y,n),S=f.distanceTo(c)||1,A=1.42,et=A*A;function at(Ht){var Go=Ht?-1:1,Wa=Ht?M:T,Fa=M*M-T*T+Go*et*et*S*S,Ua=2*Wa*et*S,Ps=Fa/Ua,fr=Math.sqrt(Ps*Ps+1)-Ps,ja=fr<1e-9?-18:Math.log(fr);return ja}function ve(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function vn(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}function Vo(Ht){return ve(Ht)/vn(Ht)}var De=at(0);function ws(Ht){return T*(vn(De)/vn(De+A*Ht))}function Ra(Ht){return T*(vn(De)*Vo(De+A*Ht)-ve(De))/et}function Na(Ht){return 1-Math.pow(1-Ht,1.5)}var Da=Date.now(),dr=(at(1)-De)/A,Ha=h.duration?1e3*h.duration:1e3*dr*.8;function _r(){var Ht=(Date.now()-Da)/Ha,Go=Na(Ht)*dr;Ht<=1?(this._flyToFrame=ct(_r,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Ra(Go)/S)),y),this.getScaleZoom(T/ws(Go),y),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),_r.call(this),this},flyToBounds:function(t,n){var h=this._getBoundsCenterZoom(t,n);return this.flyTo(h.center,h.zoom,n)},setMaxBounds:function(t){if(t=V(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var h=this.getCenter(),c=this._limitCenter(h,this._zoom,V(t));return h.equals(c)||this.panTo(c,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var h=O(n.paddingTopLeft||n.padding||[0,0]),c=O(n.paddingBottomRight||n.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(t),y=this.getPixelBounds(),T=vt([y.min.add(h),y.max.subtract(c)]),M=T.getSize();if(!T.contains(m)){this._enforcingBounds=!0;var S=m.subtract(T.getCenter()),A=T.extend(m).getSize().subtract(M);f.x+=S.x<0?-A.x:A.x,f.y+=S.y<0?-A.y:A.y,this.panTo(this.unproject(f),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=d({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),c=n.divideBy(2).round(),f=h.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(t.animate&&t.pan?this.panBy(m):(t.pan&&this._rawPanBy(m),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=d({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=v(this._handleGeolocationResponse,this),h=v(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,h,t):navigator.geolocation.getCurrentPosition(n,h,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var n=t.code,h=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var n=t.coords.latitude,h=t.coords.longitude,c=new F(n,h),f=c.toBounds(t.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(y,m.maxZoom):y)}var T={latlng:c,bounds:f,timestamp:t.timestamp};for(var M in t.coords)typeof t.coords[M]=="number"&&(T[M]=t.coords[M]);this.fire("locationfound",T)}},addHandler:function(t,n){if(!n)return this;var h=this[t]=new n(this);return this._handlers.push(h),this.options[t]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)xt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var h="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),c=B("div",h,n||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),h=this.unproject(t.getTopRight());return new ht(n,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,h){t=V(t),h=O(h||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),y=t.getNorthWest(),T=t.getSouthEast(),M=this.getSize().subtract(h),S=vt(this.project(T,c),this.project(y,c)).getSize(),A=I.any3d?this.options.zoomSnap:1,et=M.x/S.x,at=M.y/S.y,ve=n?Math.max(et,at):Math.min(et,at);return c=this.getScaleZoom(ve,c),A&&(c=Math.round(c/(A/100))*(A/100),c=n?Math.ceil(c/A)*A:Math.floor(c/A)*A),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var h=this._getTopLeftPoint(t,n);return new nt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var h=this.options.crs;return n=n===void 0?this._zoom:n,h.scale(t)/h.scale(n)},getScaleZoom:function(t,n){var h=this.options.crs;n=n===void 0?this._zoom:n;var c=h.zoom(t*h.scale(n));return isNaN(c)?1/0:c},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(ut(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(O(t),n)},layerPointToLatLng:function(t){var n=O(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(ut(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ut(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(V(t))},distance:function(t,n){return this.options.crs.distance(ut(t),ut(n))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(t)))},mouseEventToContainerPoint:function(t){return An(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=G(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(n,"scroll",this._onScroll,this),this._containerId=w(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&I.any3d,q(t,"leaflet-container"+(I.touch?" leaflet-touch":"")+(I.retina?" leaflet-retina":"")+(I.ielt9?" leaflet-oldie":"")+(I.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=ii(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(t.markerPane,"leaflet-zoom-hide"),q(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n){Tt(this._mapPane,new j(0,0));var h=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var c=this._zoom!==n;this._moveStart(c,!1)._move(t,n)._moveEnd(c),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,h,c){n===void 0&&(n=this._zoom);var f=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?h&&h.pinch&&this.fire("zoom",h):((f||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Tt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[w(this._container)]=this;var n=t?dt:K;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),I.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var h=[],c,f=n==="mouseout"||n==="mouseover",m=t.target||t.srcElement,y=!1;m;){if(c=this._targets[w(m)],c&&(n==="click"||n==="preclick")&&this._draggableMoved(c)){y=!0;break}if(c&&c.listens(n,!0)&&(f&&!qt(m,t)||(h.push(c),f))||m===this._container)break;m=m.parentNode}return!h.length&&!y&&!f&&this.listens(n,!0)&&(h=[this]),h},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var h=t.type;h==="mousedown"&&Qt(n),this._fireDOMEvent(t,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,h){if(t.type==="click"){var c=d({},t);c.type="preclick",this._fireDOMEvent(c,c.type,h)}var f=this._findEventTargets(t,n);if(h){for(var m=[],y=0;y<h.length;y++)h[y].listens(n,!0)&&m.push(h[y]);f=m.concat(f)}if(!!f.length){n==="contextmenu"&&Mt(t);var T=f[0],M={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var S=T.getLatLng&&(!T._radius||T._radius<=10);M.containerPoint=S?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(t),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=S?T.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(y=0;y<f.length;y++)if(f[y].fire(n,M,!0),M.originalEvent._stopped||f[y].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Vi(this._mapPane)||new j(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var h=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var h=this.getSize()._divideBy(2);return this.project(t,n)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,h){var c=this._getNewPixelOrigin(h,n);return this.project(t,n)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,n,h){var c=this._getNewPixelOrigin(h,n);return vt([this.project(t.getSouthWest(),n)._subtract(c),this.project(t.getNorthWest(),n)._subtract(c),this.project(t.getSouthEast(),n)._subtract(c),this.project(t.getNorthEast(),n)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,h){if(!h)return t;var c=this.project(t,n),f=this.getSize().divideBy(2),m=new nt(c.subtract(f),c.add(f)),y=this._getBoundsOffset(m,h,n);return y.round().equals([0,0])?t:this.unproject(c.add(y),n)},_limitOffset:function(t,n){if(!n)return t;var h=this.getPixelBounds(),c=new nt(h.min.add(t),h.max.add(t));return t.add(this._getBoundsOffset(c,n))},_getBoundsOffset:function(t,n,h){var c=vt(this.project(n.getNorthEast(),h),this.project(n.getSouthWest(),h)),f=c.min.subtract(t.min),m=c.max.subtract(t.max),y=this._rebound(f.x,-m.x),T=this._rebound(f.y,-m.y);return new j(y,T)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),h=this.getMaxZoom(),c=I.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(n,Math.min(h,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var h=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,n),!0)},_createAnimProxy:function(){var t=this._proxy=B("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var h=Ee,c=this._proxy.style[h];Ei(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),c===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Ei(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(n),f=this._getCenterOffset(t)._divideBy(1-1/c);return h.animate!==!0&&!this.getSize().contains(f)?!1:(ct(function(){this._moveStart(!0,!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,h,c){!this._mapPane||(h&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hn(t,n){return new J(t,n)}var hi=Zt.extend({options:{position:"topright"},initialize:function(t){W(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),h=this.getPosition(),c=t._controlCorners[h];return q(n,"leaflet-control"),h.indexOf("bottom")!==-1?c.insertBefore(n,c.firstChild):c.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Yi=function(t){return new hi(t)};J.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",h=this._controlContainer=B("div",n+"control-container",this._container);function c(f,m){var y=n+f+" "+n+m;t[f+m]=B("div",y,h)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)xt(this._controlCorners[t]);xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oi=hi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,h,c){return h<c?-1:c<h?1:0}},initialize:function(t,n,h){W(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in n)this._addLayer(n[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return hi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(w(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=B("div",t),h=this.options.collapsed;n.setAttribute("aria-haspopup",!0),_i(n),Ie(n);var c=this._section=B("section",t+"-list");h&&(this._map.on("click",this.collapse,this),K(n,{mouseenter:function(){K(c,"click",Mt),this.expand(),setTimeout(function(){dt(c,"click",Mt)})},mouseleave:this.collapse},this));var f=this._layersLink=B("a",t+"-toggle",n);f.href="#",f.title="Layers",f.setAttribute("role","button"),K(f,"click",Mt),K(f,"focus",this.expand,this),h||this.expand(),this._baseLayersList=B("div",t+"-base",c),this._separator=B("div",t+"-separator",c),this._overlaysList=B("div",t+"-overlays",c),n.appendChild(c)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&w(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,h){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:h}),this.options.sortLayers&&this._layers.sort(v(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var t,n,h,c,f=0;for(h=0;h<this._layers.length;h++)c=this._layers[h],this._addItem(c),n=n||c.overlay,t=t||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&f>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(w(t.target)),h=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;h&&this._map.fire(h,n)},_createRadioElement:function(t,n){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=h,c.firstChild},_addItem:function(t){var n=document.createElement("label"),h=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=h):c=this._createRadioElement("leaflet-base-layers_"+w(this),h),this._layerControlInputs.push(c),c.layerId=w(t.layer),K(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+t.name;var m=document.createElement("span");n.appendChild(m),m.appendChild(c),m.appendChild(f);var y=t.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t=this._layerControlInputs,n,h,c=[],f=[];this._handlingClick=!0;for(var m=t.length-1;m>=0;m--)n=t[m],h=this._getLayer(n.layerId).layer,n.checked?c.push(h):n.checked||f.push(h);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,h,c=this._map.getZoom(),f=t.length-1;f>=0;f--)n=t[f],h=this._getLayer(n.layerId).layer,n.disabled=h.options.minZoom!==void 0&&c<h.options.minZoom||h.options.maxZoom!==void 0&&c>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),On=function(t,n,h){return new Oi(t,n,h)},un=hi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",h=B("div",n+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,n+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,n+"-out",h,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,h,c,f){var m=B("a",h,c);return m.innerHTML=t,m.href="#",m.title=n,m.setAttribute("role","button"),m.setAttribute("aria-label",n),_i(m),K(m,"click",Li),K(m,"click",f,this),K(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";mt(this._zoomInButton,n),mt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(q(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(q(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});J.mergeOptions({zoomControl:!0}),J.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))});var Ii=function(t){return new un(t)},de=hi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",h=B("div",n),c=this.options;return this._addScales(c,n+"-line",h),t.on(c.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),h},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,h){t.metric&&(this._mScale=B("div",n,h)),t.imperial&&(this._iScale=B("div",n,h))},_update:function(){var t=this._map,n=t.getSize().y/2,h=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(h)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),h=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,h,n/t)},_updateImperial:function(t){var n=t*3.2808399,h,c,f;n>5280?(h=n/5280,c=this._getRoundNum(h),this._updateScale(this._iScale,c+" mi",c/h)):(f=this._getRoundNum(n),this._updateScale(this._iScale,f+" ft",f/n))},_updateScale:function(t,n,h){t.style.width=Math.round(this.options.maxWidth*h)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),h=t/n;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,n*h}}),Bi=function(t){return new de(t)},lo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',In=hi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(I.inlineSvg?lo+" ":"")+"Leaflet</a>"},initialize:function(t){W(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=B("div","leaflet-control-attribution"),_i(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var h=[];this.options.prefix&&h.push(this.options.prefix),t.length&&h.push(t.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});J.mergeOptions({attributionControl:!0}),J.addInitHook(function(){this.options.attributionControl&&new In().addTo(this)});var co=function(t){return new In(t)};hi.Layers=Oi,hi.Zoom=un,hi.Scale=de,hi.Attribution=In,Yi.layers=On,Yi.zoom=Ii,Yi.scale=Bi,Yi.attribution=co;var oi=Zt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(t,n){return t.addHandler(n,this),this};var _o={Events:Ft},ln=I.touch?"touchstart mousedown":"mousedown",si=U.extend({options:{clickTolerance:3},initialize:function(t,n,h,c){W(this,c),this._element=t,this._dragStartTarget=n||t,this._preventOutline=h},enable:function(){this._enabled||(K(this._dragStartTarget,ln,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(si._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,ln,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!Zi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){si._dragging===this&&this.finishDrag();return}if(!(si._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(si._dragging=this,this._preventOutline&&Qt(this._element),Zn(),Q(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,h=uo(this._element);this._startPoint=new j(n.clientX,n.clientY),this._startPos=Vi(this._element),this._parentScale=Pi(h);var c=t.type==="mousedown";K(document,c?"mousemove":"touchmove",this._onMove,this),K(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,h=new j(n.clientX,n.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Mt(t),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Tt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),on(),Ai(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,si._dragging=!1}});function cn(t,n){if(!n||!t.length)return t.slice();var h=n*n;return t=No(t,h),t=Rn(t,h),t}function fo(t,n,h){return Math.sqrt(bi(t,n,h,!0))}function Bn(t,n,h){return bi(t,n,h)}function Rn(t,n){var h=t.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(h);f[0]=f[h-1]=1,Nn(t,f,n,0,h-1);var m,y=[];for(m=0;m<h;m++)f[m]&&y.push(t[m]);return y}function Nn(t,n,h,c,f){var m=0,y,T,M;for(T=c+1;T<=f-1;T++)M=bi(t[T],t[c],t[f],!0),M>m&&(y=T,m=M);m>h&&(n[y]=1,Nn(t,n,h,c,y),Nn(t,n,h,y,f))}function No(t,n){for(var h=[t[0]],c=1,f=0,m=t.length;c<m;c++)_n(t[c],t[f])>n&&(h.push(t[c]),f=c);return f<m-1&&h.push(t[m-1]),h}var fi;function dn(t,n,h,c,f){var m=c?fi:Xi(t,h),y=Xi(n,h),T,M,S;for(fi=y;;){if(!(m|y))return[t,n];if(m&y)return!1;T=m||y,M=_e(t,n,T,h,f),S=Xi(M,h),T===m?(t=M,m=S):(n=M,y=S)}}function _e(t,n,h,c,f){var m=n.x-t.x,y=n.y-t.y,T=c.min,M=c.max,S,A;return h&8?(S=t.x+m*(M.y-t.y)/y,A=M.y):h&4?(S=t.x+m*(T.y-t.y)/y,A=T.y):h&2?(S=M.x,A=t.y+y*(M.x-t.x)/m):h&1&&(S=T.x,A=t.y+y*(T.x-t.x)/m),new j(S,A,f)}function Xi(t,n){var h=0;return t.x<n.min.x?h|=1:t.x>n.max.x&&(h|=2),t.y<n.min.y?h|=4:t.y>n.max.y&&(h|=8),h}function _n(t,n){var h=n.x-t.x,c=n.y-t.y;return h*h+c*c}function bi(t,n,h,c){var f=n.x,m=n.y,y=h.x-f,T=h.y-m,M=y*y+T*T,S;return M>0&&(S=((t.x-f)*y+(t.y-m)*T)/M,S>1?(f=h.x,m=h.y):S>0&&(f+=y*S,m+=T*S)),y=t.x-f,T=t.y-m,c?y*y+T*T:new j(f,m)}function Ti(t){return!Ct(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function po(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ti(t)}var Ri={__proto__:null,simplify:cn,pointToSegmentDistance:fo,closestPointOnSegment:Bn,clipSegment:dn,_getEdgeIntersection:_e,_getBitCode:Xi,_sqClosestPointOnSegment:bi,isFlat:Ti,_flat:po};function mo(t,n,h){var c,f=[1,4,2,8],m,y,T,M,S,A,et,at;for(m=0,A=t.length;m<A;m++)t[m]._code=Xi(t[m],n);for(T=0;T<4;T++){for(et=f[T],c=[],m=0,A=t.length,y=A-1;m<A;y=m++)M=t[m],S=t[y],M._code&et?S._code&et||(at=_e(S,M,et,n,h),at._code=Xi(at,n),c.push(at)):(S._code&et&&(at=_e(S,M,et,n,h),at._code=Xi(at,n),c.push(at)),c.push(M));t=c}return t}var Do={__proto__:null,clipPolygon:mo},fe={project:function(t){return new j(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new nt([-180,-90],[180,90])},pe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,h=this.R,c=t.lat*n,f=this.R_MINOR/h,m=Math.sqrt(1-f*f),y=m*Math.sin(c),T=Math.tan(Math.PI/4-c/2)/Math.pow((1-y)/(1+y),m/2);return c=-h*Math.log(Math.max(T,1e-10)),new j(t.lng*n*h,c)},unproject:function(t){for(var n=180/Math.PI,h=this.R,c=this.R_MINOR/h,f=Math.sqrt(1-c*c),m=Math.exp(-t.y/h),y=Math.PI/2-2*Math.atan(m),T=0,M=.1,S;T<15&&Math.abs(M)>1e-7;T++)S=f*Math.sin(y),S=Math.pow((1-S)/(1+S),f/2),M=Math.PI/2-2*Math.atan(m*S)-y,y+=M;return new F(y*n,t.x*n/h)}},Dn={__proto__:null,LonLat:fe,Mercator:pe,SphericalMercator:se},fn=d({},Ut,{code:"EPSG:3395",projection:pe,transformation:function(){var t=.5/(Math.PI*pe.R);return Ye(t,.5,-t,.5)}()}),go=d({},Ut,{code:"EPSG:4326",projection:fe,transformation:Ye(1/180,1,-1/180,.5)}),Ho=d({},Gt,{projection:fe,transformation:Ye(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var h=n.lng-t.lng,c=n.lat-t.lat;return Math.sqrt(h*h+c*c)},infinite:!0});Gt.Earth=Ut,Gt.EPSG3395=fn,Gt.EPSG3857=bn,Gt.EPSG900913=So,Gt.EPSG4326=go,Gt.Simple=Ho;var Rt=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[w(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[w(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(!!n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var h=this.getEvents();n.on(h,this),this.once("remove",function(){n.off(h,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});J.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=w(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=w(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return w(t)in this._layers},eachLayer:function(t,n){for(var h in this._layers)t.call(n,this._layers[h]);return this},_addLayers:function(t){t=t?Ct(t)?t:[t]:[];for(var n=0,h=t.length;n<h;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[w(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=w(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,h=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;t=f.minZoom===void 0?t:Math.min(t,f.minZoom),n=f.maxZoom===void 0?n:Math.max(n,f.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=Rt.extend({initialize:function(t,n){W(this,n),this._layers={};var h,c;if(t)for(h=0,c=t.length;h<c;h++)this.addLayer(t[h])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),h,c;for(h in this._layers)c=this._layers[h],c[t]&&c[t].apply(c,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var h in this._layers)t.call(n,this._layers[h]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return w(t)}}),Ji=function(t,n){return new Ni(t,n)},Di=Ni.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ni.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ni.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ht;for(var n in this._layers){var h=this._layers[n];t.extend(h.getBounds?h.getBounds():h.getLatLng())}return t}}),Hn=function(t,n){return new Di(t,n)},Mi=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){W(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var h=this._getIconUrl(t);if(!h){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(h,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(c,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(t,n){var h=this.options,c=h[n+"Size"];typeof c=="number"&&(c=[c,c]);var f=O(c),m=O(n==="shadow"&&h.shadowAnchor||h.iconAnchor||f&&f.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(h.className||""),m&&(t.style.marginLeft=-m.x+"px",t.style.marginTop=-m.y+"px"),f&&(t.style.width=f.x+"px",t.style.height=f.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return I.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function pn(t){return new Mi(t)}var mn=Mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof mn.imagePath!="string"&&(mn.imagePath=this._detectIconPath()),(this.options.imagePath||mn.imagePath)+Mi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(h,c,f){var m=c.exec(h);return m&&m[f]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=B("div","leaflet-default-icon-path",document.body),n=ii(t,"background-image")||ii(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),e=oi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new si(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,h=n._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Vi(n._icon),y=h.getPixelBounds(),T=h.getPixelOrigin(),M=vt(y.min._subtract(T).add(f),y.max._subtract(T).subtract(f));if(!M.contains(m)){var S=O((Math.max(M.max.x,m.x)-M.max.x)/(y.max.x-M.max.x)-(Math.min(M.min.x,m.x)-M.min.x)/(y.min.x-M.min.x),(Math.max(M.max.y,m.y)-M.max.y)/(y.max.y-M.max.y)-(Math.min(M.min.y,m.y)-M.min.y)/(y.min.y-M.min.y)).multiplyBy(c);h.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),Tt(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ct(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(pt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,h=n._shadow,c=Vi(n._icon),f=n._map.layerPointToLatLng(c);h&&Tt(h,c),n._latlng=f,t.latlng=f,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){pt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),o=Rt.extend({options:{icon:new mn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){W(this,n),this._latlng=ut(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=ut(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=t.icon.createIcon(this._icon),c=!1;h!==this._icon&&(this._icon&&this._removeIcon(),c=!0,t.title&&(h.title=t.title),h.tagName==="IMG"&&(h.alt=t.alt||"")),q(h,n),t.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(h,"focus",this._panOnFocus,this);var f=t.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(q(f,n),f.alt=""),this._shadow=f,t.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Tt(this._icon,t),this._shadow&&Tt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(!!this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),e)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new e(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ni(this._icon,t),this._shadow&&ni(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var n=this.options.icon.options,h=n.iconSize?O(n.iconSize):O(0,0),c=n.iconAnchor?O(n.iconAnchor):O(0,0);t.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:h.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function a(t,n){return new o(t,n)}var l=Rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return W(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_=l.extend({options:{fill:!0,radius:10},initialize:function(t,n){W(this,n),this._latlng=ut(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=ut(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return l.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,h=this._clickTolerance(),c=[t+h,n+h];this._pxBounds=new nt(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function g(t,n){return new _(t,n)}var x=_.extend({initialize:function(t,n,h){if(typeof n=="number"&&(n=d({},h,{radius:n})),W(this,n),this._latlng=ut(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:l.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,h=this._map,c=h.options.crs;if(c.distance===Ut.distance){var f=Math.PI/180,m=this._mRadius/Ut.R/f,y=h.project([n+m,t]),T=h.project([n-m,t]),M=y.add(T).divideBy(2),S=h.unproject(M).lat,A=Math.acos((Math.cos(m*f)-Math.sin(n*f)*Math.sin(S*f))/(Math.cos(n*f)*Math.cos(S*f)))/f;(isNaN(A)||A===0)&&(A=m/Math.cos(Math.PI/180*n)),this._point=M.subtract(h.getPixelOrigin()),this._radius=isNaN(A)?0:M.x-h.project([S,t-A]).x,this._radiusY=M.y-y.y}else{var et=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(et).x}this._updateBounds()}});function P(t,n,h){return new x(t,n,h)}var z=l.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){W(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,h=null,c=bi,f,m,y=0,T=this._parts.length;y<T;y++)for(var M=this._parts[y],S=1,A=M.length;S<A;S++){f=M[S-1],m=M[S];var et=c(t,f,m,!0);et<n&&(n=et,h=c(t,f,m))}return h&&(h.distance=Math.sqrt(n)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,h,c,f,m,y,T=this._rings[0],M=T.length;if(!M)return null;for(t=0,n=0;t<M-1;t++)n+=T[t].distanceTo(T[t+1])/2;if(n===0)return this._map.layerPointToLatLng(T[0]);for(t=0,c=0;t<M-1;t++)if(f=T[t],m=T[t+1],h=f.distanceTo(m),c+=h,c>n)return y=(c-n)/h,this._map.layerPointToLatLng([m.x-y*(m.x-f.x),m.y-y*(m.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=ut(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ht,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ti(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],h=Ti(t),c=0,f=t.length;c<f;c++)h?(n[c]=ut(t[c]),this._bounds.extend(n[c])):n[c]=this._convertLatLngs(t[c]);return n},_project:function(){var t=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new j(t,t);!this._rawPxBounds||(this._pxBounds=new nt([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,h){var c=t[0]instanceof F,f=t.length,m,y;if(c){for(y=[],m=0;m<f;m++)y[m]=this._map.latLngToLayerPoint(t[m]),h.extend(y[m]);n.push(y)}else for(m=0;m<f;m++)this._projectLatlngs(t[m],n,h)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,h,c,f,m,y,T,M;for(h=0,f=0,m=this._rings.length;h<m;h++)for(M=this._rings[h],c=0,y=M.length;c<y-1;c++)T=dn(M[c],M[c+1],t,c,!0),T&&(n[f]=n[f]||[],n[f].push(T[0]),(T[1]!==M[c+1]||c===y-2)&&(n[f].push(T[1]),f++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,h=0,c=t.length;h<c;h++)t[h]=cn(t[h],n)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var h,c,f,m,y,T,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,m=this._parts.length;h<m;h++)for(T=this._parts[h],c=0,y=T.length,f=y-1;c<y;f=c++)if(!(!n&&c===0)&&fo(t,T[f],T[c])<=M)return!0;return!1}});function Z(t,n){return new z(t,n)}z._flat=po;var D=z.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,h,c,f,m,y,T,M,S=this._rings[0],A=S.length;if(!A)return null;for(m=y=T=0,t=0,n=A-1;t<A;n=t++)h=S[t],c=S[n],f=h.y*c.x-c.y*h.x,y+=(h.x+c.x)*f,T+=(h.y+c.y)*f,m+=f*3;return m===0?M=S[0]:M=[y/m,T/m],this._map.layerPointToLatLng(M)},_convertLatLngs:function(t){var n=z.prototype._convertLatLngs.call(this,t),h=n.length;return h>=2&&n[0]instanceof F&&n[0].equals(n[h-1])&&n.pop(),n},_setLatLngs:function(t){z.prototype._setLatLngs.call(this,t),Ti(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ti(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,h=new j(n,n);if(t=new nt(t.min.subtract(h),t.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=mo(this._rings[c],t,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,h,c,f,m,y,T,M,S;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(m=0,M=this._parts.length;m<M;m++)for(h=this._parts[m],y=0,S=h.length,T=S-1;y<S;T=y++)c=h[y],f=h[T],c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n);return n||z.prototype._containsPoint.call(this,t,!0)}});function rt(t,n){return new D(t,n)}var Lt=Di.extend({initialize:function(t,n){W(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=Ct(t)?t:t.features,h,c,f;if(n){for(h=0,c=n.length;h<c;h++)f=n[h],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(t))return this;var y=pi(t,m);return y?(y.feature=wt(t),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(t,y),this.addLayer(y)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=d({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function pi(t,n){var h=t.type==="Feature"?t.geometry:t,c=h?h.coordinates:null,f=[],m=n&&n.pointToLayer,y=n&&n.coordsToLatLng||Kt,T,M,S,A;if(!c&&!h)return null;switch(h.type){case"Point":return T=y(c),zi(m,t,T,n);case"MultiPoint":for(S=0,A=c.length;S<A;S++)T=y(c[S]),f.push(zi(m,t,T,n));return new Di(f);case"LineString":case"MultiLineString":return M=Ci(c,h.type==="LineString"?0:1,y),new z(M,n);case"Polygon":case"MultiPolygon":return M=Ci(c,h.type==="Polygon"?1:2,y),new D(M,n);case"GeometryCollection":for(S=0,A=h.geometries.length;S<A;S++){var et=pi({geometry:h.geometries[S],type:"Feature",properties:t.properties},n);et&&f.push(et)}return new Di(f);default:throw new Error("Invalid GeoJSON object.")}}function zi(t,n,h,c){return t?t(n,h):new o(h,c&&c.markersInheritOptions&&c)}function Kt(t){return new F(t[1],t[0],t[2])}function Ci(t,n,h){for(var c=[],f=0,m=t.length,y;f<m;f++)y=n?Ci(t[f],n-1,h):(h||Kt)(t[f]),c.push(y);return c}function me(t,n){return t=ut(t),t.alt!==void 0?[N(t.lng,n),N(t.lat,n),N(t.alt,n)]:[N(t.lng,n),N(t.lat,n)]}function gn(t,n,h,c){for(var f=[],m=0,y=t.length;m<y;m++)f.push(n?gn(t[m],n-1,h,c):me(t[m],c));return!n&&h&&f.push(f[0]),f}function Re(t,n){return t.feature?d({},t.feature,{geometry:n}):wt(n)}function wt(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ne={toGeoJSON:function(t){return Re(this,{type:"Point",coordinates:me(this.getLatLng(),t)})}};o.include(Ne),x.include(Ne),_.include(Ne),z.include({toGeoJSON:function(t){var n=!Ti(this._latlngs),h=gn(this._latlngs,n?1:0,!1,t);return Re(this,{type:(n?"Multi":"")+"LineString",coordinates:h})}}),D.include({toGeoJSON:function(t){var n=!Ti(this._latlngs),h=n&&!Ti(this._latlngs[0]),c=gn(this._latlngs,h?2:n?1:0,!0,t);return n||(c=[c]),Re(this,{type:(h?"Multi":"")+"Polygon",coordinates:c})}}),Ni.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(h){n.push(h.toGeoJSON(t).geometry.coordinates)}),Re(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var h=n==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(t);if(h)c.push(m.geometry);else{var y=wt(m);y.type==="FeatureCollection"?c.push.apply(c,y.features):c.push(y)}}}),h?Re(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function vo(t,n){return new Lt(t,n)}var ba=vo,Wo=Rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,h){this._url=t,this._bounds=V(n),W(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ui(this._image),this},bringToBack:function(){return this._map&&ji(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=V(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:B("img");if(q(n,"leaflet-image-layer"),this._zoomAnimated&&q(n,"leaflet-zoom-animated"),this.options.className&&q(n,this.options.className),n.onselectstart=k,n.onmousemove=k,n.onload=v(this.fire,this,"load"),n.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ei(this._image,h,n)},_reset:function(){var t=this._image,n=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=n.getSize();Tt(t,n.min),t.style.width=h.x+"px",t.style.height=h.y+"px"},_updateOpacity:function(){ni(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ta=function(t,n,h){return new Wo(t,n,h)},Xs=Wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:B("video");if(q(n,"leaflet-image-layer"),this._zoomAnimated&&q(n,"leaflet-zoom-animated"),this.options.className&&q(n,this.options.className),n.onselectstart=k,n.onmousemove=k,n.onloadeddata=v(this.fire,this,"load"),t){for(var h=n.getElementsByTagName("source"),c=[],f=0;f<h.length;f++)c.push(h[f].src);this._url=h.length>0?c:[n.src];return}Ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=B("source");y.src=this._url[m],n.appendChild(y)}}});function Ma(t,n,h){return new Xs(t,n,h)}var Js=Wo.extend({_initImage:function(){var t=this._image=this._url;q(t,"leaflet-image-layer"),this._zoomAnimated&&q(t,"leaflet-zoom-animated"),this.options.className&&q(t,this.options.className),t.onselectstart=k,t.onmousemove=k}});function za(t,n,h){return new Js(t,n,h)}var Qi=Rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,n){W(this,t),this._source=n},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ni(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ni(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ni(this._container,0),this._removeTimeout=setTimeout(v(xt,void 0,this._container),200)):xt(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ut(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ui(this._container),this},bringToBack:function(){return this._map&&ji(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof Di){n=null;var h=this._source._layers;for(var c in h)if(h[c]._map){n=h[c];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=O(this.options.offset),h=this._getAnchor();this._zoomAnimated?Tt(this._container,t.add(h)):n=n.add(t).add(h);var c=this._containerBottom=-n.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});J.include({_initOverlay:function(t,n,h,c){var f=n;return f instanceof t||(f=new t(c).setContent(n)),h&&f.setLatLng(h),f}}),Rt.include({_initOverlay:function(t,n,h,c){var f=h;return f instanceof t?(W(f,c),f._source=this):(f=n&&!c?n:new t(c,this),f.setContent(h)),f}});var Fo=Qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Qi.prototype.openOn.call(this,t)},onAdd:function(t){Qi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof l||this._source.on("preclick",Ki))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof l||this._source.off("preclick",Ki))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=B("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=B("div",t+"-content-wrapper",n);if(this._contentNode=B("div",t+"-content",h),_i(n),Ie(this._contentNode),K(n,"contextmenu",Ki),this._tipContainer=B("div",t+"-tip-container",n),this._tip=B("div",t+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=B("a",t+"-close-button",n);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',K(c,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var h=t.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),n.width=h+1+"px",n.whiteSpace="",n.height="";var c=t.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(n.height=f+"px",q(t,m)):mt(t,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),h=this._getAnchor();Tt(this._container,n.add(h))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var n=this._map,h=parseInt(ii(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+h,f=this._containerWidth,m=new j(this._containerLeft,-c-this._containerBottom);m._add(Vi(this._container));var y=n.layerPointToContainerPoint(m),T=O(this.options.autoPanPadding),M=O(this.options.autoPanPaddingTopLeft||T),S=O(this.options.autoPanPaddingBottomRight||T),A=n.getSize(),et=0,at=0;y.x+f+S.x>A.x&&(et=y.x+f-A.x+S.x),y.x-et-M.x<0&&(et=y.x-M.x),y.y+c+S.y>A.y&&(at=y.y+c-A.y+S.y),y.y-at-M.y<0&&(at=y.y-M.y),(et||at)&&n.fire("autopanstart").panBy([et,at],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ca=function(t,n){return new Fo(t,n)};J.mergeOptions({closePopupOnClick:!0}),J.include({openPopup:function(t,n,h){return this._initOverlay(Fo,t,n,h).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Rt.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Fo,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Li(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof l)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Uo=Qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Qi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=B("div",n)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,h,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),y=c.layerPointToContainerPoint(t),T=this.options.direction,M=f.offsetWidth,S=f.offsetHeight,A=O(this.options.offset),et=this._getAnchor();T==="top"?(n=M/2,h=S):T==="bottom"?(n=M/2,h=0):T==="center"?(n=M/2,h=S/2):T==="right"?(n=0,h=S/2):T==="left"?(n=M,h=S/2):y.x<m.x?(T="right",n=0,h=S/2):(T="left",n=M+(A.x+et.x)*2,h=S/2),t=t.subtract(O(n,h,!0)).add(A).add(et),mt(f,"leaflet-tooltip-right"),mt(f,"leaflet-tooltip-left"),mt(f,"leaflet-tooltip-top"),mt(f,"leaflet-tooltip-bottom"),q(f,"leaflet-tooltip-"+T),Tt(f,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ni(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sa=function(t,n){return new Uo(t,n)};J.include({openTooltip:function(t,n,h){return this._initOverlay(Uo,t,n,h).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Rt.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uo,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[n](h),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var n=t.latlng,h,c;this._tooltip.options.sticky&&t.originalEvent&&(h=this._map.mouseEventToContainerPoint(t.originalEvent),c=this._map.containerPointToLayerPoint(h),n=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(n)}});var Qs=Mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Oe(n),n.appendChild(h.html)):n.innerHTML=h.html!==!1?h.html:"",h.bgPos){var c=O(h.bgPos);n.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function ka(t){return new Qs(t)}Mi.Default=mn;var yo=Rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:I.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){W(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),xt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ji(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=C(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof j?t:new j(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,h=-t(-1/0,1/0),c=0,f=n.length,m;c<f;c++)m=n[c].style.zIndex,n[c]!==this._container&&m&&(h=t(h,+m));isFinite(h)&&(this.options.zIndex=h+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!I.ielt9){ni(this._container,this.options.opacity);var t=+new Date,n=!1,h=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(t-f.loaded)/200);ni(f.el,m),m<1?n=!0:(f.active?h=!0:this._onOpaqueTile(f),f.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),n&&(pt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=B("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===t?(this._levels[h].el.style.zIndex=n-Math.abs(t-h),this._onUpdateLevel(h)):(xt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var c=this._levels[t],f=this._map;return c||(c=this._levels[t]={},c.el=B("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=n,c.origin=f.project(f.unproject(f.getPixelOrigin()),t).round(),c.zoom=t,this._setZoomTransform(c,f.getCenter(),f.getZoom()),k(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(!!this._map){var t,n,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var c=n.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)xt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,h,c){var f=Math.floor(t/2),m=Math.floor(n/2),y=h-1,T=new j(+f,+m);T.z=+y;var M=this._tileCoordsToKey(T),S=this._tiles[M];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),y>c?this._retainParent(f,m,y,c):!1)},_retainChildren:function(t,n,h,c){for(var f=2*t;f<2*t+2;f++)for(var m=2*n;m<2*n+2;m++){var y=new j(f,m);y.z=h+1;var T=this._tileCoordsToKey(y),M=this._tiles[T];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);h+1<c&&this._retainChildren(f,m,h+1,c)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,h,c){var f=Math.round(n);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(t),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var h in this._levels)this._setZoomTransform(this._levels[h],t,n)},_setZoomTransform:function(t,n,h){var c=this._map.getZoomScale(h,t.zoom),f=t.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(n,h)).round();I.any3d?Ei(t.el,f,c):Tt(t.el,f)},_resetGrid:function(){var t=this._map,n=t.options.crs,h=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],c).x/h.x),Math.ceil(t.project([0,n.wrapLng[1]],c).x/h.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],c).y/h.x),Math.ceil(t.project([n.wrapLat[1],0],c).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,h=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),c=n.getZoomScale(h,this._tileZoom),f=n.project(t,this._tileZoom).floor(),m=n.getSize().divideBy(c*2);return new nt(f.subtract(m),f.add(m))},_update:function(t){var n=this._map;if(!!n){var h=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(t),f=this._pxBoundsToTileRange(c),m=f.getCenter(),y=[],T=this.options.keepBuffer,M=new nt(f.getBottomLeft().subtract([T,-T]),f.getTopRight().add([T,-T]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var A=this._tiles[S].coords;(A.z!==this._tileZoom||!M.contains(new j(A.x,A.y)))&&(this._tiles[S].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(t,h);return}for(var et=f.min.y;et<=f.max.y;et++)for(var at=f.min.x;at<=f.max.x;at++){var ve=new j(at,et);if(ve.z=this._tileZoom,!!this._isValidTile(ve)){var vn=this._tiles[this._tileCoordsToKey(ve)];vn?vn.current=!0:y.push(ve)}}if(y.sort(function(De,ws){return De.distanceTo(m)-ws.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vo=document.createDocumentFragment();for(at=0;at<y.length;at++)this._addTile(y[at],Vo);this._level.el.appendChild(Vo)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var h=this._globalTileRange;if(!n.wrapLng&&(t.x<h.min.x||t.x>h.max.x)||!n.wrapLat&&(t.y<h.min.y||t.y>h.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(t);return V(this.options.bounds).overlaps(c)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,h=this.getTileSize(),c=t.scaleBy(h),f=c.add(h),m=n.unproject(c,t.z),y=n.unproject(f,t.z);return[m,y]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),h=new ht(n[0],n[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),h=new j(+n[0],+n[1]);return h.z=+n[2],h},_removeTile:function(t){var n=this._tiles[t];!n||(xt(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){q(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=k,t.onmousemove=k,I.ielt9&&this.options.opacity<1&&ni(t,this.options.opacity)},_addTile:function(t,n){var h=this._getTilePos(t),c=this._tileCoordsToKey(t),f=this.createTile(this._wrapCoords(t),v(this._tileReady,this,t));this._initTile(f),this.createTile.length<2&&ct(v(this._tileReady,this,t,null,f)),Tt(f,h),this._tiles[c]={el:f,coords:t,current:!0},n.appendChild(f),this.fire("tileloadstart",{tile:f,coords:t})},_tileReady:function(t,n,h){n&&this.fire("tileerror",{error:n,tile:h,coords:t});var c=this._tileCoordsToKey(t);h=this._tiles[c],h&&(h.loaded=+new Date,this._map._fadeAnimated?(ni(h.el,0),pt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),n||(q(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),I.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new j(this._wrapX?E(t.x,this._wrapX):t.x,this._wrapY?E(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new nt(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Za(t){return new yo(t)}var Wn=yo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=W(this,n),n.detectRetina&&I.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom++):(n.zoomOffset++,n.maxZoom--),n.minZoom=Math.max(0,n.minZoom)),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var h=document.createElement("img");return K(h,"load",v(this._tileOnLoad,this,n,h)),K(h,"error",v(this._tileOnError,this,n,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(t),h},getTileUrl:function(t){var n={r:I.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=h),n["-y"]=h}return Ge(this._url,d(n,this.options))},_tileOnLoad:function(t,n){I.ielt9?setTimeout(v(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,h){var c=this.options.errorTileUrl;c&&n.getAttribute("src")!==c&&(n.src=c),t(h,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,h=this.options.zoomReverse,c=this.options.zoomOffset;return h&&(t=n-t),t+c},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=k,n.onerror=k,!n.complete)){n.src=vi;var h=this._tiles[t].coords;xt(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:h})}},_removeTile:function(t){var n=this._tiles[t];if(!!n)return n.el.setAttribute("src",vi),yo.prototype._removeTile.call(this,t)},_tileReady:function(t,n,h){if(!(!this._map||h&&h.getAttribute("src")===vi))return yo.prototype._tileReady.call(this,t,n,h)}});function $s(t,n){return new Wn(t,n)}var tr=Wn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var h=d({},this.defaultWmsParams);for(var c in n)c in this.options||(h[c]=n[c]);n=W(this,n);var f=n.detectRetina&&I.retina?2:1,m=this.getTileSize();h.width=m.x*f,h.height=m.y*f,this.wmsParams=h},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Wn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),h=this._crs,c=vt(h.project(n[0]),h.project(n[1])),f=c.min,m=c.max,y=(this._wmsVersion>=1.3&&this._crs===go?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),T=Wn.prototype.getTileUrl.call(this,t);return T+ai(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(t,n){return d(this.wmsParams,t),n||this.redraw(),this}});function Ea(t,n){return new tr(t,n)}Wn.WMS=tr,$s.wms=Ea;var ge=Rt.extend({options:{padding:.1},initialize:function(t){W(this,t),w(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var h=this._map.getZoomScale(n,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,n),m=c.multiplyBy(-h).add(f).subtract(this._map._getNewPixelOrigin(t,n));I.any3d?Ei(this._container,m,h):Tt(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),h=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new nt(h,h.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ir=ge.extend({options:{tolerance:0},getEvents:function(){var t=ge.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ge.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");K(t,"mousemove",this._onMouseMove,this),K(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){pt(this._redrawRequest),delete this._ctx,xt(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ge.prototype._update.call(this);var t=this._bounds,n=this._container,h=t.getSize(),c=I.retina?2:1;Tt(n,t.min),n.width=c*h.x,n.height=c*h.y,n.style.width=h.x+"px",n.style.height=h.y+"px",I.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ge.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[w(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,h=n.next,c=n.prev;h?h.prev=c:this._drawLast=c,c?c.next=h:this._drawFirst=h,delete t._order,delete this._layers[w(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),h=[],c,f;for(f=0;f<n.length;f++){if(c=Number(n[f]),isNaN(c))return;h.push(c)}t.options._dashArray=h}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var h=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)t=c.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(!!this._drawing){var h,c,f,m,y=t._parts,T=y.length,M=this._ctx;if(!!T){for(M.beginPath(),h=0;h<T;h++){for(c=0,f=y[h].length;c<f;c++)m=y[h][c],M[c?"lineTo":"moveTo"](m.x,m.y);n&&M.closePath()}this._fillStroke(M,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,h=this._ctx,c=Math.max(Math.round(t._radius),1),f=(Math.max(Math.round(t._radiusY),1)||c)/c;f!==1&&(h.save(),h.scale(1,f)),h.beginPath(),h.arc(n.x,n.y/f,c,0,Math.PI*2,!1),f!==1&&h.restore(),this._fillStroke(h,t)}},_fillStroke:function(t,n){var h=n.options;h.fill&&(t.globalAlpha=h.fillOpacity,t.fillStyle=h.fillColor||h.color,t.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=h.opacity,t.lineWidth=h.weight,t.strokeStyle=h.color,t.lineCap=h.lineCap,t.lineJoin=h.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),h,c,f=this._drawFirst;f;f=f.next)h=f.layer,h.options.interactive&&h._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(h))&&(c=h);this._fireEvent(c?[c]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(mt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var h,c,f=this._drawFirst;f;f=f.next)h=f.layer,h.options.interactive&&h._containsPoint(n)&&(c=h);c!==this._hoveredLayer&&(this._handleMouseOut(t),c&&(q(this._container,"leaflet-interactive"),this._fireEvent([c],t,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,h){this._map._fireDOMEvent(n,h||n.type,t)},_bringToFront:function(t){var n=t._order;if(!!n){var h=n.next,c=n.prev;if(h)h.prev=c;else return;c?c.next=h:h&&(this._drawFirst=h),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(!!n){var h=n.next,c=n.prev;if(c)c.next=h;else return;h?h.prev=c:c&&(this._drawLast=c),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function er(t){return I.canvas?new ir(t):null}var xo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Aa={_initContainer:function(){this._container=B("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ge.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=xo("shape");q(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=xo("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[w(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;xt(n),t.removeInteractiveTarget(n),delete this._layers[w(t)]},_updateStyle:function(t){var n=t._stroke,h=t._fill,c=t.options,f=t._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(n||(n=t._stroke=xo("stroke")),f.appendChild(n),n.weight=c.weight+"px",n.color=c.color,n.opacity=c.opacity,c.dashArray?n.dashStyle=Ct(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=c.lineCap.replace("butt","flat"),n.joinstyle=c.lineJoin):n&&(f.removeChild(n),t._stroke=null),c.fill?(h||(h=t._fill=xo("fill")),f.appendChild(h),h.color=c.fillColor||c.color,h.opacity=c.fillOpacity):h&&(f.removeChild(h),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),h=Math.round(t._radius),c=Math.round(t._radiusY||h);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+h+","+c+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){Ui(t._container)},_bringToBack:function(t){ji(t._container)}},jo=I.vml?xo:ae,wo=ge.extend({_initContainer:function(){this._container=jo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=jo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xt(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ge.prototype._update.call(this);var t=this._bounds,n=t.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,h.setAttribute("width",n.x),h.setAttribute("height",n.y)),Tt(h,t.min),h.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=jo("path");t.options.className&&q(n,t.options.className),t.options.interactive&&q(n,"leaflet-interactive"),this._updateStyle(t),this._layers[w(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){xt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[w(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,h=t.options;!n||(h.stroke?(n.setAttribute("stroke",h.color),n.setAttribute("stroke-opacity",h.opacity),n.setAttribute("stroke-width",h.weight),n.setAttribute("stroke-linecap",h.lineCap),n.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?n.setAttribute("stroke-dasharray",h.dashArray):n.removeAttribute("stroke-dasharray"),h.dashOffset?n.setAttribute("stroke-dashoffset",h.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),h.fill?(n.setAttribute("fill",h.fillColor||h.color),n.setAttribute("fill-opacity",h.fillOpacity),n.setAttribute("fill-rule",h.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Xe(t._parts,n))},_updateCircle:function(t){var n=t._point,h=Math.max(Math.round(t._radius),1),c=Math.max(Math.round(t._radiusY),1)||h,f="a"+h+","+c+" 0 1,0 ",m=t._empty()?"M0 0":"M"+(n.x-h)+","+n.y+f+h*2+",0 "+f+-h*2+",0 ";this._setPath(t,m)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){Ui(t._path)},_bringToBack:function(t){ji(t._path)}});I.vml&&wo.include(Aa);function nr(t){return I.svg||I.vml?new wo(t):null}J.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&er(t)||nr(t)}});var or=D.extend({initialize:function(t,n){D.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=V(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Oa(t,n){return new or(t,n)}wo.create=jo,wo.pointsToPath=Xe,Lt.geometryToLayer=pi,Lt.coordsToLatLng=Kt,Lt.coordsToLatLngs=Ci,Lt.latLngToCoords=me,Lt.latLngsToCoords=gn,Lt.getFeature=Re,Lt.asFeature=wt,J.mergeOptions({boxZoom:!0});var sr=oi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Q(),Zn(),this._startPoint=this._map.mouseEventToContainerPoint(t),K(document,{contextmenu:Li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=B("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new nt(this._point,this._startPoint),h=n.getSize();Tt(this._box,n.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(xt(this._box),mt(this._container,"leaflet-crosshair")),Ai(),on(),dt(document,{contextmenu:Li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var n=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});J.addInitHook("addHandler","boxZoom",sr),J.mergeOptions({doubleClickZoom:!0});var rr=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,h=n.getZoom(),c=n.options.zoomDelta,f=t.originalEvent.shiftKey?h-c:h+c;n.options.doubleClickZoom==="center"?n.setZoom(f):n.setZoomAround(t.containerPoint,f)}});J.addInitHook("addHandler","doubleClickZoom",rr),J.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ar=oi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new si(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=V(this._map.options.maxBounds);this._offsetLimit=vt(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),h=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-n+h)%t+n-h,m=(c+n+h)%t-n-h,y=Math.abs(f+h)<Math.abs(m+h)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(t){var n=this._map,h=n.options,c=!h.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),c)n.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=h.easeLinearity,T=f.multiplyBy(y/m),M=T.distanceTo([0,0]),S=Math.min(h.inertiaMaxSpeed,M),A=T.multiplyBy(S/M),et=S/(h.inertiaDeceleration*y),at=A.multiplyBy(-et/2).round();!at.x&&!at.y?n.fire("moveend"):(at=n._limitOffset(at,n.options.maxBounds),ct(function(){n.panBy(at,{duration:et,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});J.addInitHook("addHandler","dragging",ar),J.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hr=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),K(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,h=t.scrollTop||n.scrollTop,c=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(c,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},h=this.keyCodes,c,f;for(c=0,f=h.left.length;c<f;c++)n[h.left[c]]=[-1*t,0];for(c=0,f=h.right.length;c<f;c++)n[h.right[c]]=[t,0];for(c=0,f=h.down.length;c<f;c++)n[h.down[c]]=[0,t];for(c=0,f=h.up.length;c<f;c++)n[h.up[c]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},h=this.keyCodes,c,f;for(c=0,f=h.zoomIn.length;c<f;c++)n[h.zoomIn[c]]=t;for(c=0,f=h.zoomOut.length;c<f;c++)n[h.zoomOut[c]]=-t},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,h=this._map,c;if(n in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(c=this._panKeys[n],t.shiftKey&&(c=O(c).multiplyBy(3)),h.panBy(c),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(n in this._zoomKeys)h.setZoom(h.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Li(t)}}});J.addInitHook("addHandler","keyboard",hr),J.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ur=oi.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=an(t),h=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var c=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),c),Li(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),h=this._map.options.zoomSnap||0;t._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=h?Math.ceil(f/h)*h:f,y=t._limitZoom(n+(this._delta>0?m:-m))-n;this._delta=0,this._startTime=null,y&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+y):t.setZoomAround(this._lastMousePos,n+y))}});J.addInitHook("addHandler","scrollWheelZoom",ur);var Ia=600;J.mergeOptions({tapHold:I.touchNative&&I.safari&&I.mobile,tapTolerance:15});var lr=oi.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new j(n.clientX,n.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",Mt),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Ia),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){dt(document,"touchend",Mt),dt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new j(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var h=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});h._simulated=!0,n.target.dispatchEvent(h)}});J.addInitHook("addHandler","tapHold",lr),J.mergeOptions({touchZoom:I.touch,bounceAtZoomLimits:!0});var cr=oi.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var h=n.mouseEventToContainerPoint(t.touches[0]),c=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(h.add(c)._divideBy(2))),this._startDist=h.distanceTo(c),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),Mt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,h=n.mouseEventToContainerPoint(t.touches[0]),c=n.mouseEventToContainerPoint(t.touches[1]),f=h.distanceTo(c)/this._startDist;if(this._zoom=n.getScaleZoom(f,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&f<1||this._zoom>n.getMaxZoom()&&f>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=h._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),pt(this._animRequest);var y=v(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ct(y,this,!0),Mt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pt(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});J.addInitHook("addHandler","touchZoom",cr),J.BoxZoom=sr,J.DoubleClickZoom=rr,J.Drag=ar,J.Keyboard=hr,J.ScrollWheelZoom=ur,J.TapHold=lr,J.TouchZoom=cr,r.Bounds=nt,r.Browser=I,r.CRS=Gt,r.Canvas=ir,r.Circle=x,r.CircleMarker=_,r.Class=Zt,r.Control=hi,r.DivIcon=Qs,r.DivOverlay=Qi,r.DomEvent=Be,r.DomUtil=Bo,r.Draggable=si,r.Evented=U,r.FeatureGroup=Di,r.GeoJSON=Lt,r.GridLayer=yo,r.Handler=oi,r.Icon=Mi,r.ImageOverlay=Wo,r.LatLng=F,r.LatLngBounds=ht,r.Layer=Rt,r.LayerGroup=Ni,r.LineUtil=Ri,r.Map=J,r.Marker=o,r.Mixin=_o,r.Path=l,r.Point=j,r.PolyUtil=Do,r.Polygon=D,r.Polyline=z,r.Popup=Fo,r.PosAnimation=ce,r.Projection=Dn,r.Rectangle=or,r.Renderer=ge,r.SVG=wo,r.SVGOverlay=Js,r.TileLayer=Wn,r.Tooltip=Uo,r.Transformation=re,r.Util=Ke,r.VideoOverlay=Xs,r.bind=v,r.bounds=vt,r.canvas=er,r.circle=P,r.circleMarker=g,r.control=Yi,r.divIcon=ka,r.extend=d,r.featureGroup=Hn,r.geoJSON=vo,r.geoJson=ba,r.gridLayer=Za,r.icon=pn,r.imageOverlay=Ta,r.latLng=ut,r.latLngBounds=V,r.layerGroup=Ji,r.map=hn,r.marker=a,r.point=O,r.polygon=rt,r.polyline=Z,r.popup=Ca,r.rectangle=Oa,r.setOptions=W,r.stamp=w,r.svg=nr,r.svgOverlay=za,r.tileLayer=$s,r.tooltip=Sa,r.transformation=Ye,r.version=u,r.videoOverlay=Ma;var Ba=window.L;r.noConflict=function(){return window.L=Ba,this},window.L=r})})(Si,Si.exports);/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */function bt(i){var s,r,u,d;for(r=1,u=arguments.length;r<u;r++){d=arguments[r];for(s in d)i[s]=d[s]}return i}var Ms=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function kt(i,s){var r=Array.prototype.slice;if(i.bind)return i.bind.apply(i,r.call(arguments,1));var u=r.call(arguments,2);return function(){return i.apply(s,u.length?u.concat(r.call(arguments)):arguments)}}var Ka=0;function ft(i){return"_leaflet_id"in i||(i._leaflet_id=++Ka),i._leaflet_id}function Ya(i,s,r){var u,d,p,v;return v=function(){u=!1,d&&(p.apply(r,d),d=!1)},p=function(){u?d=arguments:(i.apply(r,arguments),setTimeout(v,s),u=!0)},p}function $o(i,s,r){var u=s[1],d=s[0],p=u-d;return i===u&&r?i:((i-d)%p+p)%p+d}function jt(){return!1}function ye(i,s){if(s===!1)return i;var r=Math.pow(10,s===void 0?6:s);return Math.round(i*r)/r}function Zr(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function To(i){return Zr(i).split(/\s+/)}function Nt(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?Ms(i.options):{});for(var r in s)i.options[r]=s[r];return i.options}function Xa(i,s,r){var u=[];for(var d in i)u.push(encodeURIComponent(r?d.toUpperCase():d)+"="+encodeURIComponent(i[d]));return(!s||s.indexOf("?")===-1?"?":"&")+u.join("&")}var Ja=/\{ *([\w_ -]+) *\}/g;function Qa(i,s){return i.replace(Ja,function(r,u){var d=s[u];if(d===void 0)throw new Error("No value provided for variable "+r);return typeof d=="function"&&(d=d(s)),d})}var Pe=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function Er(i,s){for(var r=0;r<i.length;r++)if(i[r]===s)return r;return-1}var Ls="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function zs(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var mr=0;function Ar(i){var s=+new Date,r=Math.max(0,16-(s-mr));return mr=s+r,window.setTimeout(i,r)}var gr=window.requestAnimationFrame||zs("RequestAnimationFrame")||Ar,$a=window.cancelAnimationFrame||zs("CancelAnimationFrame")||zs("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function mi(i,s,r){if(r&&gr===Ar)i.call(s);else return gr.call(window,kt(i,s))}function Wi(i){i&&$a.call(window,i)}function Ue(){}Ue.extend=function(i){var s=function(){Nt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=s.__super__=this.prototype,u=Ms(r);u.constructor=s,s.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(s[d]=this[d]);return i.statics&&bt(s,i.statics),i.includes&&(th(i.includes),bt.apply(null,[u].concat(i.includes))),bt(u,i),delete u.statics,delete u.includes,u.options&&(u.options=r.options?Ms(r.options):{},bt(u.options,i.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=u._initHooks.length;p<v;p++)u._initHooks[p].call(this)}},s};Ue.include=function(i){var s=this.prototype.options;return bt(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this};Ue.mergeOptions=function(i){return bt(this.prototype.options,i),this};Ue.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),r=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function th(i){if(!(typeof L=="undefined"||!L||!L.Mixin)){i=Pe(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ki={on:function(i,s,r){if(typeof i=="object")for(var u in i)this._on(u,i[u],s);else{i=To(i);for(var d=0,p=i.length;d<p;d++)this._on(i[d],s,r)}return this},off:function(i,s,r){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var u in i)this._off(u,i[u],s);else{i=To(i);for(var d=arguments.length===1,p=0,v=i.length;p<v;p++)d?this._off(i[p]):this._off(i[p],s,r)}return this},_on:function(i,s,r){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}this._events=this._events||{};var u=this._events[i];u||(u=[],this._events[i]=u),r===this&&(r=void 0);for(var d={fn:s,ctx:r},p=u,v=0,b=p.length;v<b;v++)if(p[v].fn===s&&p[v].ctx===r)return;p.push(d)},_off:function(i,s,r){var u,d,p;if(!!this._events&&(u=this._events[i],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,p=u.length;d<p;d++)u[d].fn=jt;delete this._events[i];return}if(r===this&&(r=void 0),typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}for(d=0,p=u.length;d<p;d++){var v=u[d];if(v.ctx===r&&v.fn===s){this._firingCount&&(v.fn=jt,this._events[i]=u=u.slice()),u.splice(d,1);return}}console.warn("listener not found")}},fire:function(i,s,r){if(!this.listens(i,r))return this;var u=bt({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var d=this._events[i];if(d){this._firingCount=this._firingCount+1||1;for(var p=0,v=d.length;p<v;p++){var b=d[p];b.fn.call(b.ctx||this,u)}this._firingCount--}}return r&&this._propagateEvent(u),this},listens:function(i,s){typeof i!="string"&&console.warn('"string" type argument expected');var r=this._events&&this._events[i];if(r&&r.length)return!0;if(s){for(var u in this._eventParents)if(this._eventParents[u].listens(i,s))return!0}return!1},once:function(i,s,r){if(typeof i=="object"){for(var u in i)this.once(u,i[u],s);return this}var d=kt(function(){this.off(i,s,r).off(i,d,r)},this);return this.on(i,s,r).on(i,d,r)},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[ft(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[ft(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,bt({layer:i.target,propagatedFrom:i.target},i),!0)}};ki.addEventListener=ki.on;ki.removeEventListener=ki.clearAllEventListeners=ki.off;ki.addOneTimeEventListener=ki.once;ki.fireEvent=ki.fire;ki.hasEventListeners=ki.listens;var as=Ue.extend(ki);function Y(i,s,r){this.x=r?Math.round(i):i,this.y=r?Math.round(s):s}var vr=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(i){return this.clone()._add(st(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(st(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new Y(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new Y(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=vr(this.x),this.y=vr(this.y),this},distanceTo:function(i){i=st(i);var s=i.x-this.x,r=i.y-this.y;return Math.sqrt(s*s+r*r)},equals:function(i){return i=st(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=st(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+ye(this.x)+", "+ye(this.y)+")"}};function st(i,s,r){return i instanceof Y?i:Pe(i)?new Y(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new Y(i.x,i.y):new Y(i,s,r)}function It(i,s){if(!!i)for(var r=s?[i,s]:i,u=0,d=r.length;u<d;u++)this.extend(r[u])}It.prototype={extend:function(i){return i=st(i),!this.min&&!this.max?(this.min=i.clone(),this.max=i.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(i){return new Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return new Y(this.min.x,this.max.y)},getTopRight:function(){return new Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,r;return typeof i[0]=="number"||i instanceof Y?i=st(i):i=te(i),i instanceof It?(s=i.min,r=i.max):s=r=i,s.x>=this.min.x&&r.x<=this.max.x&&s.y>=this.min.y&&r.y<=this.max.y},intersects:function(i){i=te(i);var s=this.min,r=this.max,u=i.min,d=i.max,p=d.x>=s.x&&u.x<=r.x,v=d.y>=s.y&&u.y<=r.y;return p&&v},overlaps:function(i){i=te(i);var s=this.min,r=this.max,u=i.min,d=i.max,p=d.x>s.x&&u.x<r.x,v=d.y>s.y&&u.y<r.y;return p&&v},isValid:function(){return!!(this.min&&this.max)}};function te(i,s){return!i||i instanceof It?i:new It(i,s)}function gi(i,s){if(!!i)for(var r=s?[i,s]:i,u=0,d=r.length;u<d;u++)this.extend(r[u])}gi.prototype={extend:function(i){var s=this._southWest,r=this._northEast,u,d;if(i instanceof Pt)u=i,d=i;else if(i instanceof gi){if(u=i._southWest,d=i._northEast,!u||!d)return this}else return i?this.extend(At(i)||$t(i)):this;return!s&&!r?(this._southWest=new Pt(u.lat,u.lng),this._northEast=new Pt(d.lat,d.lng)):(s.lat=Math.min(u.lat,s.lat),s.lng=Math.min(u.lng,s.lng),r.lat=Math.max(d.lat,r.lat),r.lng=Math.max(d.lng,r.lng)),this},pad:function(i){var s=this._southWest,r=this._northEast,u=Math.abs(s.lat-r.lat)*i,d=Math.abs(s.lng-r.lng)*i;return new gi(new Pt(s.lat-u,s.lng-d),new Pt(r.lat+u,r.lng+d))},getCenter:function(){return new Pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Pt||"lat"in i?i=At(i):i=$t(i);var s=this._southWest,r=this._northEast,u,d;return i instanceof gi?(u=i.getSouthWest(),d=i.getNorthEast()):u=d=i,u.lat>=s.lat&&d.lat<=r.lat&&u.lng>=s.lng&&d.lng<=r.lng},intersects:function(i){i=$t(i);var s=this._southWest,r=this._northEast,u=i.getSouthWest(),d=i.getNorthEast(),p=d.lat>=s.lat&&u.lat<=r.lat,v=d.lng>=s.lng&&u.lng<=r.lng;return p&&v},overlaps:function(i){i=$t(i);var s=this._southWest,r=this._northEast,u=i.getSouthWest(),d=i.getNorthEast(),p=d.lat>s.lat&&u.lat<r.lat,v=d.lng>s.lng&&u.lng<r.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=$t(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $t(i,s){return i instanceof gi?i:new gi(i,s)}function Pt(i,s,r){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,r!==void 0&&(this.alt=+r)}Pt.prototype={equals:function(i,s){if(!i)return!1;i=At(i);var r=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return r<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+ye(this.lat,i)+", "+ye(this.lng,i)+")"},distanceTo:function(i){return We.distance(this,At(i))},wrap:function(){return We.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,r=s/Math.cos(Math.PI/180*this.lat);return $t([this.lat-s,this.lng-r],[this.lat+s,this.lng+r])},clone:function(){return new Pt(this.lat,this.lng,this.alt)}};function At(i,s,r){return i instanceof Pt?i:Pe(i)&&typeof i[0]!="object"?i.length===3?new Pt(i[0],i[1],i[2]):i.length===2?new Pt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Pt(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new Pt(i,s,r)}var je={latLngToPoint:function(i,s){var r=this.projection.project(i),u=this.scale(s);return this.transformation._transform(r,u)},pointToLatLng:function(i,s){var r=this.scale(s),u=this.transformation.untransform(i,r);return this.projection.unproject(u)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,r=this.scale(i),u=this.transformation.transform(s.min,r),d=this.transformation.transform(s.max,r);return new It(u,d)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?$o(i.lng,this.wrapLng,!0):i.lng,r=this.wrapLat?$o(i.lat,this.wrapLat,!0):i.lat,u=i.alt;return new Pt(r,s,u)},wrapLatLngBounds:function(i){var s=i.getCenter(),r=this.wrapLatLng(s),u=s.lat-r.lat,d=s.lng-r.lng;if(u===0&&d===0)return i;var p=i.getSouthWest(),v=i.getNorthEast(),b=new Pt(p.lat-u,p.lng-d),w=new Pt(v.lat-u,v.lng-d);return new gi(b,w)}},We=bt({},je,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var r=Math.PI/180,u=i.lat*r,d=s.lat*r,p=Math.sin((s.lat-i.lat)*r/2),v=Math.sin((s.lng-i.lng)*r/2),b=p*p+Math.cos(u)*Math.cos(d)*v*v,w=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*w}}),yr=6378137,xr={R:yr,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,r=this.MAX_LATITUDE,u=Math.max(Math.min(r,i.lat),-r),d=Math.sin(u*s);return new Y(this.R*i.lng*s,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(i){var s=180/Math.PI;return new Pt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=yr*Math.PI;return new It([-i,-i],[i,i])}()};function Or(i,s,r,u){if(Pe(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=r,this._d=u}Or.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new Y((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function hs(i,s,r,u){return new Or(i,s,r,u)}var Rs=bt({},We,{code:"EPSG:3857",projection:xr,transformation:function(){var i=.5/(Math.PI*xr.R);return hs(i,.5,-i,.5)}()}),ih=bt({},Rs,{code:"EPSG:900913"});function Ir(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Br(i,s){var r="",u,d,p,v,b,w;for(u=0,p=i.length;u<p;u++){for(b=i[u],d=0,v=b.length;d<v;d++)w=b[d],r+=(d?"L":"M")+w.x+" "+w.y;r+=s?H.svg?"z":"x":""}return r||"M0 0"}var Ns=document.documentElement.style,us="ActiveXObject"in window,eh=us&&!document.addEventListener,Rr="msLaunchUri"in navigator&&!("documentMode"in document),Ds=ie("webkit"),Nr=ie("android"),Dr=ie("android 2")||ie("android 3"),nh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oh=Nr&&ie("Google")&&nh<537&&!("AudioNode"in window),Hs=!!window.opera,Hr=!Rr&&ie("chrome"),Wr=ie("gecko")&&!Ds&&!Hs&&!us,sh=!Hr&&ie("safari"),Fr=ie("phantom"),Ur="OTransition"in Ns,rh=navigator.platform.indexOf("Win")===0,jr=us&&"transition"in Ns,Ws="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Dr,Vr="MozPerspective"in Ns,ah=!window.L_DISABLE_3D&&(jr||Ws||Vr)&&!Ur&&!Fr,Mo=typeof orientation!="undefined"||ie("mobile"),hh=Mo&&Ds,uh=Mo&&Ws,Gr=!window.PointerEvent&&window.MSPointerEvent,qr=!!(window.PointerEvent||Gr),Kr="ontouchstart"in window||!!window.TouchEvent,lh=!window.L_NO_TOUCH&&(Kr||qr),ch=Mo&&Hs,dh=Mo&&Wr,_h=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fh=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",jt,s),window.removeEventListener("testPassiveEventSupport",jt,s)}catch{}return i}(),ph=function(){return!!document.createElement("canvas").getContext}(),Fs=!!(document.createElementNS&&Ir("svg").createSVGRect),mh=!!Fs&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gh=!Fs&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}();function ie(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var H={ie:us,ielt9:eh,edge:Rr,webkit:Ds,android:Nr,android23:Dr,androidStock:oh,opera:Hs,chrome:Hr,gecko:Wr,safari:sh,phantom:Fr,opera12:Ur,win:rh,ie3d:jr,webkit3d:Ws,gecko3d:Vr,any3d:ah,mobile:Mo,mobileWebkit:hh,mobileWebkit3d:uh,msPointer:Gr,pointer:qr,touch:lh,touchNative:Kr,mobileOpera:ch,mobileGecko:dh,retina:_h,passiveEvents:fh,canvas:ph,svg:Fs,vml:gh,inlineSvg:mh},Yr=H.msPointer?"MSPointerDown":"pointerdown",Xr=H.msPointer?"MSPointerMove":"pointermove",Jr=H.msPointer?"MSPointerUp":"pointerup",Qr=H.msPointer?"MSPointerCancel":"pointercancel",Cs={touchstart:Yr,touchmove:Xr,touchend:Jr,touchcancel:Qr},wr={touchstart:Lh,touchmove:qo,touchend:qo,touchcancel:qo},jn={},Pr=!1;function vh(i,s,r){return s==="touchstart"&&Ph(),wr[s]?(r=wr[s].bind(this,r),i.addEventListener(Cs[s],r,!1),r):(console.warn("wrong event specified:",s),L.Util.falseFn)}function yh(i,s,r){if(!Cs[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Cs[s],r,!1)}function xh(i){jn[i.pointerId]=i}function wh(i){jn[i.pointerId]&&(jn[i.pointerId]=i)}function Lr(i){delete jn[i.pointerId]}function Ph(){Pr||(document.addEventListener(Yr,xh,!0),document.addEventListener(Xr,wh,!0),document.addEventListener(Jr,Lr,!0),document.addEventListener(Qr,Lr,!0),Pr=!0)}function qo(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var r in jn)s.touches.push(jn[r]);s.changedTouches=[s],i(s)}}function Lh(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ri(s),qo(i,s)}function bh(i){var s={},r,u;for(u in i)r=i[u],s[u]=r&&r.bind?r.bind(i):r;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Th=200;function Mh(i,s){i.addEventListener("dblclick",s);var r=0,u;function d(p){if(p.detail!==1){u=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=Date.now();v-r<=Th?(u++,u===2&&s(bh(p))):u=1,r=v}}return i.addEventListener("click",d),{dblclick:s,simDblclick:d}}function zh(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var $r=js(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ko=js(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ch=Ko==="webkitTransition"||Ko==="OTransition"?Ko+"End":"transitionend";function Sh(i){return typeof i=="string"?document.getElementById(i):i}function ts(i,s){var r=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!r||r==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(i,null);r=u?u[s]:null}return r==="auto"?null:r}function _t(i,s,r){var u=document.createElement(i);return u.className=s||"",r&&r.appendChild(u),u}function Ot(i){var s=i.parentNode;s&&s.removeChild(i)}function Ss(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function zo(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Co(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function ta(i,s){if(i.classList!==void 0)return i.classList.contains(s);var r=Us(i);return r.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(r)}function tt(i,s){if(i.classList!==void 0)for(var r=To(s),u=0,d=r.length;u<d;u++)i.classList.add(r[u]);else if(!ta(i,s)){var p=Us(i);ia(i,(p?p+" ":"")+s)}}function Wt(i,s){i.classList!==void 0?i.classList.remove(s):ia(i,Zr((" "+Us(i)+" ").replace(" "+s+" "," ")))}function ia(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Us(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Hi(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&kh(i,s)}function kh(i,s){var r=!1,u="DXImageTransform.Microsoft.Alpha";try{r=i.filters.item(u)}catch{if(s===1)return}s=Math.round(s*100),r?(r.Enabled=s!==100,r.Opacity=s):i.style.filter+=" progid:"+u+"(opacity="+s+")"}function js(i){for(var s=document.documentElement.style,r=0;r<i.length;r++)if(i[r]in s)return i[r];return!1}function Vn(i,s,r){var u=s||new Y(0,0);i.style[$r]=(H.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(r?" scale("+r+")":"")}function Vt(i,s){i._leaflet_pos=s,H.any3d?Vn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Gn(i){return i._leaflet_pos||new Y(0,0)}var is,es,bs;if("onselectstart"in document)is=function(){it(window,"selectstart",ri)},es=function(){zt(window,"selectstart",ri)};else{var Po=js(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);is=function(){if(Po){var i=document.documentElement.style;bs=i[Po],i[Po]="none"}},es=function(){Po&&(document.documentElement.style[Po]=bs,bs=void 0)}}function ea(){it(window,"dragstart",ri)}function na(){zt(window,"dragstart",ri)}var Yo,ks;function oa(i){for(;i.tabIndex===-1;)i=i.parentNode;!i.style||(Zs(),Yo=i,ks=i.style.outline,i.style.outline="none",it(window,"keydown",Zs))}function Zs(){!Yo||(Yo.style.outline=ks,Yo=void 0,ks=void 0,zt(window,"keydown",Zs))}function Zh(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function sa(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}function it(i,s,r,u){if(s&&typeof s=="object")for(var d in s)As(i,d,s[d],r);else{s=To(s);for(var p=0,v=s.length;p<v;p++)As(i,s[p],r,u)}return this}var $i="_leaflet_events";function zt(i,s,r,u){if(arguments.length===1)br(i),delete i[$i];else if(s&&typeof s=="object")for(var d in s)Os(i,d,s[d],r);else if(s=To(s),arguments.length===2)br(i,function(b){return Er(s,b)!==-1});else for(var p=0,v=s.length;p<v;p++)Os(i,s[p],r,u);return this}function br(i,s){for(var r in i[$i]){var u=r.split(/\d/)[0];(!s||s(u))&&Os(i,u,null,null,r)}}var Es={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function As(i,s,r,u){var d=s+ft(r)+(u?"_"+ft(u):"");if(i[$i]&&i[$i][d])return this;var p=function(b){return r.call(u||i,b||window.event)},v=p;!H.touchNative&&H.pointer&&s.indexOf("touch")===0?p=vh(i,s,p):H.touch&&s==="dblclick"?p=Mh(i,p):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Es[s]||s,p,H.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(p=function(b){b=b||window.event,aa(i,b)&&v(b)},i.addEventListener(Es[s],p,!1)):i.addEventListener(s,v,!1):i.attachEvent("on"+s,p),i[$i]=i[$i]||{},i[$i][d]=p}function Os(i,s,r,u,d){d=d||s+ft(r)+(u?"_"+ft(u):"");var p=i[$i]&&i[$i][d];if(!p)return this;!H.touchNative&&H.pointer&&s.indexOf("touch")===0?yh(i,s,p):H.touch&&s==="dblclick"?zh(i,p):"removeEventListener"in i?i.removeEventListener(Es[s]||s,p,!1):i.detachEvent("on"+s,p),i[$i][d]=null}function Fn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ra(i){return As(i,"wheel",Fn),this}function ls(i){return it(i,"mousedown touchstart dblclick contextmenu",Fn),i._leaflet_disable_click=!0,this}function ri(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function qn(i){return ri(i),Fn(i),this}function Eh(i,s){if(!s)return new Y(i.clientX,i.clientY);var r=sa(s),u=r.boundingClientRect;return new Y((i.clientX-u.left)/r.x-s.clientLeft,(i.clientY-u.top)/r.y-s.clientTop)}var Ah=H.win&&H.chrome?2*window.devicePixelRatio:H.gecko?window.devicePixelRatio:1;function Oh(i){return H.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Ah:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function aa(i,s){var r=s.relatedTarget;if(!r)return!0;try{for(;r&&r!==i;)r=r.parentNode}catch{return!1}return r!==i}var Ih=as.extend({run:function(i,s,r,u){this.stop(),this._el=i,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Gn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=mi(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,r=this._duration*1e3;s<r?this._runFrame(this._easeOut(s/r),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var r=this._startPos.add(this._offset.multiplyBy(i));s&&r._round(),Vt(this._el,r),this.fire("step")},_complete:function(){Wi(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),lt=as.extend({options:{crs:Rs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=Nt(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=kt(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(At(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ko&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),it(this._proxy,Ch,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,r){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(At(i),s,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=bt({animate:r.animate},r.zoom),r.pan=bt({animate:r.animate,duration:r.duration},r.pan));var u=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,r.zoom):this._tryAnimatedPan(i,r.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,r){var u=this.getZoomScale(s),d=this.getSize().divideBy(2),p=i instanceof Y?i:this.latLngToContainerPoint(i),v=p.subtract(d).multiplyBy(1-1/u),b=this.containerPointToLatLng(d.add(v));return this.setView(b,s,{zoom:r})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():$t(i);var r=st(s.paddingTopLeft||s.padding||[0,0]),u=st(s.paddingBottomRight||s.padding||[0,0]),d=this.getBoundsZoom(i,!1,r.add(u));if(d=typeof s.maxZoom=="number"?Math.min(s.maxZoom,d):d,d===1/0)return{center:i.getCenter(),zoom:d};var p=u.subtract(r).divideBy(2),v=this.project(i.getSouthWest(),d),b=this.project(i.getNorthEast(),d),w=this.unproject(v.add(b).divideBy(2).add(p),d);return{center:w,zoom:d}},fitBounds:function(i,s){if(i=$t(i),!i.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(i,s);return this.setView(r.center,r.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=st(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ih,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){tt(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,r,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,r){if(r=r||{},r.animate===!1||!H.any3d)return this.setView(i,s,r);this._stop();var u=this.project(this.getCenter()),d=this.project(i),p=this.getSize(),v=this._zoom;i=At(i),s=s===void 0?v:s;var b=Math.max(p.x,p.y),w=b*this.getZoomScale(v,s),C=d.distanceTo(u)||1,E=1.42,k=E*E;function N(gt){var yi=gt?-1:1,qe=gt?w:b,ct=w*w-b*b+yi*k*k*C*C,pt=2*qe*k*C,Ke=ct/pt,Zt=Math.sqrt(Ke*Ke+1)-Ke,Xt=Zt<1e-9?-18:Math.log(Zt);return Xt}function Yt(gt){return(Math.exp(gt)-Math.exp(-gt))/2}function Bt(gt){return(Math.exp(gt)+Math.exp(-gt))/2}function W(gt){return Yt(gt)/Bt(gt)}var ai=N(0);function Ve(gt){return b*(Bt(ai)/Bt(ai+E*gt))}function Ge(gt){return b*(Bt(ai)*W(ai+E*gt)-Yt(ai))/k}function Ct(gt){return 1-Math.pow(1-gt,1.5)}var ne=Date.now(),vi=(N(1)-ai)/E,oe=r.duration?1e3*r.duration:1e3*vi*.8;function be(){var gt=(Date.now()-ne)/oe,yi=Ct(gt)*vi;gt<=1?(this._flyToFrame=mi(be,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(Ge(yi)/C)),v),this.getScaleZoom(b/Ve(yi),v),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),be.call(this),this},flyToBounds:function(i,s){var r=this._getBoundsCenterZoom(i,s);return this.flyTo(r.center,r.zoom,s)},setMaxBounds:function(i){if(i=$t(i),i.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var r=this.getCenter(),u=this._limitCenter(r,this._zoom,$t(i));return r.equals(u)||this.panTo(u,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var r=st(s.paddingTopLeft||s.padding||[0,0]),u=st(s.paddingBottomRight||s.padding||[0,0]),d=this.project(this.getCenter()),p=this.project(i),v=this.getPixelBounds(),b=te([v.min.add(r),v.max.subtract(u)]),w=b.getSize();if(!b.contains(p)){this._enforcingBounds=!0;var C=p.subtract(b.getCenter()),E=b.extend(p).getSize().subtract(w);d.x+=C.x<0?-E.x:E.x,d.y+=C.y<0?-E.y:E.y,this.panTo(this.unproject(d),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=bt({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),u=s.divideBy(2).round(),d=r.divideBy(2).round(),p=u.subtract(d);return!p.x&&!p.y?this:(i.animate&&i.pan?this.panBy(p):(i.pan&&this._rawPanBy(p),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(kt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=bt({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=kt(this._handleGeolocationResponse,this),r=kt(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,r,i):navigator.geolocation.getCurrentPosition(s,r,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(!!this._container._leaflet_id){var s=i.code,r=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(i){if(!!this._container._leaflet_id){var s=i.coords.latitude,r=i.coords.longitude,u=new Pt(s,r),d=u.toBounds(i.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(d);this.setView(u,p.maxZoom?Math.min(v,p.maxZoom):v)}var b={latlng:u,bounds:d,timestamp:i.timestamp};for(var w in i.coords)typeof i.coords[w]=="number"&&(b[w]=i.coords[w]);this.fire("locationfound",b)}},addHandler:function(i,s){if(!s)return this;var r=this[i]=new s(this);return this._handlers.push(r),this.options[i]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Wi(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ot(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var r="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),u=_t("div",r,s||this._mapPane);return i&&(this._panes[i]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),r=this.unproject(i.getTopRight());return new gi(s,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,r){i=$t(i),r=st(r||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),p=this.getMaxZoom(),v=i.getNorthWest(),b=i.getSouthEast(),w=this.getSize().subtract(r),C=te(this.project(b,u),this.project(v,u)).getSize(),E=H.any3d?this.options.zoomSnap:1,k=w.x/C.x,N=w.y/C.y,Yt=s?Math.max(k,N):Math.min(k,N);return u=this.getScaleZoom(Yt,u),E&&(u=Math.round(u/(E/100))*(E/100),u=s?Math.ceil(u/E)*E:Math.floor(u/E)*E),Math.max(d,Math.min(p,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var r=this._getTopLeftPoint(i,s);return new It(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var r=this.options.crs;return s=s===void 0?this._zoom:s,r.scale(i)/r.scale(s)},getScaleZoom:function(i,s){var r=this.options.crs;s=s===void 0?this._zoom:s;var u=r.zoom(i*r.scale(s));return isNaN(u)?1/0:u},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(At(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(st(i),s)},layerPointToLatLng:function(i){var s=st(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(At(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(At(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds($t(i))},distance:function(i,s){return this.options.crs.distance(At(i),At(s))},containerPointToLayerPoint:function(i){return st(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return st(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(st(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(At(i)))},mouseEventToContainerPoint:function(i){return Eh(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=Sh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");it(s,"scroll",this._onScroll,this),this._containerId=ft(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,tt(i,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ts(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tt(i.markerPane,"leaflet-zoom-hide"),tt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s){Vt(this._mapPane,new Y(0,0));var r=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var u=this._zoom!==s;this._moveStart(u,!1)._move(i,s)._moveEnd(u),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,r,u){s===void 0&&(s=this._zoom);var d=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),u?r&&r.pinch&&this.fire("zoom",r):((d||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Wi(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Vt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[ft(this._container)]=this;var s=i?zt:it;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Wi(this._resizeRequest),this._resizeRequest=mi(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var r=[],u,d=s==="mouseout"||s==="mouseover",p=i.target||i.srcElement,v=!1;p;){if(u=this._targets[ft(p)],u&&(s==="click"||s==="preclick")&&this._draggableMoved(u)){v=!0;break}if(u&&u.listens(s,!0)&&(d&&!aa(p,i)||(r.push(u),d))||p===this._container)break;p=p.parentNode}return!r.length&&!v&&!d&&this.listens(s,!0)&&(r=[this]),r},_isClickDisabled:function(i){for(;i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var r=i.type;r==="mousedown"&&oa(s),this._fireDOMEvent(i,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,r){if(i.type==="click"){var u=bt({},i);u.type="preclick",this._fireDOMEvent(u,u.type,r)}var d=this._findEventTargets(i,s);if(r){for(var p=[],v=0;v<r.length;v++)r[v].listens(s,!0)&&p.push(r[v]);d=p.concat(d)}if(!!d.length){s==="contextmenu"&&ri(i);var b=d[0],w={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var C=b.getLatLng&&(!b._radius||b._radius<=10);w.containerPoint=C?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(i),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=C?b.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(v=0;v<d.length;v++)if(d[v].fire(s,w,!0),w.originalEvent._stopped||d[v].options.bubblingMouseEvents===!1&&Er(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Gn(this._mapPane)||new Y(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var r=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var r=this.getSize()._divideBy(2);return this.project(i,s)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,r){var u=this._getNewPixelOrigin(r,s);return this.project(i,s)._subtract(u)},_latLngBoundsToNewLayerBounds:function(i,s,r){var u=this._getNewPixelOrigin(r,s);return te([this.project(i.getSouthWest(),s)._subtract(u),this.project(i.getNorthWest(),s)._subtract(u),this.project(i.getSouthEast(),s)._subtract(u),this.project(i.getNorthEast(),s)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,r){if(!r)return i;var u=this.project(i,s),d=this.getSize().divideBy(2),p=new It(u.subtract(d),u.add(d)),v=this._getBoundsOffset(p,r,s);return v.round().equals([0,0])?i:this.unproject(u.add(v),s)},_limitOffset:function(i,s){if(!s)return i;var r=this.getPixelBounds(),u=new It(r.min.add(i),r.max.add(i));return i.add(this._getBoundsOffset(u,s))},_getBoundsOffset:function(i,s,r){var u=te(this.project(s.getNorthEast(),r),this.project(s.getSouthWest(),r)),d=u.min.subtract(i.min),p=u.max.subtract(i.max),v=this._rebound(d.x,-p.x),b=this._rebound(d.y,-p.y);return new Y(v,b)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),r=this.getMaxZoom(),u=H.any3d?this.options.zoomSnap:1;return u&&(i=Math.round(i/u)*u),Math.max(s,Math.min(r,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var r=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,s),!0)},_createAnimProxy:function(){var i=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var r=$r,u=this._proxy.style[r];Vn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),u===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Vn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(s),d=this._getCenterOffset(i)._divideBy(1-1/u);return r.animate!==!0&&!this.getSize().contains(d)?!1:(mi(function(){this._moveStart(!0,!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,r,u){!this._mapPane||(r&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(kt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}}),we=Ue.extend({options:{position:"topright"},initialize:function(i){Nt(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),r=this.getPosition(),u=i._controlCorners[r];return tt(s,"leaflet-control"),r.indexOf("bottom")!==-1?u.insertBefore(s,u.firstChild):u.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}});lt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",r=this._controlContainer=_t("div",s+"control-container",this._container);function u(d,p){var v=s+d+" "+s+p;i[d+p]=_t("div",v,r)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ot(this._controlCorners[i]);Ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bh=we.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,r,u){return r<u?-1:u<r?1:0}},initialize:function(i,s,r){Nt(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var u in i)this._addLayer(i[u],u);for(u in s)this._addLayer(s[u],u,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return we.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(ft(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=_t("div",i),r=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ls(s),ra(s);var u=this._section=_t("section",i+"-list");r&&(this._map.on("click",this.collapse,this),it(s,{mouseenter:function(){it(u,"click",ri),this.expand(),setTimeout(function(){zt(u,"click",ri)})},mouseleave:this.collapse},this));var d=this._layersLink=_t("a",i+"-toggle",s);d.href="#",d.title="Layers",d.setAttribute("role","button"),it(d,"click",ri),it(d,"focus",this.expand,this),r||this.expand(),this._baseLayersList=_t("div",i+"-base",u),this._separator=_t("div",i+"-separator",u),this._overlaysList=_t("div",i+"-overlays",u),s.appendChild(u)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&ft(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,r){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:r}),this.options.sortLayers&&this._layers.sort(kt(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ss(this._baseLayersList),Ss(this._overlaysList),this._layerControlInputs=[];var i,s,r,u,d=0;for(r=0;r<this._layers.length;r++)u=this._layers[r],this._addItem(u),s=s||u.overlay,i=i||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(i=i&&d>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(ft(i.target)),r=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;r&&this._map.fire(r,s)},_createRadioElement:function(i,s){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=r,u.firstChild},_addItem:function(i){var s=document.createElement("label"),r=this._map.hasLayer(i.layer),u;i.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=r):u=this._createRadioElement("leaflet-base-layers_"+ft(this),r),this._layerControlInputs.push(u),u.layerId=ft(i.layer),it(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+i.name;var p=document.createElement("span");s.appendChild(p),p.appendChild(u),p.appendChild(d);var v=i.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){var i=this._layerControlInputs,s,r,u=[],d=[];this._handlingClick=!0;for(var p=i.length-1;p>=0;p--)s=i[p],r=this._getLayer(s.layerId).layer,s.checked?u.push(r):s.checked||d.push(r);for(p=0;p<d.length;p++)this._map.hasLayer(d[p])&&this._map.removeLayer(d[p]);for(p=0;p<u.length;p++)this._map.hasLayer(u[p])||this._map.addLayer(u[p]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,r,u=this._map.getZoom(),d=i.length-1;d>=0;d--)s=i[d],r=this._getLayer(s.layerId).layer,s.disabled=r.options.minZoom!==void 0&&u<r.options.minZoom||r.options.maxZoom!==void 0&&u>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),ha=we.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",r=_t("div",s+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,s+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,s+"-out",r,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,r,u,d){var p=_t("a",r,u);return p.innerHTML=i,p.href="#",p.title=s,p.setAttribute("role","button"),p.setAttribute("aria-label",s),ls(p),it(p,"click",qn),it(p,"click",d,this),it(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Wt(this._zoomInButton,s),Wt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(tt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(tt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0});lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ha,this.addControl(this.zoomControl))});var Rh=we.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",r=_t("div",s),u=this.options;return this._addScales(u,s+"-line",r),i.on(u.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),r},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,r){i.metric&&(this._mScale=_t("div",s,r)),i.imperial&&(this._iScale=_t("div",s,r))},_update:function(){var i=this._map,s=i.getSize().y/2,r=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(r)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),r=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,r,s/i)},_updateImperial:function(i){var s=i*3.2808399,r,u,d;s>5280?(r=s/5280,u=this._getRoundNum(r),this._updateScale(this._iScale,u+" mi",u/r)):(d=this._getRoundNum(s),this._updateScale(this._iScale,d+" ft",d/s))},_updateScale:function(i,s,r){i.style.width=Math.round(this.options.maxWidth*r)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),r=i/s;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,s*r}}),Nh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ua=we.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Nh+" ":"")+"Leaflet</a>"},initialize:function(i){Nt(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),ls(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(!!this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var r=[];this.options.prefix&&r.push(this.options.prefix),i.length&&r.push(i.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0});lt.addInitHook(function(){this.options.attributionControl&&new ua().addTo(this)});we.Layers=Bh;we.Zoom=ha;we.Scale=Rh;we.Attribution=ua;var Le=Ue.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Le.addTo=function(i,s){return i.addHandler(s,this),this};var Tr=H.touch?"touchstart mousedown":"mousedown",yn=as.extend({options:{clickTolerance:3},initialize:function(i,s,r,u){Nt(this,u),this._element=i,this._dragStartTarget=s||i,this._preventOutline=r},enable:function(){this._enabled||(it(this._dragStartTarget,Tr,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(yn._dragging===this&&this.finishDrag(!0),zt(this._dragStartTarget,Tr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(!!this._enabled&&(this._moved=!1,!ta(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){yn._dragging===this&&this.finishDrag();return}if(!(yn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(yn._dragging=this,this._preventOutline&&oa(this._element),ea(),is(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,r=Zh(this._element);this._startPoint=new Y(s.clientX,s.clientY),this._startPos=Gn(this._element),this._parentScale=sa(r);var u=i.type==="mousedown";it(document,u?"mousemove":"touchmove",this._onMove,this),it(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(!!this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,r=new Y(s.clientX,s.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,ri(i),this._moved||(this.fire("dragstart"),this._moved=!0,tt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Vt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(i){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zt(document,"mousemove touchmove",this._onMove,this),zt(document,"mouseup touchend touchcancel",this._onUp,this),na(),es(),this._moved&&this._moving&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,yn._dragging=!1}});function Dh(i,s){if(!s||!i.length)return i.slice();var r=s*s;return i=Fh(i,r),i=Wh(i,r),i}function Hh(i,s,r){return Math.sqrt(Vs(i,s,r,!0))}function Wh(i,s){var r=i.length,u=typeof Uint8Array!=void 0+""?Uint8Array:Array,d=new u(r);d[0]=d[r-1]=1,Is(i,d,s,0,r-1);var p,v=[];for(p=0;p<r;p++)d[p]&&v.push(i[p]);return v}function Is(i,s,r,u,d){var p=0,v,b,w;for(b=u+1;b<=d-1;b++)w=Vs(i[b],i[u],i[d],!0),w>p&&(v=b,p=w);p>r&&(s[v]=1,Is(i,s,r,u,v),Is(i,s,r,v,d))}function Fh(i,s){for(var r=[i[0]],u=1,d=0,p=i.length;u<p;u++)jh(i[u],i[d])>s&&(r.push(i[u]),d=u);return d<p-1&&r.push(i[p-1]),r}var Mr;function Uh(i,s,r,u,d){var p=u?Mr:Un(i,r),v=Un(s,r),b,w,C;for(Mr=v;;){if(!(p|v))return[i,s];if(p&v)return!1;b=p||v,w=Bs(i,s,b,r,d),C=Un(w,r),b===p?(i=w,p=C):(s=w,v=C)}}function Bs(i,s,r,u,d){var p=s.x-i.x,v=s.y-i.y,b=u.min,w=u.max,C,E;return r&8?(C=i.x+p*(w.y-i.y)/v,E=w.y):r&4?(C=i.x+p*(b.y-i.y)/v,E=b.y):r&2?(C=w.x,E=i.y+v*(w.x-i.x)/p):r&1&&(C=b.x,E=i.y+v*(b.x-i.x)/p),new Y(C,E,d)}function Un(i,s){var r=0;return i.x<s.min.x?r|=1:i.x>s.max.x&&(r|=2),i.y<s.min.y?r|=4:i.y>s.max.y&&(r|=8),r}function jh(i,s){var r=s.x-i.x,u=s.y-i.y;return r*r+u*u}function Vs(i,s,r,u){var d=s.x,p=s.y,v=r.x-d,b=r.y-p,w=v*v+b*b,C;return w>0&&(C=((i.x-d)*v+(i.y-p)*b)/w,C>1?(d=r.x,p=r.y):C>0&&(d+=v*C,p+=b*C)),v=i.x-d,b=i.y-p,u?v*v+b*b:new Y(d,p)}function Fe(i){return!Pe(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]!="undefined"}function Vh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fe(i)}function Gh(i,s,r){var u,d=[1,4,2,8],p,v,b,w,C,E,k,N;for(p=0,E=i.length;p<E;p++)i[p]._code=Un(i[p],s);for(b=0;b<4;b++){for(k=d[b],u=[],p=0,E=i.length,v=E-1;p<E;v=p++)w=i[p],C=i[v],w._code&k?C._code&k||(N=Bs(C,w,k,s,r),N._code=Un(N,s),u.push(N)):(C._code&k&&(N=Bs(C,w,k,s,r),N._code=Un(N,s),u.push(N)),u.push(w));i=u}return i}var la={project:function(i){return new Y(i.lng,i.lat)},unproject:function(i){return new Pt(i.y,i.x)},bounds:new It([-180,-90],[180,90])},zr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new It([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,r=this.R,u=i.lat*s,d=this.R_MINOR/r,p=Math.sqrt(1-d*d),v=p*Math.sin(u),b=Math.tan(Math.PI/4-u/2)/Math.pow((1-v)/(1+v),p/2);return u=-r*Math.log(Math.max(b,1e-10)),new Y(i.lng*s*r,u)},unproject:function(i){for(var s=180/Math.PI,r=this.R,u=this.R_MINOR/r,d=Math.sqrt(1-u*u),p=Math.exp(-i.y/r),v=Math.PI/2-2*Math.atan(p),b=0,w=.1,C;b<15&&Math.abs(w)>1e-7;b++)C=d*Math.sin(v),C=Math.pow((1-C)/(1+C),d/2),w=Math.PI/2-2*Math.atan(p*C)-v,v+=w;return new Pt(v*s,i.x*s/r)}},qh=bt({},We,{code:"EPSG:3395",projection:zr,transformation:function(){var i=.5/(Math.PI*zr.R);return hs(i,.5,-i,.5)}()}),ca=bt({},We,{code:"EPSG:4326",projection:la,transformation:hs(1/180,1,-1/180,.5)}),Kh=bt({},je,{projection:la,transformation:hs(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var r=s.lng-i.lng,u=s.lat-i.lat;return Math.sqrt(r*r+u*u)},infinite:!0});je.Earth=We;je.EPSG3395=qh;je.EPSG3857=Rs;je.EPSG900913=ih;je.EPSG4326=ca;je.Simple=Kh;var ee=as.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[ft(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[ft(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(!!s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var r=this.getEvents();s.on(r,this),this.once("remove",function(){s.off(r,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=ft(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=ft(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return ft(i)in this._layers},eachLayer:function(i,s){for(var r in this._layers)i.call(s,this._layers[r]);return this},_addLayers:function(i){i=i?Pe(i)?i:[i]:[];for(var s=0,r=i.length;s<r;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[ft(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=ft(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,r=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;i=d.minZoom===void 0?i:Math.min(i,d.minZoom),s=d.maxZoom===void 0?s:Math.max(s,d.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xo=ee.extend({initialize:function(i,s){Nt(this,s),this._layers={};var r,u;if(i)for(r=0,u=i.length;r<u;r++)this.addLayer(i[r])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),r,u;for(r in this._layers)u=this._layers[r],u[i]&&u[i].apply(u,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var r in this._layers)i.call(s,this._layers[r]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return ft(i)}}),ns=Xo.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Xo.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Xo.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new gi;for(var s in this._layers){var r=this._layers[s];i.extend(r.getBounds?r.getBounds():r.getLatLng())}return i}}),os=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){Nt(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var r=this._getIconUrl(i);if(!r){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(r,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(u,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(i,s){var r=this.options,u=r[s+"Size"];typeof u=="number"&&(u=[u,u]);var d=st(u),p=st(s==="shadow"&&r.shadowAnchor||r.iconAnchor||d&&d.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(r.className||""),p&&(i.style.marginLeft=-p.x+"px",i.style.marginTop=-p.y+"px"),d&&(i.style.width=d.x+"px",i.style.height=d.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return H.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}}),bo=os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof bo.imagePath!="string"&&(bo.imagePath=this._detectIconPath()),(this.options.imagePath||bo.imagePath)+os.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(r,u,d){var p=u.exec(r);return p&&p[d]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=_t("div","leaflet-default-icon-path",document.body),s=ts(i,"background-image")||ts(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Cr=Le.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new yn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,r=s._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,p=Gn(s._icon),v=r.getPixelBounds(),b=r.getPixelOrigin(),w=te(v.min._subtract(b).add(d),v.max._subtract(b).subtract(d));if(!w.contains(p)){var C=st((Math.max(w.max.x,p.x)-w.max.x)/(v.max.x-w.max.x)-(Math.min(w.min.x,p.x)-w.min.x)/(v.min.x-w.min.x),(Math.max(w.max.y,p.y)-w.max.y)/(v.max.y-w.max.y)-(Math.min(w.min.y,p.y)-w.min.y)/(v.min.y-w.min.y)).multiplyBy(u);r.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Vt(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=mi(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Wi(this._panRequest),this._panRequest=mi(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,r=s._shadow,u=Gn(s._icon),d=s._map.layerPointToLatLng(u);r&&Vt(r,u),s._latlng=d,i.latlng=d,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Wi(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),da=ee.extend({options:{icon:new bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){Nt(this,s),this._latlng=At(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=At(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=i.icon.createIcon(this._icon),u=!1;r!==this._icon&&(this._icon&&this._removeIcon(),u=!0,i.title&&(r.title=i.title),r.tagName==="IMG"&&(r.alt=i.alt||"")),tt(r,s),i.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(r,"focus",this._panOnFocus,this);var d=i.icon.createShadow(this._shadow),p=!1;d!==this._shadow&&(this._removeShadow(),p=!0),d&&(tt(d,s),d.alt=""),this._shadow=d,i.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&p&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(this._icon,"focus",this._panOnFocus,this),Ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ot(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Vt(this._icon,i),this._shadow&&Vt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(!!this.options.interactive&&(tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cr)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cr(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Hi(this._icon,i),this._shadow&&Hi(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(!!i){var s=this.options.icon.options,r=s.iconSize?st(s.iconSize):st(0,0),u=s.iconAnchor?st(s.iconAnchor):st(0,0);i.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:r.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),wn=ee.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return Nt(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_a=wn.extend({options:{fill:!0,radius:10},initialize:function(i,s){Nt(this,s),this._latlng=At(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=At(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return wn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,r=this._clickTolerance(),u=[i+r,s+r];this._pxBounds=new It(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Yh=_a.extend({initialize:function(i,s,r){if(typeof s=="number"&&(s=bt({},r,{radius:s})),Nt(this,s),this._latlng=At(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new gi(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:wn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,r=this._map,u=r.options.crs;if(u.distance===We.distance){var d=Math.PI/180,p=this._mRadius/We.R/d,v=r.project([s+p,i]),b=r.project([s-p,i]),w=v.add(b).divideBy(2),C=r.unproject(w).lat,E=Math.acos((Math.cos(p*d)-Math.sin(s*d)*Math.sin(C*d))/(Math.cos(s*d)*Math.cos(C*d)))/d;(isNaN(E)||E===0)&&(E=p/Math.cos(Math.PI/180*s)),this._point=w.subtract(r.getPixelOrigin()),this._radius=isNaN(E)?0:w.x-r.project([C,i-E]).x,this._radiusY=w.y-v.y}else{var k=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(k).x}this._updateBounds()}}),xn=wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){Nt(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,r=null,u=Vs,d,p,v=0,b=this._parts.length;v<b;v++)for(var w=this._parts[v],C=1,E=w.length;C<E;C++){d=w[C-1],p=w[C];var k=u(i,d,p,!0);k<s&&(s=k,r=u(i,d,p))}return r&&(r.distance=Math.sqrt(s)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,s,r,u,d,p,v,b=this._rings[0],w=b.length;if(!w)return null;for(i=0,s=0;i<w-1;i++)s+=b[i].distanceTo(b[i+1])/2;if(s===0)return this._map.layerPointToLatLng(b[0]);for(i=0,u=0;i<w-1;i++)if(d=b[i],p=b[i+1],r=d.distanceTo(p),u+=r,u>s)return v=(u-s)/r,this._map.layerPointToLatLng([p.x-v*(p.x-d.x),p.y-v*(p.y-d.y)])},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=At(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new gi,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],r=Fe(i),u=0,d=i.length;u<d;u++)r?(s[u]=At(i[u]),this._bounds.extend(s[u])):s[u]=this._convertLatLngs(i[u]);return s},_project:function(){var i=new It;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new Y(i,i);!this._rawPxBounds||(this._pxBounds=new It([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,r){var u=i[0]instanceof Pt,d=i.length,p,v;if(u){for(v=[],p=0;p<d;p++)v[p]=this._map.latLngToLayerPoint(i[p]),r.extend(v[p]);s.push(v)}else for(p=0;p<d;p++)this._projectLatlngs(i[p],s,r)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,r,u,d,p,v,b,w;for(r=0,d=0,p=this._rings.length;r<p;r++)for(w=this._rings[r],u=0,v=w.length;u<v-1;u++)b=Uh(w[u],w[u+1],i,u,!0),b&&(s[d]=s[d]||[],s[d].push(b[0]),(b[1]!==w[u+1]||u===v-2)&&(s[d].push(b[1]),d++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,r=0,u=i.length;r<u;r++)i[r]=Dh(i[r],s)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var r,u,d,p,v,b,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(r=0,p=this._parts.length;r<p;r++)for(b=this._parts[r],u=0,v=b.length,d=v-1;u<v;d=u++)if(!(!s&&u===0)&&Hh(i,b[d],b[u])<=w)return!0;return!1}});xn._flat=Vh;var ss=xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,s,r,u,d,p,v,b,w,C=this._rings[0],E=C.length;if(!E)return null;for(p=v=b=0,i=0,s=E-1;i<E;s=i++)r=C[i],u=C[s],d=r.y*u.x-u.y*r.x,v+=(r.x+u.x)*d,b+=(r.y+u.y)*d,p+=d*3;return p===0?w=C[0]:w=[v/p,b/p],this._map.layerPointToLatLng(w)},_convertLatLngs:function(i){var s=xn.prototype._convertLatLngs.call(this,i),r=s.length;return r>=2&&s[0]instanceof Pt&&s[0].equals(s[r-1])&&s.pop(),s},_setLatLngs:function(i){xn.prototype._setLatLngs.call(this,i),Fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,r=new Y(s,s);if(i=new It(i.min.subtract(r),i.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,p;u<d;u++)p=Gh(this._rings[u],i,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,r,u,d,p,v,b,w,C;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(p=0,w=this._parts.length;p<w;p++)for(r=this._parts[p],v=0,C=r.length,b=C-1;v<C;b=v++)u=r[v],d=r[b],u.y>i.y!=d.y>i.y&&i.x<(d.x-u.x)*(i.y-u.y)/(d.y-u.y)+u.x&&(s=!s);return s||xn.prototype._containsPoint.call(this,i,!0)}}),Pn=ns.extend({initialize:function(i,s){Nt(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=Pe(i)?i:i.features,r,u,d;if(s){for(r=0,u=s.length;r<u;r++)d=s[r],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var p=this.options;if(p.filter&&!p.filter(i))return this;var v=Gs(i,p);return v?(v.feature=ds(i),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(i,v),this.addLayer(v)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=bt({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Gs(i,s){var r=i.type==="Feature"?i.geometry:i,u=r?r.coordinates:null,d=[],p=s&&s.pointToLayer,v=s&&s.coordsToLatLng||qs,b,w,C,E;if(!u&&!r)return null;switch(r.type){case"Point":return b=v(u),Sr(p,i,b,s);case"MultiPoint":for(C=0,E=u.length;C<E;C++)b=v(u[C]),d.push(Sr(p,i,b,s));return new ns(d);case"LineString":case"MultiLineString":return w=rs(u,r.type==="LineString"?0:1,v),new xn(w,s);case"Polygon":case"MultiPolygon":return w=rs(u,r.type==="Polygon"?1:2,v),new ss(w,s);case"GeometryCollection":for(C=0,E=r.geometries.length;C<E;C++){var k=Gs({geometry:r.geometries[C],type:"Feature",properties:i.properties},s);k&&d.push(k)}return new ns(d);default:throw new Error("Invalid GeoJSON object.")}}function Sr(i,s,r,u){return i?i(s,r):new da(r,u&&u.markersInheritOptions&&u)}function qs(i){return new Pt(i[1],i[0],i[2])}function rs(i,s,r){for(var u=[],d=0,p=i.length,v;d<p;d++)v=s?rs(i[d],s-1,r):(r||qs)(i[d]),u.push(v);return u}function Ks(i,s){return i=At(i),i.alt!==void 0?[ye(i.lng,s),ye(i.lat,s),ye(i.alt,s)]:[ye(i.lng,s),ye(i.lat,s)]}function cs(i,s,r,u){for(var d=[],p=0,v=i.length;p<v;p++)d.push(s?cs(i[p],s-1,r,u):Ks(i[p],u));return!s&&r&&d.push(d[0]),d}function Kn(i,s){return i.feature?bt({},i.feature,{geometry:s}):ds(s)}function ds(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ys={toGeoJSON:function(i){return Kn(this,{type:"Point",coordinates:Ks(this.getLatLng(),i)})}};da.include(Ys);Yh.include(Ys);_a.include(Ys);xn.include({toGeoJSON:function(i){var s=!Fe(this._latlngs),r=cs(this._latlngs,s?1:0,!1,i);return Kn(this,{type:(s?"Multi":"")+"LineString",coordinates:r})}});ss.include({toGeoJSON:function(i){var s=!Fe(this._latlngs),r=s&&!Fe(this._latlngs[0]),u=cs(this._latlngs,r?2:s?1:0,!0,i);return s||(u=[u]),Kn(this,{type:(r?"Multi":"")+"Polygon",coordinates:u})}});Xo.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(r){s.push(r.toGeoJSON(i).geometry.coordinates)}),Kn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var r=s==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var p=d.toGeoJSON(i);if(r)u.push(p.geometry);else{var v=ds(p);v.type==="FeatureCollection"?u.push.apply(u,v.features):u.push(v)}}}),r?Kn(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});var fa=ee.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,r){this._url=i,this._bounds=$t(s),Nt(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&zo(this._image),this},bringToBack:function(){return this._map&&Co(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=$t(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:_t("img");if(tt(s,"leaflet-image-layer"),this._zoomAnimated&&tt(s,"leaflet-zoom-animated"),this.options.className&&tt(s,this.options.className),s.onselectstart=jt,s.onmousemove=jt,s.onload=kt(this.fire,this,"load"),s.onerror=kt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Vn(this._image,r,s)},_reset:function(){var i=this._image,s=new It(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=s.getSize();Vt(i,s.min),i.style.width=r.x+"px",i.style.height=r.y+"px"},_updateOpacity:function(){Hi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}});fa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:_t("video");if(tt(s,"leaflet-image-layer"),this._zoomAnimated&&tt(s,"leaflet-zoom-animated"),this.options.className&&tt(s,this.options.className),s.onselectstart=jt,s.onmousemove=jt,s.onloadeddata=kt(this.fire,this,"load"),i){for(var r=s.getElementsByTagName("source"),u=[],d=0;d<r.length;d++)u.push(r[d].src);this._url=r.length>0?u:[s.src];return}Pe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=_t("source");v.src=this._url[p],s.appendChild(v)}}});fa.extend({_initImage:function(){var i=this._image=this._url;tt(i,"leaflet-image-layer"),this._zoomAnimated&&tt(i,"leaflet-zoom-animated"),this.options.className&&tt(i,this.options.className),i.onselectstart=jt,i.onmousemove=jt}});var xe=ee.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(i,s){Nt(this,i),this._source=s},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Hi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Hi(this._container,1),this.bringToFront(),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Hi(this._container,0),this._removeTimeout=setTimeout(kt(Ot,void 0,this._container),200)):Ot(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=At(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zo(this._container),this},bringToBack:function(){return this._map&&Co(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof ns){s=null;var r=this._source._layers;for(var u in r)if(r[u]._map){s=r[u];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=st(this.options.offset),r=this._getAnchor();this._zoomAnimated?Vt(this._container,i.add(r)):s=s.add(i).add(r);var u=this._containerBottom=-s.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(i,s,r,u){var d=s;return d instanceof i||(d=new i(u).setContent(s)),r&&d.setLatLng(r),d}});ee.include({_initOverlay:function(i,s,r,u){var d=r;return d instanceof i?(Nt(d,u),d._source=this):(d=s&&!u?s:new i(u,this),d.setContent(r)),d}});var pa=xe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,xe.prototype.openOn.call(this,i)},onAdd:function(i){xe.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wn||this._source.on("preclick",Fn))},onRemove:function(i){xe.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wn||this._source.off("preclick",Fn))},getEvents:function(){var i=xe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=_t("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=_t("div",i+"-content-wrapper",s);if(this._contentNode=_t("div",i+"-content",r),ls(s),ra(this._contentNode),it(s,"contextmenu",Fn),this._tipContainer=_t("div",i+"-tip-container",s),this._tip=_t("div",i+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=_t("a",i+"-close-button",s);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',it(u,"click",this.close,this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var r=i.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),s.width=r+1+"px",s.whiteSpace="",s.height="";var u=i.offsetHeight,d=this.options.maxHeight,p="leaflet-popup-scrolled";d&&u>d?(s.height=d+"px",tt(i,p)):Wt(i,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),r=this._getAnchor();Vt(this._container,s.add(r))},_adjustPan:function(i){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var s=this._map,r=parseInt(ts(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,d=this._containerWidth,p=new Y(this._containerLeft,-u-this._containerBottom);p._add(Gn(this._container));var v=s.layerPointToContainerPoint(p),b=st(this.options.autoPanPadding),w=st(this.options.autoPanPaddingTopLeft||b),C=st(this.options.autoPanPaddingBottomRight||b),E=s.getSize(),k=0,N=0;v.x+d+C.x>E.x&&(k=v.x+d-E.x+C.x),v.x-k-w.x<0&&(k=v.x-w.x),v.y+u+C.y>E.y&&(N=v.y+u-E.y+C.y),v.y-N-w.y<0&&(N=v.y-w.y),(k||N)&&s.fire("autopanstart").panBy([k,N],{animate:i&&i.type==="moveend"})}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});lt.mergeOptions({closePopupOnClick:!0});lt.include({openPopup:function(i,s,r){return this._initOverlay(pa,i,s,r).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}});ee.include({bindPopup:function(i,s){return this._popup=this._initOverlay(pa,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&this._popup._prepareOpen(i)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){qn(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ma=xe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){xe.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){xe.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=xe.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",s)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,r,u=this._map,d=this._container,p=u.latLngToContainerPoint(u.getCenter()),v=u.layerPointToContainerPoint(i),b=this.options.direction,w=d.offsetWidth,C=d.offsetHeight,E=st(this.options.offset),k=this._getAnchor();b==="top"?(s=w/2,r=C):b==="bottom"?(s=w/2,r=0):b==="center"?(s=w/2,r=C/2):b==="right"?(s=0,r=C/2):b==="left"?(s=w,r=C/2):v.x<p.x?(b="right",s=0,r=C/2):(b="left",s=w+(E.x+k.x)*2,r=C/2),i=i.subtract(st(s,r,!0)).add(E).add(k),Wt(d,"leaflet-tooltip-right"),Wt(d,"leaflet-tooltip-left"),Wt(d,"leaflet-tooltip-top"),Wt(d,"leaflet-tooltip-bottom"),tt(d,"leaflet-tooltip-"+b),Vt(d,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Hi(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});lt.include({openTooltip:function(i,s,r){return this._initOverlay(ma,i,s,r).openOn(this),this},closeTooltip:function(i){return i.close(),this}});ee.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ma,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[s](r),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&this._tooltip._prepareOpen(i)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_openTooltip:function(i){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0))},_moveTooltip:function(i){var s=i.latlng,r,u;this._tooltip.options.sticky&&i.originalEvent&&(r=this._map.mouseEventToContainerPoint(i.originalEvent),u=this._map.containerPointToLayerPoint(r),s=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(s)}});os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Ss(s),s.appendChild(r.html)):s.innerHTML=r.html!==!1?r.html:"",r.bgPos){var u=st(r.bgPos);s.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});os.Default=bo;var Ts=ee.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){Nt(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ot(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Co(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ya(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof Y?i:new Y(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,r=-i(-1/0,1/0),u=0,d=s.length,p;u<d;u++)p=s[u].style.zIndex,s[u]!==this._container&&p&&(r=i(r,+p));isFinite(r)&&(this.options.zIndex=r+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!H.ielt9){Hi(this._container,this.options.opacity);var i=+new Date,s=!1,r=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var p=Math.min(1,(i-d.loaded)/200);Hi(d.el,p),p<1?s=!0:(d.active?r=!0:this._onOpaqueTile(d),d.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),s&&(Wi(this._fadeFrame),this._fadeFrame=mi(this._updateOpacity,this))}},_onOpaqueTile:jt,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===i?(this._levels[r].el.style.zIndex=s-Math.abs(i-r),this._onUpdateLevel(r)):(Ot(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var u=this._levels[i],d=this._map;return u||(u=this._levels[i]={},u.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=s,u.origin=d.project(d.unproject(d.getPixelOrigin()),i).round(),u.zoom=i,this._setZoomTransform(u,d.getCenter(),d.getZoom()),jt(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:jt,_onRemoveLevel:jt,_onCreateLevel:jt,_pruneTiles:function(){if(!!this._map){var i,s,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var u=s.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ot(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,r,u){var d=Math.floor(i/2),p=Math.floor(s/2),v=r-1,b=new Y(+d,+p);b.z=+v;var w=this._tileCoordsToKey(b),C=this._tiles[w];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>u?this._retainParent(d,p,v,u):!1)},_retainChildren:function(i,s,r,u){for(var d=2*i;d<2*i+2;d++)for(var p=2*s;p<2*s+2;p++){var v=new Y(d,p);v.z=r+1;var b=this._tileCoordsToKey(v),w=this._tiles[b];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);r+1<u&&this._retainChildren(d,p,r+1,u)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,r,u){var d=Math.round(s);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var p=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||p)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(i),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var r in this._levels)this._setZoomTransform(this._levels[r],i,s)},_setZoomTransform:function(i,s,r){var u=this._map.getZoomScale(r,i.zoom),d=i.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(s,r)).round();H.any3d?Vn(i.el,d,u):Vt(i.el,d)},_resetGrid:function(){var i=this._map,s=i.options.crs,r=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],u).x/r.x),Math.ceil(i.project([0,s.wrapLng[1]],u).x/r.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],u).y/r.x),Math.ceil(i.project([s.wrapLat[1],0],u).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,r=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),u=s.getZoomScale(r,this._tileZoom),d=s.project(i,this._tileZoom).floor(),p=s.getSize().divideBy(u*2);return new It(d.subtract(p),d.add(p))},_update:function(i){var s=this._map;if(!!s){var r=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(i),d=this._pxBoundsToTileRange(u),p=d.getCenter(),v=[],b=this.options.keepBuffer,w=new It(d.getBottomLeft().subtract([b,-b]),d.getTopRight().add([b,-b]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var E=this._tiles[C].coords;(E.z!==this._tileZoom||!w.contains(new Y(E.x,E.y)))&&(this._tiles[C].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(i,r);return}for(var k=d.min.y;k<=d.max.y;k++)for(var N=d.min.x;N<=d.max.x;N++){var Yt=new Y(N,k);if(Yt.z=this._tileZoom,!!this._isValidTile(Yt)){var Bt=this._tiles[this._tileCoordsToKey(Yt)];Bt?Bt.current=!0:v.push(Yt)}}if(v.sort(function(ai,Ve){return ai.distanceTo(p)-Ve.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var W=document.createDocumentFragment();for(N=0;N<v.length;N++)this._addTile(v[N],W);this._level.el.appendChild(W)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var r=this._globalTileRange;if(!s.wrapLng&&(i.x<r.min.x||i.x>r.max.x)||!s.wrapLat&&(i.y<r.min.y||i.y>r.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(i);return $t(this.options.bounds).overlaps(u)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,r=this.getTileSize(),u=i.scaleBy(r),d=u.add(r),p=s.unproject(u,i.z),v=s.unproject(d,i.z);return[p,v]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),r=new gi(s[0],s[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),r=new Y(+s[0],+s[1]);return r.z=+s[2],r},_removeTile:function(i){var s=this._tiles[i];!s||(Ot(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){tt(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=jt,i.onmousemove=jt,H.ielt9&&this.options.opacity<1&&Hi(i,this.options.opacity)},_addTile:function(i,s){var r=this._getTilePos(i),u=this._tileCoordsToKey(i),d=this.createTile(this._wrapCoords(i),kt(this._tileReady,this,i));this._initTile(d),this.createTile.length<2&&mi(kt(this._tileReady,this,i,null,d)),Vt(d,r),this._tiles[u]={el:d,coords:i,current:!0},s.appendChild(d),this.fire("tileloadstart",{tile:d,coords:i})},_tileReady:function(i,s,r){s&&this.fire("tileerror",{error:s,tile:r,coords:i});var u=this._tileCoordsToKey(i);r=this._tiles[u],r&&(r.loaded=+new Date,this._map._fadeAnimated?(Hi(r.el,0),Wi(this._fadeFrame),this._fadeFrame=mi(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),s||(tt(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?mi(this._pruneTiles,this):setTimeout(kt(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new Y(this._wrapX?$o(i.x,this._wrapX):i.x,this._wrapY?$o(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new It(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}}),Jo=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=Nt(this,s),s.detectRetina&&H.retina&&s.maxZoom>0&&(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom++):(s.zoomOffset++,s.maxZoom--),s.minZoom=Math.max(0,s.minZoom)),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var r=document.createElement("img");return it(r,"load",kt(this._tileOnLoad,this,s,r)),it(r,"error",kt(this._tileOnError,this,s,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(i),r},getTileUrl:function(i){var s={r:H.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=r),s["-y"]=r}return Qa(this._url,bt(s,this.options))},_tileOnLoad:function(i,s){H.ielt9?setTimeout(kt(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,r){var u=this.options.errorTileUrl;u&&s.getAttribute("src")!==u&&(s.src=u),i(r,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,r=this.options.zoomReverse,u=this.options.zoomOffset;return r&&(i=s-i),i+u},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=jt,s.onerror=jt,!s.complete)){s.src=Ls;var r=this._tiles[i].coords;Ot(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:r})}},_removeTile:function(i){var s=this._tiles[i];if(!!s)return s.el.setAttribute("src",Ls),Ts.prototype._removeTile.call(this,i)},_tileReady:function(i,s,r){if(!(!this._map||r&&r.getAttribute("src")===Ls))return Ts.prototype._tileReady.call(this,i,s,r)}}),Xh=Jo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var r=bt({},this.defaultWmsParams);for(var u in s)u in this.options||(r[u]=s[u]);s=Nt(this,s);var d=s.detectRetina&&H.retina?2:1,p=this.getTileSize();r.width=p.x*d,r.height=p.y*d,this.wmsParams=r},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Jo.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),r=this._crs,u=te(r.project(s[0]),r.project(s[1])),d=u.min,p=u.max,v=(this._wmsVersion>=1.3&&this._crs===ca?[d.y,d.x,p.y,p.x]:[d.x,d.y,p.x,p.y]).join(","),b=Jo.prototype.getTileUrl.call(this,i);return b+Xa(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(i,s){return bt(this.wmsParams,i),s||this.redraw(),this}});Jo.WMS=Xh;var He=ee.extend({options:{padding:.1},initialize:function(i){Nt(this,i),ft(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var r=this._map.getZoomScale(s,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,s),p=u.multiplyBy(-r).add(d).subtract(this._map._getNewPixelOrigin(i,s));H.any3d?Vn(this._container,p,r):Vt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),r=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new It(r,r.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jh=He.extend({options:{tolerance:0},getEvents:function(){var i=He.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){He.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");it(i,"mousemove",this._onMouseMove,this),it(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),it(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Wi(this._redrawRequest),delete this._ctx,Ot(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var i=this._bounds,s=this._container,r=i.getSize(),u=H.retina?2:1;Vt(s,i.min),s.width=u*r.x,s.height=u*r.y,s.style.width=r.x+"px",s.style.height=r.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){He.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[ft(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,r=s.next,u=s.prev;r?r.prev=u:this._drawLast=u,u?u.next=r:this._drawFirst=r,delete i._order,delete this._layers[ft(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),r=[],u,d;for(d=0;d<s.length;d++){if(u=Number(s[d]),isNaN(u))return;r.push(u)}i.options._dashArray=r}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){!this._map||(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||mi(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new It,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var r=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)i=u.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(!!this._drawing){var r,u,d,p,v=i._parts,b=v.length,w=this._ctx;if(!!b){for(w.beginPath(),r=0;r<b;r++){for(u=0,d=v[r].length;u<d;u++)p=v[r][u],w[u?"lineTo":"moveTo"](p.x,p.y);s&&w.closePath()}this._fillStroke(w,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,r=this._ctx,u=Math.max(Math.round(i._radius),1),d=(Math.max(Math.round(i._radiusY),1)||u)/u;d!==1&&(r.save(),r.scale(1,d)),r.beginPath(),r.arc(s.x,s.y/d,u,0,Math.PI*2,!1),d!==1&&r.restore(),this._fillStroke(r,i)}},_fillStroke:function(i,s){var r=s.options;r.fill&&(i.globalAlpha=r.fillOpacity,i.fillStyle=r.fillColor||r.color,i.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=r.opacity,i.lineWidth=r.weight,i.strokeStyle=r.color,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),r,u,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(r))&&(u=r);this._fireEvent(u?[u]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var r,u,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(s)&&(u=r);u!==this._hoveredLayer&&(this._handleMouseOut(i),u&&(tt(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(kt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,r){this._map._fireDOMEvent(s,r||s.type,i)},_bringToFront:function(i){var s=i._order;if(!!s){var r=s.next,u=s.prev;if(r)r.prev=u;else return;u?u.next=r:r&&(this._drawFirst=r),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(!!s){var r=s.next,u=s.prev;if(u)u.next=r;else return;r?r.prev=u:u&&(this._drawLast=u),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Qh(i){return H.canvas?new Jh(i):null}var Lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$h={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(He.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Lo("shape");tt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Lo("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[ft(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Ot(s),i.removeInteractiveTarget(s),delete this._layers[ft(i)]},_updateStyle:function(i){var s=i._stroke,r=i._fill,u=i.options,d=i._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(s||(s=i._stroke=Lo("stroke")),d.appendChild(s),s.weight=u.weight+"px",s.color=u.color,s.opacity=u.opacity,u.dashArray?s.dashStyle=Pe(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=u.lineCap.replace("butt","flat"),s.joinstyle=u.lineJoin):s&&(d.removeChild(s),i._stroke=null),u.fill?(r||(r=i._fill=Lo("fill")),d.appendChild(r),r.color=u.fillColor||u.color,r.opacity=u.fillOpacity):r&&(d.removeChild(r),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),r=Math.round(i._radius),u=Math.round(i._radiusY||r);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+r+","+u+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){zo(i._container)},_bringToBack:function(i){Co(i._container)}},Qo=H.vml?Lo:Ir,_s=He.extend({_initContainer:function(){this._container=Qo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ot(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var i=this._bounds,s=i.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,r.setAttribute("width",s.x),r.setAttribute("height",s.y)),Vt(r,i.min),r.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Qo("path");i.options.className&&tt(s,i.options.className),i.options.interactive&&tt(s,"leaflet-interactive"),this._updateStyle(i),this._layers[ft(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ot(i._path),i.removeInteractiveTarget(i._path),delete this._layers[ft(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,r=i.options;!s||(r.stroke?(s.setAttribute("stroke",r.color),s.setAttribute("stroke-opacity",r.opacity),s.setAttribute("stroke-width",r.weight),s.setAttribute("stroke-linecap",r.lineCap),s.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?s.setAttribute("stroke-dasharray",r.dashArray):s.removeAttribute("stroke-dasharray"),r.dashOffset?s.setAttribute("stroke-dashoffset",r.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),r.fill?(s.setAttribute("fill",r.fillColor||r.color),s.setAttribute("fill-opacity",r.fillOpacity),s.setAttribute("fill-rule",r.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,Br(i._parts,s))},_updateCircle:function(i){var s=i._point,r=Math.max(Math.round(i._radius),1),u=Math.max(Math.round(i._radiusY),1)||r,d="a"+r+","+u+" 0 1,0 ",p=i._empty()?"M0 0":"M"+(s.x-r)+","+s.y+d+r*2+",0 "+d+-r*2+",0 ";this._setPath(i,p)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){zo(i._path)},_bringToBack:function(i){Co(i._path)}});H.vml&&_s.include($h);function tu(i){return H.svg||H.vml?new _s(i):null}lt.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Qh(i)||tu(i)}});ss.extend({initialize:function(i,s){ss.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=$t(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});_s.create=Qo;_s.pointsToPath=Br;Pn.geometryToLayer=Gs;Pn.coordsToLatLng=qs;Pn.coordsToLatLngs=rs;Pn.latLngToCoords=Ks;Pn.latLngsToCoords=cs;Pn.getFeature=Kn;Pn.asFeature=ds;lt.mergeOptions({boxZoom:!0});var ga=Le.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),is(),ea(),this._startPoint=this._map.mouseEventToContainerPoint(i),it(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new It(this._point,this._startPoint),r=s.getSize();Vt(this._box,s.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Ot(this._box),Wt(this._container,"leaflet-crosshair")),es(),na(),zt(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(kt(this._resetState,this),0);var s=new gi(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",ga);lt.mergeOptions({doubleClickZoom:!0});var va=Le.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,r=s.getZoom(),u=s.options.zoomDelta,d=i.originalEvent.shiftKey?r-u:r+u;s.options.doubleClickZoom==="center"?s.setZoom(d):s.setZoomAround(i.containerPoint,d)}});lt.addInitHook("addHandler","doubleClickZoom",va);lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ya=Le.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new yn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=$t(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),r=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-s+r)%i+s-r,p=(u+s+r)%i-s-r,v=Math.abs(d+r)<Math.abs(p+r)?d:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(i){var s=this._map,r=s.options,u=!r.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),u)s.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=r.easeLinearity,b=d.multiplyBy(v/p),w=b.distanceTo([0,0]),C=Math.min(r.inertiaMaxSpeed,w),E=b.multiplyBy(C/w),k=C/(r.inertiaDeceleration*v),N=E.multiplyBy(-k/2).round();!N.x&&!N.y?s.fire("moveend"):(N=s._limitOffset(N,s.options.maxBounds),mi(function(){s.panBy(N,{duration:k,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",ya);lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xa=Le.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),it(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,r=i.scrollTop||s.scrollTop,u=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(u,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},r=this.keyCodes,u,d;for(u=0,d=r.left.length;u<d;u++)s[r.left[u]]=[-1*i,0];for(u=0,d=r.right.length;u<d;u++)s[r.right[u]]=[i,0];for(u=0,d=r.down.length;u<d;u++)s[r.down[u]]=[0,i];for(u=0,d=r.up.length;u<d;u++)s[r.up[u]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},r=this.keyCodes,u,d;for(u=0,d=r.zoomIn.length;u<d;u++)s[r.zoomIn[u]]=i;for(u=0,d=r.zoomOut.length;u<d;u++)s[r.zoomOut[u]]=-i},_addHooks:function(){it(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,r=this._map,u;if(s in this._panKeys)(!r._panAnim||!r._panAnim._inProgress)&&(u=this._panKeys[s],i.shiftKey&&(u=st(u).multiplyBy(3)),r.panBy(u),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(s in this._zoomKeys)r.setZoom(r.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;qn(i)}}});lt.addInitHook("addHandler","keyboard",xa);lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wa=Le.extend({addHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=Oh(i),r=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var u=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(kt(this._performZoom,this),u),qn(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),r=this._map.options.zoomSnap||0;i._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,p=r?Math.ceil(d/r)*r:d,v=i._limitZoom(s+(this._delta>0?p:-p))-s;this._delta=0,this._startTime=null,v&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+v):i.setZoomAround(this._lastMousePos,s+v))}});lt.addInitHook("addHandler","scrollWheelZoom",wa);var iu=600;lt.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var Pa=Le.extend({addHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new Y(s.clientX,s.clientY),this._holdTimeout=setTimeout(kt(function(){this._cancel(),this._isTapValid()&&(it(document,"touchend",ri),it(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),iu),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){zt(document,"touchend",ri),zt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new Y(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var r=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});r._simulated=!0,s.target.dispatchEvent(r)}});lt.addInitHook("addHandler","tapHold",Pa);lt.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var La=Le.extend({addHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var r=s.mouseEventToContainerPoint(i.touches[0]),u=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(r.add(u)._divideBy(2))),this._startDist=r.distanceTo(u),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),ri(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,r=s.mouseEventToContainerPoint(i.touches[0]),u=s.mouseEventToContainerPoint(i.touches[1]),d=r.distanceTo(u)/this._startDist;if(this._zoom=s.getScaleZoom(d,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&d<1||this._zoom>s.getMaxZoom()&&d>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var p=r._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&p.x===0&&p.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Wi(this._animRequest);var v=kt(s._move,s,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=mi(v,this,!0),ri(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Wi(this._animRequest),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",La);lt.BoxZoom=ga;lt.DoubleClickZoom=va;lt.Drag=ya;lt.Keyboard=xa;lt.ScrollWheelZoom=wa;lt.TapHold=Pa;lt.TouchZoom=La;var eu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",nu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";const ou=Si.exports.icon({iconUrl:eu,shadowUrl:nu});Si.exports.Marker.prototype.options.icon=ou;const su={name:"ImageMap",data(){return{imageMap:""}},mounted(){this.initDate()},methods:{initDate(){var i=Si.exports.map("imageMap",{minZoom:1,maxZoom:4,center:[0,0],zoom:1,crs:Si.exports.CRS.Simple}),s=3500,r=3e3,u="http://39.108.233.81:7239/map/CC2022010126.jpg",d=i.unproject([0,r],i.getMaxZoom()-1),p=i.unproject([s,0],i.getMaxZoom()-1),v=new Si.exports.LatLngBounds(d,p);Si.exports.imageOverlay(u,v).addTo(i),Si.exports.marker([-230,156]).addTo(i).bindPopup("<b>\u6587\u5B57\u63D0\u793A1</b><br />I am a popup.").openPopup(),Si.exports.marker([-230,320]).addTo(i).bindPopup("<b>\u6587\u5B57\u63D0\u793A2</b><br />I am a popup.").openPopup(),Si.exports.marker([-100,56]).addTo(i).bindPopup("<b>\u6587\u5B57\u63D0\u793A5</b><br />I am a popup.").openPopup(),Si.exports.marker([-80,400]).addTo(i).bindPopup("<b>\u6587\u5B57\u63D0\u793A6</b><br />I am a popup.").openPopup().addTo(i),i.setMaxBounds(v)}}},ru={id:"imageMap"};function au(i,s,r,u,d,p){return Ga(),qa("div",ru)}var uu=Va(su,[["render",au]]);export{uu as default};
